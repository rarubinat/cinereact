/*! For license information please see main.e3ef177b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+_(u,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var l=o+_(s=e[c],c);u+=C(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=o+_(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},P={transition:null},O={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(S);else{var t=r(l);null!==t&&O(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var o=d;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!C());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&O(x,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,I=null,N=-1,T=5,_=-1;function C(){return!(t.unstable_now()-_<T)}function A(){if(null!==I){var e=t.unstable_now();_=e;var n=!0;try{n=I(!0,e)}finally{n?E():(k=!1,I=null)}}else k=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,j=D.port2;D.port1.onmessage=A,E=function(){j.postMessage(null)}}else E=function(){v(A,0)};function P(e){I=e,k||(k=!0,E())}function O(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(y(N),N=-1):g=!0,O(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ht){var r=Ht}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ht){r=Ht}e.call(t.prototype)}else{try{throw Error()}catch(Ht){r=Ht}e()}}catch(Ht){if(Ht&&r&&"string"===typeof Ht.stack){for(var i=Ht.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return le(e,t)})}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Ie(e){if(e=ki(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ni(t),Se(e.stateNode,e.type,t))}}function Ne(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function _e(e,t){return e(t)}function Ce(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return _e(e,t,n)}finally{Ae=!1,(null!==Ee||null!==ke)&&(Ce(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=Ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Re(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,o,a,s,u){Le=!1,Me=null,Re.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,kt,It,Nt=!1,Tt=[],_t=null,Ct=null,At=null,Dt=new Map,jt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=Ei(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Nt=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),jt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return qt(t,e)}if(0<Tt.length){qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&qt(_t,e),null!==Ct&&qt(Ct,e),null!==At&&qt(At,e),Dt.forEach(t),jt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Kt=w.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=bt,o=Kt.transition;Kt.transition=null;try{bt=1,$t(e,t,n,r)}finally{bt=i,Kt.transition=o}}function Qt(e,t,n,r){var i=bt,o=Kt.transition;Kt.transition=null;try{bt=4,$t(e,t,n,r)}finally{bt=i,Kt.transition=o}}function $t(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)$r(e,t,r,Yt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Lt(_t,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Lt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jt.set(o,Lt(jt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=ki(i);if(null!==o&&xt(o),null===(o=Xt(e,t,n,r))&&$r(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=Ei(e=xe(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function un(){return!1}function cn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:un,this.isPropagationStopped=un,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,hn,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=cn(dn),mn=M({},dn,{view:0,detail:0}),gn=cn(mn),vn=M({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,hn=e.screenY-fn.screenY):hn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:hn}}),yn=cn(vn),bn=cn(M({},vn,{dataTransfer:0})),wn=cn(M({},mn,{relatedTarget:0})),xn=cn(M({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),Sn=M({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=cn(Sn),kn=cn(M({},dn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return _n}var An=M({},mn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=cn(An),jn=cn(M({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=cn(M({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=cn(M({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=cn(Rn),Mn=[9,13,27,32],Fn=l&&"CompositionEvent"in window,Un=null;l&&"documentMode"in document&&(Un=document.documentMode);var Vn=l&&"TextEvent"in window&&!Un,Bn=l&&(!Fn||Un&&8<Un&&11>=Un),qn=String.fromCharCode(32),zn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function $n(e,t,n,r){Ne(r),0<(t=Xr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){zr(e,0)}function Zn(e){if(G(Ii(e)))return e}function er(e,t){if("change"===e)return t}var tr=!1;if(l){var nr;if(l){var rr="oninput"in document;if(!rr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),rr="function"===typeof ir.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function or(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];$n(t,Xn,e,xe(e)),De(Jn,t)}}function sr(e,t,n){"focusin"===e?(or(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&or()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function cr(e,t){if("click"===e)return Zn(t)}function lr(e,t){if("input"===e||"change"===e)return Zn(t)}var hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function fr(e,t){if(hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!hr(e[i],t[i]))return!1}return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function yr(e){var t=gr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mr(n.ownerDocument.documentElement,n)){if(null!==r&&vr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=pr(n,o);var a=pr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var br=l&&"documentMode"in document&&11>=document.documentMode,wr=null,xr=null,Sr=null,Er=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==wr||wr!==Q(r)||("selectionStart"in(r=wr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Sr&&fr(Sr,r)||(Sr=r,0<(r=Xr(xr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionend:Ir("Transition","TransitionEnd")},Tr={},_r={};function Ar(e){if(Tr[e])return Tr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Tr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Dr=Ar("animationend"),jr=Ar("animationiteration"),Pr=Ar("animationstart"),Or=Ar("transitionend"),Rr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Rr.set(e,t),u(t,[e])}for(var Fr=0;Fr<Lr.length;Fr++){var Ur=Lr[Fr];Mr(Ur.toLowerCase(),"on"+(Ur[0].toUpperCase()+Ur.slice(1)))}Mr(Dr,"onAnimationEnd"),Mr(jr,"onAnimationIteration"),Mr(Pr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;qr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;qr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Hr(e,t){var n=t[wi];void 0===n&&(n=t[wi]=new Set);var r=e+"__bubble";n.has(r)||(Qr(t,e,2,!1),n.add(r))}function Kr(e,t,n){var r=0;t&&(r|=4),Qr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Wr]){e[Wr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Br.has(t)||Kr(t,!1,e),Kr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Kr("selectionchange",!1,t))}}function Qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ei(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}De(function(){var r=o,i=xe(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var u=pn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Dn;break;case"focusin":c="focus",u=wn;break;case"focusout":c="blur",u=wn;break;case"beforeblur":case"afterblur":u=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Dr:case jr:case Pr:u=xn;break;case Or:u=On;break;case"scroll":u=gn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=jn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=je(p,f))&&l.push(Yr(p,m,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!Ei(c)&&!c[bi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ei(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=jn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:Ii(u),d=null==c?s:Ii(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,Ei(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Jr(d))p++;for(d=0,m=f;m;m=Jr(m))d++;for(;0<p-d;)l=Jr(l),p--;for(;0<d-p;)f=Jr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Jr(l),f=Jr(f)}l=null}else l=null;null!==u&&Zr(a,s,u,l,!1),null!==c&&null!==h&&Zr(a,h,c,l,!0)}if("select"===(u=(s=r?Ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=er;else if(Qn(s))if(tr)g=lr;else{g=ur;var v=sr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=cr);switch(g&&(g=g(e,r))?$n(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Ii(r):window,e){case"focusin":(Qn(v)||"true"===v.contentEditable)&&(wr=v,xr=r,Sr=null);break;case"focusout":Sr=xr=wr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,kr(a,n,i);break;case"selectionchange":if(br)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(tn="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Xr(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Kn(n))&&(b.data=y))),(y=Vn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,qn);case"textInput":return(e=t.data)===qn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&Hn(e,t)?(e=rn(),nn=tn=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}zr(a,t)})}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Yr(e,o,i)),null!=(o=je(e,t))&&r.push(Yr(e,o,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=je(n,o))&&a.unshift(Yr(n,u,s)):i||null!=(u=je(n,o))&&a.push(Yr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ei=/\r\n?/g,ti=/\u0000|\uFFFD/g;function ni(e){return("string"===typeof e?e:""+e).replace(ei,"\n").replace(ti,"")}function ri(e,t,n){if(t=ni(t),ni(e)!==t&&n)throw Error(o(425))}function ii(){}var oi=null,ai=null;function si(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ui="function"===typeof setTimeout?setTimeout:void 0,ci="function"===typeof clearTimeout?clearTimeout:void 0,li="function"===typeof Promise?Promise:void 0,hi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof li?function(e){return li.resolve(null).then(e).catch(fi)}:ui;function fi(e){setTimeout(function(){throw e})}function di(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function pi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function mi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),vi="__reactFiber$"+gi,yi="__reactProps$"+gi,bi="__reactContainer$"+gi,wi="__reactEvents$"+gi,xi="__reactListeners$"+gi,Si="__reactHandles$"+gi;function Ei(e){var t=e[vi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bi]||n[vi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=mi(e);null!==e;){if(n=e[vi])return n;e=mi(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[vi]||e[bi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ni(e){return e[yi]||null}var Ti=[],_i=-1;function Ci(e){return{current:e}}function Ai(e){0>_i||(e.current=Ti[_i],Ti[_i]=null,_i--)}function Di(e,t){_i++,Ti[_i]=e.current,e.current=t}var ji={},Pi=Ci(ji),Oi=Ci(!1),Ri=ji;function Li(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fi(){Ai(Oi),Ai(Pi)}function Ui(e,t,n){if(Pi.current!==ji)throw Error(o(168));Di(Pi,t),Di(Oi,n)}function Vi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return M({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,Ri=Pi.current,Di(Pi,e),Di(Oi,Oi.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Vi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ai(Oi),Ai(Pi),Di(Pi,e)):Ai(Oi),Di(Oi,n)}var zi=null,Hi=!1,Ki=!1;function Wi(e){null===zi?zi=[e]:zi.push(e)}function Gi(){if(!Ki&&null!==zi){Ki=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Hi=!1}catch(fg){throw null!==zi&&(zi=zi.slice(e+1)),Ge(Ze,Gi),fg}finally{bt=t,Ki=!1}}return null}var Qi=[],$i=0,Yi=null,Xi=0,Ji=[],Zi=0,eo=null,to=1,no="";function ro(e,t){Qi[$i++]=Xi,Qi[$i++]=Yi,Yi=e,Xi=t}function io(e,t,n){Ji[Zi++]=to,Ji[Zi++]=no,Ji[Zi++]=eo,eo=e;var r=to;e=no;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,to=1<<32-at(t)+i|n<<i|r,no=o+e}else to=1<<o|n<<i|r,no=e}function oo(e){null!==e.return&&(ro(e,1),io(e,1,0))}function ao(e){for(;e===Yi;)Yi=Qi[--$i],Qi[$i]=null,Xi=Qi[--$i],Qi[$i]=null;for(;e===eo;)eo=Ji[--Zi],Ji[Zi]=null,no=Ji[--Zi],Ji[Zi]=null,to=Ji[--Zi],Ji[Zi]=null}var so=null,uo=null,co=!1,lo=null;function ho(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function fo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,so=e,uo=pi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,so=e,uo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==eo?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,so=e,uo=null,!0);default:return!1}}function po(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function mo(e){if(co){var t=uo;if(t){var n=t;if(!fo(e,t)){if(po(e))throw Error(o(418));t=pi(n.nextSibling);var r=so;t&&fo(e,t)?ho(r,n):(e.flags=-4097&e.flags|2,co=!1,so=e)}}else{if(po(e))throw Error(o(418));e.flags=-4097&e.flags|2,co=!1,so=e}}}function go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;so=e}function vo(e){if(e!==so)return!1;if(!co)return go(e),co=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!si(e.type,e.memoizedProps)),t&&(t=uo)){if(po(e))throw yo(),Error(o(418));for(;t;)ho(e,t),t=pi(t.nextSibling)}if(go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){uo=pi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}uo=null}}else uo=so?pi(e.stateNode.nextSibling):null;return!0}function yo(){for(var e=uo;e;)e=pi(e.nextSibling)}function bo(){uo=so=null,co=!1}function wo(e){null===lo?lo=[e]:lo.push(e)}var xo=w.ReactCurrentBatchConfig;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ko(e){return(0,e._init)(e._payload)}function Io(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===j&&ko(o)===t.type)?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Uc(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Vc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Uc(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case j:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Vc(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case j:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:h(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v,h=g}if(m===s.length)return n(i,h),co&&ro(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(o=a(h,o,m),null===l?c=h:l.sibling=h,l=h);return co&&ro(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach(function(e){return t(i,e)}),co&&ro(i,m),c}function g(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===h?l=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),co&&ro(i,g),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,g),null===h?l=y:h.sibling=y,h=y);return co&&ro(i,g),l}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),co&&ro(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&ko(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=So(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Vc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Uc(a.type,a.key,a.props,null,r.mode,u)).ref=So(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(a,r.mode,u)).return=r,r=o}return s(r);case j:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return m(r,o,a,u);if(R(a))return g(r,o,a,u);Eo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=qc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var No=Io(!0),To=Io(!1),_o=Ci(null),Co=null,Ao=null,Do=null;function jo(){Do=Ao=Co=null}function Po(e){var t=_o.current;Ai(_o),e._currentValue=t}function Oo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Co=e,Do=Ao=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Lo(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},null===Ao){if(null===Co)throw Error(o(308));Ao=e,Co.dependencies={lanes:0,firstContext:e}}else Ao=Ao.next=e;return t}var Mo=null;function Fo(e){null===Mo?Mo=[e]:Mo.push(e)}function Uo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Fo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vo(e,r)}function Vo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Bo=!1;function qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ko(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vo(e,n)}return null===(i=r.interleaved)?(t.next=t,Fo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vo(e,n)}function Wo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Go(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qo(e,t,n,r){var i=e.updateQueue;Bo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break e;h=M({},h,f);break e;case 2:Bo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Bu|=a,e.lanes=a,e.memoizedState=h}}function $o(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Yo={},Xo=Ci(Yo),Jo=Ci(Yo),Zo=Ci(Yo);function ea(e){if(e===Yo)throw Error(o(174));return e}function ta(e,t){switch(Di(Zo,t),Di(Jo,e),Di(Xo,Yo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Xo),Di(Xo,t)}function na(){Ai(Xo),Ai(Jo),Ai(Zo)}function ra(e){ea(Zo.current);var t=ea(Xo.current),n=ue(t,e.type);t!==n&&(Di(Jo,e),Di(Xo,n))}function ia(e){Jo.current===e&&(Ai(Xo),Ai(Jo))}var oa=Ci(0);function aa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function ua(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var ca=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ha=0,fa=null,da=null,pa=null,ma=!1,ga=!1,va=0,ya=0;function ba(){throw Error(o(321))}function wa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(ha=a,fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=null===e||null===e.memoizedState?is:os,e=n(r,i),ga){a=0;do{if(ga=!1,va=0,25<=a)throw Error(o(301));a+=1,pa=da=null,t.updateQueue=null,ca.current=as,e=n(r,i)}while(ga)}if(ca.current=rs,t=null!==da&&null!==da.next,ha=0,pa=da=fa=null,ma=!1,t)throw Error(o(300));return e}function Sa(){var e=0!==va;return va=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===pa?fa.memoizedState=pa=e:pa=pa.next=e,pa}function ka(){if(null===da){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===pa?fa.memoizedState:pa.next;if(null!==t)pa=t,da=e;else{if(null===e)throw Error(o(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===pa?fa.memoizedState=pa=e:pa=pa.next=e}return pa}function Ia(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=da,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((ha&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,fa.lanes|=h,Bu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,hr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,fa.lanes|=a,Bu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);hr(a,t.memoizedState)||(ks=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ca(e,t){var n=fa,r=ka(),i=t(),a=!hr(r.memoizedState,i);if(a&&(r.memoizedState=i,ks=!0),r=r.queue,Ba(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==pa&&1&pa.memoizedState.tag){if(n.flags|=2048,La(9,Da.bind(null,n,r,i,t),void 0,null),null===Ou)throw Error(o(349));0!==(30&ha)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Oa(e)}function ja(e,t,n){return n(function(){Pa(t)&&Oa(e)})}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch(r){return!0}}function Oa(e){var t=Vo(e,1);null!==t&&sc(t,e,1,-1)}function Ra(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=Za.bind(null,fa,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return ka().memoizedState}function Fa(e,t,n,r){var i=Ea();fa.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==da){var a=da.memoizedState;if(o=a.destroy,null!==r&&wa(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}fa.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Va(e,t){return Fa(8390656,8,e,t)}function Ba(e,t){return Ua(2048,8,e,t)}function qa(e,t){return Ua(4,2,e,t)}function za(e,t){return Ua(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Ha.bind(null,t,e),n)}function Wa(){}function Ga(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(hr(n,t)||(n=mt(),fa.lanes|=n,Bu|=n,e.baseState=!0),t)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{bt=n,la.transition=r}}function Xa(){return ka().memoizedState}function Ja(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},es(e))ts(t,n);else if(null!==(n=Uo(e,t,n,r))){sc(n,e,r,oc()),ns(n,t,r)}}function Za(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(es(e))ts(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,hr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Fo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(Ht){}null!==(n=Uo(e,t,i,r))&&(sc(n,e,r,i=oc()),ns(n,t,r))}}function es(e){var t=e.alternate;return e===fa||null!==t&&t===fa}function ts(e,t){ga=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ns(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var rs={readContext:Lo,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},is={readContext:Lo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Lo,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ja.bind(null,fa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Ra,useDebugValue:Wa,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ya.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fa,i=Ea();if(co){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ou)throw Error(o(349));0!==(30&ha)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(ja.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Ou.identifierPrefix;if(co){var n=no;t=":"+t+"R"+(n=(to&~(1<<32-at(to)-1)).toString(32)+n),0<(n=va++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ya++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:Lo,useCallback:Ga,useContext:Lo,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:za,useMemo:Qa,useReducer:Na,useRef:Ma,useState:function(){return Na(Ia)},useDebugValue:Wa,useDeferredValue:function(e){return $a(ka(),da.memoizedState,e)},useTransition:function(){return[Na(Ia)[0],ka().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:Xa,unstable_isNewReconciler:!1},as={readContext:Lo,useCallback:Ga,useContext:Lo,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:za,useMemo:Qa,useReducer:Ta,useRef:Ma,useState:function(){return Ta(Ia)},useDebugValue:Wa,useDeferredValue:function(e){var t=ka();return null===da?t.memoizedState=e:$a(t,da.memoizedState,e)},useTransition:function(){return[Ta(Ia)[0],ka().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ca,useId:Xa,unstable_isNewReconciler:!1};function ss(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function us(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var cs={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Ho(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ko(e,o,i))&&(sc(t,e,i,r),Wo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Ho(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ko(e,o,i))&&(sc(t,e,i,r),Wo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oc(),r=ac(e),i=Ho(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ko(e,i,r))&&(sc(t,e,r,n),Wo(t,e,r))}};function ls(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function hs(e,t,n){var r=!1,i=ji,o=t.contextType;return"object"===typeof o&&null!==o?o=Lo(o):(i=Mi(t)?Ri:Pi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):ji),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=cs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cs.enqueueReplaceState(t,t.state,null)}function ds(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Lo(o):(o=Mi(t)?Ri:Pi.current,i.context=Li(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(us(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&cs.enqueueReplaceState(i,i.state,null),Qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ps(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ms(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function gs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vs="function"===typeof WeakMap?WeakMap:Map;function ys(e,t,n){(n=Ho(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Yu=r),gs(0,t)},n}function bs(e,t,n){(n=Ho(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){gs(0,t),"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ws(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new vs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function xs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ss(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ho(-1,1)).tag=2,Ko(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Es=w.ReactCurrentOwner,ks=!1;function Is(e,t,n,r){t.child=null===e?To(t,null,n,r):No(t,e.child,n,r)}function Ns(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=xa(e,t,n,r,o,i),n=Sa(),null===e||ks?(co&&n&&oo(t),t.flags|=1,Is(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Ts(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:fr)(a,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=Fc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(fr(o,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,$s(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ds(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(Fu,Mu),Mu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(Fu,Mu),Mu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Di(Fu,Mu),Mu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Di(Fu,Mu),Mu|=r;return Is(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ds(e,t,n,r,i){var o=Mi(n)?Ri:Pi.current;return o=Li(t,o),Ro(t,i),n=xa(e,t,n,r,o,i),r=Sa(),null===e||ks?(co&&r&&oo(t),t.flags|=1,Is(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function js(e,t,n,r,i){if(Mi(n)){var o=!0;Bi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Qs(e,t),hs(t,n,r),ds(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Lo(c):c=Li(t,c=Mi(n)?Ri:Pi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&fs(t,a,r,c),Bo=!1;var f=t.memoizedState;a.state=f,Qo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Oi.current||Bo?("function"===typeof l&&(us(t,n,l,r),u=t.memoizedState),(s=Bo||ls(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ss(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Lo(u):u=Li(t,u=Mi(n)?Ri:Pi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&fs(t,a,r,u),Bo=!1,f=t.memoizedState,a.state=f,Qo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Oi.current||Bo?("function"===typeof d&&(us(t,n,d,r),p=t.memoizedState),(c=Bo||ls(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){As(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&qi(t,n,!1),$s(e,t,o);r=t.stateNode,Es.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=No(t,e.child,null,o),t.child=No(t,null,s,o)):Is(e,t,s,o),t.memoizedState=r.state,i&&qi(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ui(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(0,t.context,!1),ta(e,t.containerInfo)}function Rs(e,t,n,r,i){return bo(),wo(i),t.flags|=256,Is(e,t,n,r),t.child}var Ls,Ms,Fs,Us,Vs={dehydrated:null,treeContext:null,retryLane:0};function Bs(e){return{baseLanes:e,cachePool:null,transitions:null}}function qs(e,t,n){var r,i=t.pendingProps,a=oa.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Di(oa,1&a),null===e)return mo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Bc(u,i,0,null),e=Vc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Bs(n),t.memoizedState=Vs,e):zs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=ms(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(a=Vc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&No(t,e.child,null,s),t.child.memoizedState=Bs(s),t.memoizedState=Vs,a);if(0===(1&t.mode))return Hs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Hs(e,t,s,r=ms(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Vo(e,i),sc(r,e,i,-1))}return wc(),Hs(e,t,s,r=ms(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,uo=pi(i.nextSibling),so=t,co=!0,lo=null,null!==e&&(Ji[Zi++]=to,Ji[Zi++]=no,Ji[Zi++]=eo,to=e.id,no=e.overflow,eo=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Fc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Fc(r,s):(s=Vc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Bs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Vs,i}return e=(s=e.child).sibling,i=Fc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&wo(r),No(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oo(e.return,t,n)}function Ws(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===aa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===aa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!co)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Mi(t.type)&&Fi(),Xs(t),null;case 3:return r=t.stateNode,na(),Ai(Oi),Ai(Pi),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(vo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==lo&&(hc(lo),lo=null))),Ms(e,t),Xs(t),null;case 5:ia(t);var i=ea(Zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Fs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=ea(Xo.current),vo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[vi]=t,r[yi]=a,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<Vr.length;i++)Hr(Vr[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Y(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":ie(r,a),Hr("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&ri(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&ri(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Hr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ii)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[vi]=t,e[yi]=r,Ls(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vr.length;i++)Hr(Vr[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Hr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Hr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Hr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Us(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ea(Zo.current),ea(Xo.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[vi]=t,(a=r.nodeValue!==n)&&null!==(e=so))switch(e.tag){case 3:ri(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ri(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[vi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Ai(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(co&&null!==uo&&0!==(1&t.mode)&&0===(128&t.flags))yo(),bo(),t.flags|=98560,a=!1;else if(a=vo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[vi]=t}else bo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==lo&&(hc(lo),lo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Uu&&(Uu=3):wc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return na(),Ms(e,t),null===e&&Gr(t.stateNode.containerInfo),Xs(t),null;case 10:return Po(t.type._context),Xs(t),null;case 19:if(Ai(oa),null===(a=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ys(a,!1);else{if(0!==Uu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=aa(e))){for(t.flags|=128,Ys(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Gu&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=aa(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!co)return Xs(t),null}else 2*Xe()-a.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Di(oa,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mu)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(ao(t),t.tag){case 1:return Mi(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return na(),Ai(Oi),Ai(Pi),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ia(t),null;case 13:if(Ai(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(oa),null;case 4:return na(),null;case 10:return Po(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Fs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ea(Xo.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ii)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Hr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Us=function(e,t,n,r){n!==r&&(t.flags|=4)};var eu=!1,tu=!1,nu="function"===typeof WeakSet?WeakSet:Set,ru=null;function iu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function ou(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var au=!1;function su(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ou(t,n,o)}i=i.next}while(i!==r)}}function uu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function lu(e){var t=e.alternate;null!==t&&(e.alternate=null,lu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[vi],delete t[yi],delete t[wi],delete t[xi],delete t[Si])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hu(e){return 5===e.tag||3===e.tag||4===e.tag}function fu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function du(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ii));else if(4!==r&&null!==(e=e.child))for(du(e,t,n),e=e.sibling;null!==e;)du(e,t,n),e=e.sibling}function pu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pu(e,t,n),e=e.sibling;null!==e;)pu(e,t,n),e=e.sibling}var mu=null,gu=!1;function vu(e,t,n){for(n=n.child;null!==n;)yu(e,t,n),n=n.sibling}function yu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:tu||iu(n,t);case 6:var r=mu,i=gu;mu=null,vu(e,t,n),gu=i,null!==(mu=r)&&(gu?(e=mu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):mu.removeChild(n.stateNode));break;case 18:null!==mu&&(gu?(e=mu,n=n.stateNode,8===e.nodeType?di(e.parentNode,n):1===e.nodeType&&di(e,n),zt(e)):di(mu,n.stateNode));break;case 4:r=mu,i=gu,mu=n.stateNode.containerInfo,gu=!0,vu(e,t,n),mu=r,gu=i;break;case 0:case 11:case 14:case 15:if(!tu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ou(n,t,a),i=i.next}while(i!==r)}vu(e,t,n);break;case 1:if(!tu&&(iu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}vu(e,t,n);break;case 21:vu(e,t,n);break;case 22:1&n.mode?(tu=(r=tu)||null!==n.memoizedState,vu(e,t,n),tu=r):vu(e,t,n);break;default:vu(e,t,n)}}function bu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nu),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function wu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:mu=u.stateNode,gu=!1;break e;case 3:case 4:mu=u.stateNode.containerInfo,gu=!0;break e}u=u.return}if(null===mu)throw Error(o(160));yu(a,s,i),mu=null,gu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Ht){Cc(i,t,Ht)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xu(t,e),t=t.sibling}function xu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wu(t,e),Su(e),4&r){try{su(3,e,e.return),uu(3,e)}catch(en){Cc(e,e.return,en)}try{su(5,e,e.return)}catch(en){Cc(e,e.return,en)}}break;case 1:wu(t,e),Su(e),512&r&&null!==n&&iu(n,n.return);break;case 5:if(wu(t,e),Su(e),512&r&&null!==n&&iu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(en){Cc(e,e.return,en)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[yi]=a}catch(en){Cc(e,e.return,en)}}break;case 6:if(wu(t,e),Su(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(en){Cc(e,e.return,en)}}break;case 3:if(wu(t,e),Su(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(en){Cc(e,e.return,en)}break;case 4:default:wu(t,e),Su(e);break;case 13:wu(t,e),Su(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=Xe())),4&r&&bu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tu=(l=tu)||h,wu(t,e),tu=l):wu(t,e),Su(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(ru=e,h=e.child;null!==h;){for(f=ru=h;null!==ru;){switch(p=(d=ru).child,d.tag){case 0:case 11:case 14:case 15:su(4,d,d.return);break;case 1:iu(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(en){Cc(r,n,en)}}break;case 5:iu(d,d.return);break;case 22:if(null!==d.memoizedState){Nu(f);continue}}null!==p?(p.return=d,ru=p):Nu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(en){Cc(e,e.return,en)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(en){Cc(e,e.return,en)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wu(t,e),Su(e),4&r&&bu(e);case 21:}}function Su(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),pu(e,fu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;du(e,fu(e),a);break;default:throw Error(o(161))}}catch(Bt){Cc(e,e.return,Bt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Eu(e,t,n){ru=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==ru;){var i=ru,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||eu;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||tu;s=eu;var c=tu;if(eu=a,(tu=u)&&!c)for(ru=i;null!==ru;)u=(a=ru).child,22===a.tag&&null!==a.memoizedState?Tu(i):null!==u?(u.return=a,ru=u):Tu(i);for(;null!==o;)ru=o,ku(o,t,n),o=o.sibling;ru=i,eu=s,tu=c}Iu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,ru=o):Iu(e)}}function Iu(e){for(;null!==ru;){var t=ru;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tu||uu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ss(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$o(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$o(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}tu||512&t.flags&&cu(t)}catch(d){Cc(t,t.return,d)}}if(t===e){ru=null;break}if(null!==(n=t.sibling)){n.return=t.return,ru=n;break}ru=t.return}}function Nu(e){for(;null!==ru;){var t=ru;if(t===e){ru=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ru=n;break}ru=t.return}}function Tu(e){for(;null!==ru;){var t=ru;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{uu(4,t)}catch(Bt){Cc(t,n,Bt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Bt){Cc(t,i,Bt)}}var o=t.return;try{cu(t)}catch(Bt){Cc(t,o,Bt)}break;case 5:var a=t.return;try{cu(t)}catch(Bt){Cc(t,a,Bt)}}}catch(Bt){Cc(t,t.return,Bt)}if(t===e){ru=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ru=s;break}ru=t.return}}var _u,Cu=Math.ceil,Au=w.ReactCurrentDispatcher,Du=w.ReactCurrentOwner,ju=w.ReactCurrentBatchConfig,Pu=0,Ou=null,Ru=null,Lu=0,Mu=0,Fu=Ci(0),Uu=0,Vu=null,Bu=0,qu=0,zu=0,Hu=null,Ku=null,Wu=0,Gu=1/0,Qu=null,$u=!1,Yu=null,Xu=null,Ju=!1,Zu=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function oc(){return 0!==(6&Pu)?Xe():-1!==rc?rc:rc=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Lu?Lu&-Lu:null!==xo.transition?(0===ic&&(ic=mt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(o(185));vt(e,n,r),0!==(2&Pu)&&e===Ou||(e===Ou&&(0===(2&Pu)&&(qu|=n),4===Uu&&fc(e,Lu)),uc(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Gu=Xe()+500,Hi&&Gi()))}function uc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ou?Lu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Hi=!0,Wi(e)}(dc.bind(null,e)):Wi(dc.bind(null,e)),hi(function(){0===(6&Pu)&&Gi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Pu))throw Error(o(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ou?Lu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var i=Pu;Pu|=2;var a=bc();for(Ou===e&&Lu===t||(Qu=null,Gu=Xe()+500,vc(e,t));;)try{Ec();break}catch(u){yc(e,u)}jo(),Au.current=a,Pu=i,null!==Ru?t=0:(Ou=null,Lu=0,t=Uu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=lc(e,i))),1===t)throw n=Vu,vc(e,0),fc(e,r),uc(e,Xe()),n;if(6===t)fc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,r))&&(0!==(a=pt(e))&&(r=a,t=lc(e,a))),1===t))throw n=Vu,vc(e,0),fc(e,r),uc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Nc(e,Ku,Qu);break;case 3:if(fc(e,r),(130023424&r)===r&&10<(t=Wu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ui(Nc.bind(null,e,Ku,Qu),t);break}Nc(e,Ku,Qu);break;case 4:if(fc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ui(Nc.bind(null,e,Ku,Qu),r);break}Nc(e,Ku,Qu);break;default:throw Error(o(329))}}}return uc(e,Xe()),e.callbackNode===n?cc.bind(null,e):null}function lc(e,t){var n=Hu;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Ku,Ku=n,null!==t&&hc(t)),e}function hc(e){null===Ku?Ku=e:Ku.push.apply(Ku,e)}function fc(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function dc(e){if(0!==(6&Pu))throw Error(o(327));Tc();var t=ft(e,0);if(0===(1&t))return uc(e,Xe()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=lc(e,r))}if(1===n)throw n=Vu,vc(e,0),fc(e,t),uc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Ku,Qu),uc(e,Xe()),null}function pc(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu=Xe()+500,Hi&&Gi())}}function mc(e){null!==Zu&&0===Zu.tag&&0===(6&Pu)&&Tc();var t=Pu;Pu|=1;var n=ju.transition,r=bt;try{if(ju.transition=null,bt=1,e)return e()}finally{bt=r,ju.transition=n,0===(6&(Pu=t))&&Gi()}}function gc(){Mu=Fu.current,Ai(Fu)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ci(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ao(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fi();break;case 3:na(),Ai(Oi),Ai(Pi),ua();break;case 5:ia(r);break;case 4:na();break;case 13:case 19:Ai(oa);break;case 10:Po(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Ou=e,Ru=e=Fc(e.current,null),Lu=Mu=t,Uu=0,Vu=null,zu=qu=Bu=0,Ku=Hu=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(r=(n=Mo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Mo=null}return e}function yc(e,t){for(;;){var n=Ru;try{if(jo(),ca.current=rs,ma){for(var r=fa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(ha=0,pa=da=fa=null,ga=!1,va=0,Du.current=null,null===n||null===n.return){Uu=1,Vu=t,Ru=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Lu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=xs(s);if(null!==p){p.flags&=-257,Ss(p,s,u,0,t),1&p.mode&&ws(a,l,t),c=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ws(a,l,t),wc();break e}c=Error(o(426))}else if(co&&1&u.mode){var v=xs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ss(v,s,u,0,t),wo(ps(c,u));break e}}a=c=ps(c,u),4!==Uu&&(Uu=2),null===Hu?Hu=[a]:Hu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Go(a,ys(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xu||!Xu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Go(a,bs(a,u,t));break e}}a=a.return}while(null!==a)}Ic(n)}catch(on){t=on,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function bc(){var e=Au.current;return Au.current=rs,null===e?rs:e}function wc(){0!==Uu&&3!==Uu&&2!==Uu||(Uu=4),null===Ou||0===(268435455&Bu)&&0===(268435455&qu)||fc(Ou,Lu)}function xc(e,t){var n=Pu;Pu|=2;var r=bc();for(Ou===e&&Lu===t||(Qu=null,vc(e,t));;)try{Sc();break}catch(fg){yc(e,fg)}if(jo(),Pu=n,Au.current=r,null!==Ru)throw Error(o(261));return Ou=null,Lu=0,Uu}function Sc(){for(;null!==Ru;)kc(Ru)}function Ec(){for(;null!==Ru&&!$e();)kc(Ru)}function kc(e){var t=_u(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Ic(e):Ru=t,Du.current=null}function Ic(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Js(n,t,Mu)))return void(Ru=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Uu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Uu&&(Uu=5)}function Nc(e,t,n){var r=bt,i=ju.transition;try{ju.transition=null,bt=1,function(e,t,n,r){do{Tc()}while(null!==Zu);if(0!==(6&Pu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ou&&(Ru=Ou=null,Lu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ju||(Ju=!0,Oc(tt,function(){return Tc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=ju.transition,ju.transition=null;var s=bt;bt=1;var u=Pu;Pu|=4,Du.current=null,function(e,t){if(oi=Wt,vr(e=gr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Cr){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ai={focusedElem:e,selectionRange:n},Wt=!1,ru=t;null!==ru;)if(e=(t=ru).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ru=e;else for(;null!==ru;){t=ru;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ss(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(Cr){Cc(t,t.return,Cr)}if(null!==(e=t.sibling)){e.return=t.return,ru=e;break}ru=t.return}m=au,au=!1}(e,n),xu(n,e),yr(ai),Wt=!!oi,ai=oi=null,e.current=n,Eu(n,e,i),Ye(),Pu=u,bt=s,ju.transition=a}else e.current=n;if(Ju&&(Ju=!1,Zu=e,ec=i),a=e.pendingLanes,0===a&&(Xu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),uc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($u)throw $u=!1,e=Yu,Yu=null,e;0!==(1&ec)&&0!==e.tag&&Tc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,Gi()}(e,t,n,r)}finally{ju.transition=i,bt=r}return null}function Tc(){if(null!==Zu){var e=wt(ec),t=ju.transition,n=bt;try{if(ju.transition=null,bt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,ec=0,0!==(6&Pu))throw Error(o(331));var i=Pu;for(Pu|=4,ru=e.current;null!==ru;){var a=ru,s=a.child;if(0!==(16&ru.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(ru=l;null!==ru;){var h=ru;switch(h.tag){case 0:case 11:case 15:su(8,h,a)}var f=h.child;if(null!==f)f.return=h,ru=f;else for(;null!==ru;){var d=(h=ru).sibling,p=h.return;if(lu(h),h===l){ru=null;break}if(null!==d){d.return=p,ru=d;break}ru=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ru=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ru=s;else e:for(;null!==ru;){if(0!==(2048&(a=ru).flags))switch(a.tag){case 0:case 11:case 15:su(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ru=y;break e}ru=a.return}}var b=e.current;for(ru=b;null!==ru;){var w=(s=ru).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,ru=w;else e:for(s=b;null!==ru;){if(0!==(2048&(u=ru).flags))try{switch(u.tag){case 0:case 11:case 15:uu(9,u)}}catch(on){Cc(u,u.return,on)}if(u===s){ru=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,ru=x;break e}ru=u.return}}if(Pu=i,Gi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(on){}r=!0}return r}finally{bt=n,ju.transition=t}}return!1}function _c(e,t,n){e=Ko(e,t=ys(0,t=ps(n,t),1),1),t=oc(),null!==e&&(vt(e,1,t),uc(e,t))}function Cc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){t=Ko(t,e=bs(t,e=ps(n,e),1),1),e=oc(),null!==t&&(vt(t,1,e),uc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oc(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(130023424&Lu)===Lu&&500>Xe()-Wu?vc(e,0):zu|=n),uc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=oc();null!==(e=Vo(e,t))&&(vt(e,t,n),uc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Dc(e,n)}function Oc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Rc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Vc(n.children,i,a,t);case k:s=8,i|=8;break;case I:return(e=Lc(12,n,t,2|i)).elementType=I,e.lanes=a,e;case C:return(e=Lc(13,n,t,i)).elementType=C,e.lanes=a,e;case A:return(e=Lc(19,n,t,i)).elementType=A,e.lanes=a,e;case P:return Bc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case T:s=9;break e;case _:s=11;break e;case D:s=14;break e;case j:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Lc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Vc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function qc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r,i,o,a,s,u){return e=new Hc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Lc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qo(o),e}function Wc(e){if(!e)return ji;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Vi(e,n,t)}return t}function Gc(e,t,n,r,i,o,a,s,u){return(e=Kc(n,r,!0,e,0,o,0,s,u)).context=Wc(null),n=e.current,(o=Ho(r=oc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Ko(n,o,i),e.current.lanes=i,vt(e,i,r),uc(e,r),e}function Qc(e,t,n,r){var i=t.current,o=oc(),a=ac(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ho(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ko(i,t,a))&&(sc(e,i,a,o),Wo(e,i,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Os(t),bo();break;case 5:ra(t);break;case 1:Mi(t.type)&&Bi(t);break;case 4:ta(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qs(e,t,n):(Di(oa,1&oa.current),null!==(e=$s(e,t,n))?e.sibling:null);Di(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return $s(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,co&&0!==(1048576&t.flags)&&io(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var i=Li(t,Pi.current);Ro(t,n),i=xa(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(a=!0,Bi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,qo(t),i.updater=cs,t.stateNode=i,i._reactInternals=t,ds(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,co&&a&&oo(t),Is(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(r),e=ss(r,e),i){case 0:t=Ds(null,t,r,e,n);break e;case 1:t=js(null,t,r,e,n);break e;case 11:t=Ns(null,t,r,e,n);break e;case 14:t=Ts(null,t,r,ss(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ds(e,t,r,i=t.elementType===r?i:ss(r,i),n);case 1:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:ss(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,zo(e,t),Qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=ps(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ps(Error(o(424)),t));break e}for(uo=pi(t.stateNode.containerInfo.firstChild),so=t,co=!0,lo=null,n=To(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bo(),r===i){t=$s(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 5:return ra(t),null===e&&mo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,si(r,i)?s=null:null!==a&&si(r,a)&&(t.flags|=32),As(e,t),Is(e,t,s,n),t.child;case 6:return null===e&&mo(t),null;case 13:return qs(e,t,n);case 4:return ta(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=No(t,null,r,n):Is(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ss(r,i),n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Di(_o,r._currentValue),r._currentValue=s,null!==a)if(hr(a.value,s)){if(a.children===i.children&&!Oi.current){t=$s(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ho(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Oo(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Oo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Is(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Lo(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return i=ss(r=t.type,t.pendingProps),Ts(e,t,r,i=ss(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ss(r,i),Qs(e,t),t.tag=1,Mi(r)?(e=!0,Bi(t)):e=!1,Ro(t,n),hs(t,r,i),ds(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function el(e){this._internalRoot=e}function tl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(){}function il(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=$c(a);s.call(e)}}Qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=$c(a);o.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",rl);return e._reactRootContainer=a,e[bi]=a.current,Gr(8===e.nodeType?e.parentNode:e),mc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=$c(u);s.call(e)}}var u=Kc(e,0,!1,null,0,!1,0,"",rl);return e._reactRootContainer=u,e[bi]=u.current,Gr(8===e.nodeType?e.parentNode:e),mc(function(){Qc(t,u,n,r)}),u}(n,t,e,i,r);return $c(a)}el.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Qc(e,t,null,null)},el.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc(function(){Qc(null,e,null,null)}),t[bi]=null}},el.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),uc(t,Xe()),0===(6&Pu)&&(Gu=Xe()+500,Gi()))}break;case 13:mc(function(){var t=Vo(e,1);if(null!==t){var n=oc();sc(t,e,1,n)}}),Xc(e,1)}},St=function(e){if(13===e.tag){var t=Vo(e,134217728);if(null!==t)sc(t,e,134217728,oc());Xc(e,134217728)}},Et=function(e){if(13===e.tag){var t=ac(e),n=Vo(e,t);if(null!==n)sc(n,e,t,oc());Xc(e,t)}},kt=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ni(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=pc,Ce=mc;var ol={usingClientEntryPoint:!1,Events:[ki,Ii,Ni,Ne,Te,pc]},al={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{it=ul.inject(sl),ot=ul}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tl(e))throw Error(o(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Kc(e,1,!1,null,0,n,0,r,i),e[bi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!nl(t))throw Error(o(200));return il(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,a,s),e[bi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new el(t)},t.render=function(e,t,n){if(!nl(t))throw Error(o(200));return il(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return!!e._reactRootContainer&&(mc(function(){il(null,null,e,!1,function(){e._reactRootContainer=null,e[bi]=null})}),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return il(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(fg){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(391),o=n(43),a=n.t(o,2);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(fg){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,l=o.history,p=r.Pop,m=null,g=v();function v(){return(l.state||{idx:null}).idx}function y(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,l.replaceState(s({},l.state,{idx:g}),""));let w={get action(){return p},get location(){return e(o,l)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),m=e,()=>{o.removeEventListener(u,y),m=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=f(w.location,e,t);n&&n(i,e),g=v()+1;let s=h(i,g),u=w.createHref(i);try{l.pushState(s,"",u)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(u)}a&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=r.Replace;let i=f(w.location,e,t);n&&n(i,e),g=v();let o=h(i,g),s=w.createHref(i);l.replaceState(o,"",s),a&&m&&m({action:p,location:w.location,delta:0})},go:e=>l.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=j(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let o=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=D(i);a=C(o[s],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=M([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:_(s,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=w(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,S=3,E=2,k=1,I=10,N=-2,T=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=N),t&&(r+=E),n.filter(e=>!T(e)).reduce((e,t)=>e+(x.test(t)?S:""===t?k:I),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],u=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",l=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},c),h=e.route;if(!l&&u&&n&&!r[r.length-1].route.index&&(l=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!l)return null;Object.assign(i,l.params),a.push({params:i,pathname:M([o,l.pathname]),pathnameBase:F(M([o,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(o=M([o,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:a,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=s({},e),c(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let o,a=""===e||""===i.pathname,u=a?"/":i.pathname;if(null==u)o=n;else{let e=t.length-1;if(!r&&u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:V(i)}}(i,o),h=u&&"/"!==u&&u.endsWith("/"),f=(a||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],z=(new Set(q),["get",...q]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const K=o.createContext(null);const W=o.createContext(null);const G=o.createContext(null);const Q=o.createContext(null);const $=o.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=o.createContext(null);function X(){return null!=o.useContext(Q)}function J(){return X()||c(!1),o.useContext(Q).location}function Z(e){o.useContext(G).static||o.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=o.useContext($);return e?function(){let{router:e}=le(ue.UseNavigateStable),t=fe(ce.UseNavigateStable),n=o.useRef(!1);Z(()=>{n.current=!0});let r=o.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))},[e,t]);return r}():function(){X()||c(!1);let e=o.useContext(K),{basename:t,future:n,navigator:r}=o.useContext(G),{matches:i}=o.useContext($),{pathname:a}=J(),s=JSON.stringify(R(i,n.v7_relativeSplatPath)),u=o.useRef(!1);Z(()=>{u.current=!0});let l=o.useCallback(function(n,i){if(void 0===i&&(i={}),!u.current)return;if("number"===typeof n)return void r.go(n);let o=L(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,s,a,e]);return l}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(G),{matches:i}=o.useContext($),{pathname:a}=J(),s=JSON.stringify(R(i,r.v7_relativeSplatPath));return o.useMemo(()=>L(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function ne(e,t,n,i){X()||c(!1);let{navigator:a}=o.useContext(G),{matches:s}=o.useContext($),u=s[s.length-1],l=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,d=J();if(t){var m;let e="string"===typeof t?p(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||c(!1),f=e}else f=d;let g=f.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let w=se(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:M([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,i);return t&&w?o.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},w):w}function re(){let e=function(){var e;let t=o.useContext(Y),n=he(ce.UseRouteError),r=fe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,null)}const ie=o.createElement(re,null);class oe extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement($.Provider,{value:this.props.routeContext},o.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(K);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement($.Provider,{value:t},r)}function se(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,u=null==(i=n)?void 0:i.errors;if(null!=u){let e=s.findIndex(e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id]));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<s.length;o++){let e=s[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=o),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,s=h>=0?s.slice(0,h+1):[s[0]];break}}}return s.reduceRight((e,r,i)=>{let a,c=!1,f=null,d=null;var p;n&&(a=u&&r.route.id?u[r.route.id]:void 0,f=r.route.errorElement||ie,l&&(h<0&&0===i?(p="route-fallback",!1||de[p]||(de[p]=!0),c=!0,d=null):h===i&&(c=!0,d=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=a?f:c?d:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(oe,{location:n.location,revalidation:n.revalidation,component:f,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function le(e){let t=o.useContext(K);return t||c(!1),t}function he(e){let t=o.useContext(W);return t||c(!1),t}function fe(e){let t=function(){let e=o.useContext($);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const de={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function me(e){c(!1)}function ge(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:s,static:u=!1,future:l}=e;X()&&c(!1);let h=t.replace(/^\/*/,"/"),f=o.useMemo(()=>({basename:h,navigator:s,static:u,future:H({v7_relativeSplatPath:!1},l)}),[h,l,s,u]);"string"===typeof i&&(i=p(i));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:y="default"}=i,b=o.useMemo(()=>{let e=j(d,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}},[h,d,m,g,v,y,a]);return null==b?null:o.createElement(G.Provider,{value:f},o.createElement(Q.Provider,{children:n,value:b}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise(()=>{});o.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,(e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,ye(e.props.children,i));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,i)),n.push(a)}),n}var be=n(950),we=n.t(be,2);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(fg){}new Map;const ke=a.startTransition;we.flushSync,a.useId;function Ie(e){let{basename:t,children:n,future:r,window:i}=e,a=o.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,s)));let u=a.current,[c,l]=o.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},p=o.useCallback(e=>{h&&ke?ke(()=>l(e)):l(e)},[l,h]);return o.useLayoutEffect(()=>u.listen(p),[u,p]),o.useEffect(()=>pe(r),[r]),o.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:r})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=o.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:s,state:u,target:l,to:h,preventScrollReset:f,viewTransition:p}=e,m=Se(e,Ee),{basename:g}=o.useContext(G),v=!1;if("string"===typeof h&&Te.test(h)&&(n=h,Ne))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=j(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(fg){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:r,navigator:i}=o.useContext(G),{hash:a,pathname:s,search:u}=te(e,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:M([r,s])),i.createHref({pathname:l,search:u,hash:a})}(h,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:u}=void 0===t?{}:t,c=ee(),l=J(),h=te(e,{relative:s});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:d(l)===d(h);c(e,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:u})}},[l,c,h,r,i,n,e,a,s,u])}(h,{replace:s,state:u,target:l,preventScrollReset:f,relative:i,viewTransition:p});return o.createElement("a",xe({},m,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:l}))});var Ce,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));const De=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},je=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},Pe=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Oe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Re=(0,o.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:u,iconNode:c,...l}=e;return(0,o.createElement)("svg",{ref:t,...Oe,width:r,height:r,stroke:n,strokeWidth:a?24*Number(i)/Number(r):i,className:je("lucide",s),...!u&&!Pe(l)&&{"aria-hidden":"true"},...l},[...c.map(e=>{let[t,n]=e;return(0,o.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),Le=(e,t)=>{const n=(0,o.forwardRef)((n,r)=>{let{className:i,...a}=n;return(0,o.createElement)(Re,{ref:r,iconNode:t,className:je(`lucide-${s=De(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...a});var s});return n.displayName=De(e),n},Me=Le("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var Fe=function(e,t){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Fe(e,t)};function Ue(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ve=function(){return Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ve.apply(this,arguments)};function Be(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(fg){o(fg)}}function s(e){try{u(r.throw(e))}catch(fg){o(fg)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function qe(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(fg){s=[6,fg],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function ze(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ke(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var We=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(We(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Qe=function(e){return function(e){var t=We(e);return Ge.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function $e(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ye(n)&&(e[n]=$e(e[n],t[n]));return e}function Ye(e){return"__proto__"!==e}var Xe=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function Je(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ze(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(fg){return!1}}var et=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,tt.prototype.create),o}return Ue(t,e),t}(Error),tt=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(nt,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new et(i,s,r)},e}();var nt=/\{\$([^}]+)}/g;function rt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function it(e,t){var n=new ot(e,t);return n.subscribe.bind(n)}var ot=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=at),void 0===r.error&&(r.error=at),void 0===r.complete&&(r.complete=at);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(fg){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(fg){"undefined"!==typeof console&&console.error&&console.error(fg)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function at(){}function st(e){return e&&e._delegate?e._delegate:e}var ut=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),ct="[DEFAULT]",lt=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Xe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(fg){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(fg){if(r)return null;throw fg}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ct})}catch(fg){}try{for(var r=ze(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=He(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(fg){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=ct),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Be(this,void 0,void 0,function(){var e;return qe(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ke(Ke([],He(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),He(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=ct),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=ct),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=ze(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=He(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(a)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=ze(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ct?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Wm){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=ct),this.component?this.component.multipleInstances?e:ct:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var ht,ft=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new lt(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function dt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var pt,mt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));var gt,vt={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},yt=pt.INFO,bt=((ht={})[pt.DEBUG]="log",ht[pt.VERBOSE]="log",ht[pt.INFO]="info",ht[pt.WARN]="warn",ht[pt.ERROR]="error",ht),wt=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=bt[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,dt(["["+i+"]  "+e.name+":"],n))}},xt=function(){function e(e){this.name=e,this._logLevel=yt,this._logHandler=wt,this._userLogHandler=null,mt.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in pt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?vt[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,dt([this,pt.DEBUG],e)),this._logHandler.apply(this,dt([this,pt.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,dt([this,pt.VERBOSE],e)),this._logHandler.apply(this,dt([this,pt.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,dt([this,pt.INFO],e)),this._logHandler.apply(this,dt([this,pt.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,dt([this,pt.WARN],e)),this._logHandler.apply(this,dt([this,pt.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,dt([this,pt.ERROR],e)),this._logHandler.apply(this,dt([this,pt.ERROR],e))},e}();function St(e){mt.forEach(function(t){t.setLogLevel(e)})}var Et,kt=((gt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gt["bad-app-name"]="Illegal App name: '{$appName}",gt["duplicate-app"]="Firebase App named '{$appName}' already exists",gt["app-deleted"]="Firebase App named '{$appName}' already deleted",gt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gt),It=new tt("app","Firebase",kt),Nt="@firebase/app",Tt="[DEFAULT]",_t=((Et={})[Nt]="fire-core",Et["@firebase/analytics"]="fire-analytics",Et["@firebase/app-check"]="fire-app-check",Et["@firebase/auth"]="fire-auth",Et["@firebase/database"]="fire-rtdb",Et["@firebase/functions"]="fire-fn",Et["@firebase/installations"]="fire-iid",Et["@firebase/messaging"]="fire-fcm",Et["@firebase/performance"]="fire-perf",Et["@firebase/remote-config"]="fire-rc",Et["@firebase/storage"]="fire-gcs",Et["@firebase/firestore"]="fire-fst",Et["fire-js"]="fire-js",Et["firebase-wrapper"]="fire-js-all",Et),Ct=new xt("@firebase/app"),At=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=$e(void 0,e),this.container=new ft(t.name),this._addComponent(new ut("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t=Tt),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Tt),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(fg){Ct.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,fg)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw It.create("app-deleted",{appName:this.name_})},e}();At.prototype.name&&At.prototype.options||At.prototype.delete||console.log("dc");function Dt(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=Tt);var a=o.name;if("string"!==typeof a||!a)throw It.create("bad-app-name",{appName:String(a)});if(rt(t,a))throw It.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=_t[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Ct.warn(u.join(" "))}o(new ut(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:St,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw It.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=vt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:pt[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=mt;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!rt(t,e=e||Tt))throw It.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Ct.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw It.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&$e(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}var jt=function e(){var t=Dt(At);return t.INTERNAL=Ve(Ve({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){$e(t,e)},createSubscribe:it,ErrorFactory:tt,deepExtend:$e}),t}(),Pt=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ct.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&Ct.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Rt=jt.initializeApp;jt.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ze()&&Ct.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Rt.apply(void 0,e)};var Lt=jt;!function(e,t){e.INTERNAL.registerComponent(new ut("platform-logger",function(e){return new Pt(e)},"PRIVATE")),e.registerVersion(Nt,"0.6.30",t),e.registerVersion("fire-js","")}(Lt);const Mt=Lt;var Ft="8.10.1";Mt.registerVersion("firebase",Ft,"app"),Mt.SDK_VERSION=Ft;var Ut=function(e,t){return Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ut(e,t)};function Vt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bt,qt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},zt=zt||{},Ht=qt||self;function Kt(){}function Wt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qt="closure_uid_"+(1e9*Math.random()>>>0),$t=0;function Yt(e,t,n){return e.call.apply(e.bind,arguments)}function Xt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jt(e,t,n){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yt:Xt).apply(null,arguments)}function Zt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function en(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function tn(){this.s=this.s,this.o=this.o}var nn={};tn.prototype.s=!1,tn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Qt)&&e[Qt]||(e[Qt]=++$t)}(this);delete nn[e]}},tn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},on=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function an(e){return Array.prototype.concat.apply([],arguments)}function sn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function un(e){return/^[\s\xa0]*$/.test(e)}var cn,ln=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function hn(e,t){return-1!=e.indexOf(t)}function fn(e,t){return e<t?-1:e>t?1:0}e:{var dn=Ht.navigator;if(dn){var pn=dn.userAgent;if(pn){cn=pn;break e}}cn=""}function mn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gn(e){var t={};for(var n in e)t[n]=e[n];return t}var vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<vn.length;o++)n=vn[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bn(e){return bn[" "](e),e}bn[" "]=Kt;var wn,xn=hn(cn,"Opera"),Sn=hn(cn,"Trident")||hn(cn,"MSIE"),En=hn(cn,"Edge"),kn=En||Sn,In=hn(cn,"Gecko")&&!(hn(cn.toLowerCase(),"webkit")&&!hn(cn,"Edge"))&&!(hn(cn,"Trident")||hn(cn,"MSIE"))&&!hn(cn,"Edge"),Nn=hn(cn.toLowerCase(),"webkit")&&!hn(cn,"Edge");function Tn(){var e=Ht.document;return e?e.documentMode:void 0}e:{var _n="",Cn=function(){var e=cn;return In?/rv:([^\);]+)(\)|;)/.exec(e):En?/Edge\/([\d\.]+)/.exec(e):Sn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nn?/WebKit\/(\S+)/.exec(e):xn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Cn&&(_n=Cn?Cn[1]:""),Sn){var An=Tn();if(null!=An&&An>parseFloat(_n)){wn=String(An);break e}}wn=_n}var Dn,jn={};function Pn(){return function(e){var t=jn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=ln(String(wn)).split("."),n=ln("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=fn(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||fn(0==o[2].length,0==a[2].length)||fn(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}if(Ht.document&&Sn){var On=Tn();Dn=On||(parseInt(wn,10)||void 0)}else Dn=void 0;var Rn=Dn,Ln=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ht.addEventListener("test",Kt,t),Ht.removeEventListener("test",Kt,t)}catch(n){}return e}();function Mn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Fn(e,t){if(Mn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(In){e:{try{bn(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Un[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fn.Z.h.call(this)}}Mn.prototype.h=function(){this.defaultPrevented=!0},en(Fn,Mn);var Un={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),Bn=0;function qn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Bn,this.ca=this.fa=!1}function zn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Hn(e){this.src=e,this.g={},this.h=0}function Kn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=rn(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(zn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Hn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Wn(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new qn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Gn="closure_lm_"+(1e6*Math.random()|0),Qn={};function $n(e,t,n,r,i){if(r&&r.once)return Xn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)$n(e,t[o],n,r,i);return null}return n=ir(n),e&&e[Vn]?e.N(t,n,Gt(r)?!!r.capture:!!r,i):Yn(e,t,n,!1,r,i)}function Yn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Gt(i)?!!i.capture:!!i,s=nr(e);if(s||(e[Gn]=s=new Hn(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=tr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ln||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(er(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xn(e,t[o],n,r,i);return null}return n=ir(n),e&&e[Vn]?e.O(t,n,Gt(r)?!!r.capture:!!r,i):Yn(e,t,n,!0,r,i)}function Jn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Jn(e,t[o],n,r,i);else r=Gt(r)?!!r.capture:!!r,n=ir(n),e&&e[Vn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wn(o=e.g[t],n,r,i))&&(zn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=nr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wn(t,n,r,i)),(n=-1<e?t[e]:null)&&Zn(n))}function Zn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Vn])Kn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(er(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nr(t))?(Kn(n,e),0==n.h&&(n.src=null,t[Gn]=null)):zn(e)}}}function er(e){return e in Qn?Qn[e]:Qn[e]="on"+e}function tr(e,t){if(e.ca)e=!0;else{t=new Fn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zn(e),e=n.call(r,t)}return e}function nr(e){return(e=e[Gn])instanceof Hn?e:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(e){return"function"===typeof e?e:(e[rr]||(e[rr]=function(t){return e.handleEvent(t)}),e[rr])}function or(){tn.call(this),this.i=new Hn(this),this.P=this,this.I=null}function ar(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Mn(t,e);else if(t instanceof Mn)t.target=t.target||e;else{var i=t;yn(t=new Mn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=sr(a,r,!0,t)&&i}if(i=sr(a=t.g=e,r,!0,t)&&i,i=sr(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=sr(a=t.g=n[o],r,!1,t)&&i}function sr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Kn(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}en(or,tn),or.prototype[Vn]=!0,or.prototype.removeEventListener=function(e,t,n,r){Jn(this,e,t,n,r)},or.prototype.M=function(){if(or.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zn(n[r]);delete t.g[e],t.h--}}this.I=null},or.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},or.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ur=Ht.JSON.stringify;function cr(){var e=vr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var lr,hr=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=fr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),fr=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())(function(){return new dr},function(e){return e.reset()}),dr=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function pr(e){Ht.setTimeout(function(){throw e},0)}function mr(e,t){lr||function(){var e=Ht.Promise.resolve(void 0);lr=function(){e.then(yr)}}(),gr||(lr(),gr=!0),vr.add(e,t)}var gr=!1,vr=new hr;function yr(){for(var e;e=cr();){try{e.h.call(e.g)}catch(n){pr(n)}var t=fr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gr=!1}function br(e,t){or.call(this),this.h=e||1,this.g=t||Ht,this.j=Jt(this.kb,this),this.l=Date.now()}function wr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function xr(e,t,n){if("function"===typeof e)n&&(e=Jt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ht.setTimeout(e,t||0)}function Sr(e){e.g=xr(function(){e.g=null,e.i&&(e.i=!1,Sr(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}en(br,or),(Bt=br.prototype).da=!1,Bt.S=null,Bt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ar(this,"tick"),this.da&&(wr(this),this.start()))}},Bt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bt.M=function(){br.Z.M.call(this),wr(this),delete this.g};var Er=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ut(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Sr(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(tn);function kr(e){tn.call(this),this.h=e,this.g={}}en(kr,tn);var Ir=[];function Nr(e,t,n,r){Array.isArray(n)||(n&&(Ir[0]=n.toString()),n=Ir);for(var i=0;i<n.length;i++){var o=$n(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Tr(e){mn(e.g,function(e,t){this.g.hasOwnProperty(t)&&Zn(e)},e),e.g={}}function _r(){this.g=!0}function Cr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ur(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}kr.prototype.M=function(){kr.Z.M.call(this),Tr(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.Aa=function(){this.g=!1},_r.prototype.info=function(){};var Ar={},Dr=null;function jr(){return Dr=Dr||new or}function Pr(e){Mn.call(this,Ar.Ma,e)}function Or(e){var t=jr();ar(t,new Pr(t,e))}function Rr(e,t){Mn.call(this,Ar.STAT_EVENT,e),this.stat=t}function Lr(e){var t=jr();ar(t,new Rr(t,e))}function Mr(e,t){Mn.call(this,Ar.Na,e),this.size=t}function Fr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){e()},t)}Ar.Ma="serverreachability",en(Pr,Mn),Ar.STAT_EVENT="statevent",en(Rr,Mn),Ar.Na="timingevent",en(Mr,Mn);var Ur={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Br(){}function qr(e){return e.h||(e.h=e.i())}function zr(){}Br.prototype.h=null;var Hr,Kr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wr(){Mn.call(this,"d")}function Gr(){Mn.call(this,"c")}function Qr(){}function $r(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new kr(this),this.P=Xr,e=kn?125:void 0,this.W=new br(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yr}function Yr(){this.i=null,this.g="",this.h=!1}en(Wr,Mn),en(Gr,Mn),en(Qr,Br),Qr.prototype.g=function(){return new XMLHttpRequest},Qr.prototype.i=function(){return{}},Hr=new Qr;var Xr=45e3,Jr={},Zr={};function ei(e,t,n){e.K=1,e.v=Ei(vi(t)),e.s=n,e.U=!0,ti(e,null)}function ti(e,t){e.F=Date.now(),oi(e),e.A=vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Li(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Yr,e.g=Uo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Er(Jt(e.Ia,e,e.g),e.O)),Nr(e.V,e.g,"readystatechange",e.gb),t=e.H?gn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Or(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function ni(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ri(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ii(e,n))==Zr){4==t&&(e.o=4,Lr(14),i=!1),Cr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jr){e.o=4,Lr(15),Cr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Cr(e.j,e.m,r,null),li(e,r)}ni(e)&&r!=Zr&&r!=Jr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Lr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Do(t),t.L=!0,Lr(11))):(Cr(e.j,e.m,n,"[Invalid Chunked Response]"),ci(e),ui(e))}function ii(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zr:(n=Number(t.substring(n,r)),isNaN(n)?Jr:(r+=1)+n>t.length?Zr:(t=t.substr(r,n),e.C=r+n,t))}function oi(e){e.Y=Date.now()+e.P,ai(e,e.P)}function ai(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fr(Jt(e.eb,e),t)}function si(e){e.B&&(Ht.clearTimeout(e.B),e.B=null)}function ui(e){0==e.l.G||e.I||Oo(e.l,e)}function ci(e){si(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,wr(e.W),Tr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function li(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hi(n.i,e)))if(n.I=e.N,!e.J&&Hi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Po(n),So(n)}Ao(n),Lr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fr(Jt(n.ab,n),6e3));if(1>=zi(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Lo(n,11)}else if((e.J||n.g==e)&&Po(n),!un(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(hn(l,"spdy")||hn(l,"quic")||hn(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ki(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Si(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Fo(r,r.H?r.la:null,r.W),d.J){Wi(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(si(p),oi(p)),r.g=d}else Co(r);0<n.l.length&&Io(n)}else"stop"!=o[0]&&"close"!=o[0]||Lo(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Lo(n,7):xo(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Or(4)}catch(o){}}function hi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Wt(e)||"string"===typeof e)on(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Wt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Wt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function fi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function di(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];pi(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)pi(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function pi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Bt=$r.prototype).setTimeout=function(e){this.P=e},Bt.gb=function(e){e=e.target;var t=this.L;t&&3==go(e)?t.l():this.Ia(e)},Bt.Ia=function(e){try{if(e==this.g)e:{var t=go(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||kn||this.g&&(this.h.h||this.g.ga()||vo(this.g)))){this.I||4!=t||7==n||Or(8==n||0>=r?3:2),si(this);var i=this.g.ba();this.N=i;t:if(ni(this)){var o=vo(this.g);e="";var a=o.length,s=4==go(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ci(this),ui(this);var u="";break t}this.h.i=new Ht.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!un(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Lr(12),ci(this),ui(this);break e}Cr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,li(this,i)}this.U?(ri(this,t,u),kn&&this.i&&3==t&&(Nr(this.V,this.W,"tick",this.fb),this.W.start())):(Cr(this.j,this.m,u,null),li(this,u)),4==t&&ci(this),this.i&&!this.I&&(4==t?Oo(this.l,this):(this.i=!1,oi(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Lr(12)):(this.o=0,Lr(13)),ci(this),ui(this)}}}catch(t){}},Bt.fb=function(){if(this.g){var e=go(this.g),t=this.g.ga();this.C<t.length&&(si(this),ri(this,e,t),this.i&&4!=e&&oi(this))}},Bt.cancel=function(){this.I=!0,ci(this)},Bt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Or(3),Lr(17)),ci(this),this.o=2,ui(this)):ai(this,this.Y-e)},(Bt=fi.prototype).R=function(){di(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Bt.T=function(){return di(this),this.g.concat()},Bt.get=function(e,t){return pi(this.h,e)?this.h[e]:t},Bt.set=function(e,t){pi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Bt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var mi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof gi){this.g=void 0!==t?t:e.g,yi(this,e.j),this.s=e.s,bi(this,e.i),wi(this,e.m),this.l=e.l,t=e.h;var n=new ji;n.i=t.i,t.g&&(n.g=new fi(t.g),n.h=t.h),xi(this,n),this.o=e.o}else e&&(n=String(e).match(mi))?(this.g=!!t,yi(this,n[1]||"",!0),this.s=ki(n[2]||""),bi(this,n[3]||"",!0),wi(this,n[4]),this.l=ki(n[5]||"",!0),xi(this,n[6]||"",!0),this.o=ki(n[7]||"")):(this.g=!!t,this.h=new ji(null,this.g))}function vi(e){return new gi(e)}function yi(e,t,n){e.j=n?ki(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bi(e,t,n){e.i=n?ki(t,!0):t}function wi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xi(e,t,n){t instanceof ji?(e.h=t,function(e,t){t&&!e.j&&(Pi(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Oi(this,t),Li(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Ii(t,Ai)),e.h=new ji(t,e.g))}function Si(e,t,n){e.h.set(t,n)}function Ei(e){return Si(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ki(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ii(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ni),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ni(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ii(t,Ti,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ii(t,Ti,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ii(n,"/"==n.charAt(0)?Ci:_i,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ii(n,Di)),e.join("")};var Ti=/[#\/\?@]/g,_i=/[#\?:]/g,Ci=/[#\?]/g,Ai=/[#\?@]/g,Di=/#/g;function ji(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pi(e){e.g||(e.g=new fi,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Oi(e,t){Pi(e),t=Mi(e,t),pi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,pi((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&di(e)))}function Ri(e,t){return Pi(e),t=Mi(e,t),pi(e.g.h,t)}function Li(e,t,n){Oi(e,t),0<n.length&&(e.i=null,e.g.set(Mi(e,t),sn(n)),e.h+=n.length)}function Mi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Bt=ji.prototype).add=function(e,t){Pi(this),this.i=null,e=Mi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Bt.forEach=function(e,t){Pi(this),this.g.forEach(function(n,r){on(n,function(n){e.call(t,n,r,this)},this)},this)},Bt.T=function(){Pi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Bt.R=function(e){Pi(this);var t=[];if("string"===typeof e)Ri(this,e)&&(t=an(t,this.g.get(Mi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=an(t,e[n])}return t},Bt.set=function(e,t){return Pi(this),this.i=null,Ri(this,e=Mi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Bt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Fi=function(e,t){this.h=e,this.g=t};function Ui(e){this.l=e||Bi,Ht.PerformanceNavigationTiming?e=0<(e=Ht.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ht.g&&Ht.g.Ea&&Ht.g.Ea()&&Ht.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vi,Bi=10;function qi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zi(e){return e.h?1:e.g?e.g.size:0}function Hi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ki(e,t){e.g?e.g.add(t):e.h=t}function Wi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gi(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Vt(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return sn(e.i)}function Qi(){}function $i(){this.g=new Qi}function Yi(e,t,n){var r=n||"";try{hi(e,function(e,n){var i=e;Gt(e)&&(i=ur(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(fg){throw t.push(r+"type="+encodeURIComponent("_badmap")),fg}}function Xi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Ji(e){this.l=e.$b||null,this.j=e.ib||!1}function Zi(e,t){or.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=eo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ui.prototype.cancel=function(){var e,t;if(this.i=Gi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Vt(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Qi.prototype.stringify=function(e){return Ht.JSON.stringify(e,void 0)},Qi.prototype.parse=function(e){return Ht.JSON.parse(e,void 0)},en(Ji,Br),Ji.prototype.g=function(){return new Zi(this.l,this.j)},Ji.prototype.i=(Vi={},function(){return Vi}),en(Zi,or);var eo=0;function to(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function no(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ro(e)}function ro(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Bt=Zi.prototype).open=function(e,t){if(this.readyState!=eo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ro(this)},Bt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ht).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,no(this)),this.readyState=eo},Bt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ro(this)),this.g&&(this.readyState=3,ro(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ht.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;to(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Bt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?no(this):ro(this),3==this.readyState&&to(this)}},Bt.Ua=function(e){this.g&&(this.response=this.responseText=e,no(this))},Bt.Ta=function(e){this.g&&(this.response=e,no(this))},Bt.ha=function(){this.g&&no(this)},Bt.setRequestHeader=function(e,t){this.v.append(e,t)},Bt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Bt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var io=Ht.JSON.parse;function oo(e){or.call(this),this.headers=new fi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ao,this.K=this.L=!1}en(oo,or);var ao="",so=/^https?$/i,uo=["POST","PUT"];function co(e){return"content-type"==e.toLowerCase()}function lo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ho(e),po(e)}function ho(e){e.D||(e.D=!0,ar(e,"complete"),ar(e,"error"))}function fo(e){if(e.h&&"undefined"!=typeof zt&&(!e.C[1]||4!=go(e)||2!=e.ba()))if(e.v&&4==go(e))xr(e.Fa,0,e);else if(ar(e,"readystatechange"),4==go(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(mi)[1]||null;if(!o&&Ht.self&&Ht.self.location){var a=Ht.self.location.protocol;o=a.substr(0,a.length-1)}i=!so.test(o?o.toLowerCase():"")}t=i}if(t)ar(e,"complete"),ar(e,"success");else{e.m=6;try{var s=2<go(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",ho(e)}}finally{po(e)}}}function po(e,t){if(e.g){mo(e);var n=e.g,r=e.C[0]?Kt:null;e.g=null,e.C=null,t||ar(e,"ready");try{n.onreadystatechange=r}catch(fg){}}}function mo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ht.clearTimeout(e.A),e.A=null)}function go(e){return e.g?e.g.readyState:0}function vo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ao:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return mn(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Si(e,t,n))}function bo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wo(e){this.za=0,this.l=[],this.h=new _r,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bo("baseRetryDelayMs",5e3,e),this.$a=bo("retryDelaySeedMs",1e4,e),this.Ya=bo("forwardChannelMaxRetries",2,e),this.ra=bo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ui(e&&e.concurrentRequestLimit),this.Ca=new $i,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function xo(e){if(Eo(e),3==e.G){var t=e.V++,n=vi(e.F);Si(n,"SID",e.J),Si(n,"RID",t),Si(n,"TYPE","terminate"),To(e,n),(t=new $r(e,e.h,t,void 0)).K=2,t.v=Ei(vi(n)),n=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(n=Ht.navigator.sendBeacon(t.v.toString(),"")),!n&&Ht.Image&&((new Image).src=t.v,n=!0),n||(t.g=Uo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),oi(t)}Mo(e)}function So(e){e.g&&(Do(e),e.g.cancel(),e.g=null)}function Eo(e){So(e),e.u&&(Ht.clearTimeout(e.u),e.u=null),Po(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ht.clearTimeout(e.m),e.m=null)}function ko(e,t){e.l.push(new Fi(e.Za++,t)),3==e.G&&Io(e)}function Io(e){qi(e.i)||e.m||(e.m=!0,mr(e.Ha,e),e.C=0)}function No(e,t){var n;n=t?t.m:e.V++;var r=vi(e.F);Si(r,"SID",e.J),Si(r,"RID",n),Si(r,"AID",e.U),To(e,r),e.o&&e.s&&yo(r,e.o,e.s),n=new $r(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=_o(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ki(e.i,n),ei(n,r,t)}function To(e,t){e.j&&hi({},function(e,n){Si(t,n,e)})}function _o(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jt(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Yi(l,a,"req"+c+"_")}catch(wa){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Co(e){e.g||e.u||(e.Y=1,mr(e.Ga,e),e.A=0)}function Ao(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Fr(Jt(e.Ga,e),Ro(e,e.A)),e.A++,!0)}function Do(e){null!=e.B&&(Ht.clearTimeout(e.B),e.B=null)}function jo(e){e.g=new $r(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=vi(e.oa);Si(t,"RID","rpc"),Si(t,"SID",e.J),Si(t,"CI",e.N?"0":"1"),Si(t,"AID",e.U),To(e,t),Si(t,"TYPE","xmlhttp"),e.o&&e.s&&yo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ei(vi(t)),n.s=null,n.U=!0,ti(n,e)}function Po(e){null!=e.v&&(Ht.clearTimeout(e.v),e.v=null)}function Oo(e,t){var n=null;if(e.g==t){Po(e),Do(e),e.g=null;var r=2}else{if(!Hi(e.i,t))return;n=t.D,Wi(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ar(r=jr(),new Mr(r,n,t,i)),Io(e)}else Co(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(zi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Fr(Jt(e.Ha,e,t),Ro(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ao(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Lo(e,5);break;case 4:Lo(e,10);break;case 3:Lo(e,6);break;default:Lo(e,2)}}function Ro(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Lo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jt(e.jb,e);n||(n=new gi("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||yi(n,"https"),Ei(n)),function(e,t){var n=new _r;if(Ht.Image){var r=new Image;r.onload=Zt(Xi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zt(Xi,n,r,"TestLoadImage: error",!1,t),r.onabort=Zt(Xi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zt(Xi,n,r,"TestLoadImage: timeout",!1,t),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Lr(2);e.G=0,e.j&&e.j.va(t),Mo(e),Eo(e)}function Mo(e){e.G=0,e.I=-1,e.j&&(0==Gi(e.i).length&&0==e.l.length||(e.i.i.length=0,sn(e.l),e.l.length=0),e.j.ua())}function Fo(e,t,n){var r=function(e){return e instanceof gi?vi(e):new gi(e,void 0)}(n);if(""!=r.i)t&&bi(r,t+"."+r.i),wi(r,r.m);else{var i=Ht.location;r=function(e,t,n,r){var i=new gi(null,void 0);return e&&yi(i,e),t&&bi(i,t),n&&wi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&mn(e.aa,function(e,t){Si(r,t,e)}),t=e.D,n=e.sa,t&&n&&Si(r,t,n),Si(r,"VER",e.ma),To(e,r),r}function Uo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new oo(new Ji({ib:!0})):new oo(e.qa)).L=e.H,t}function Vo(){}function Bo(){if(Sn&&!(10<=Number(Rn)))throw Error("Environmental error: no available transport.")}function qo(e,t){or.call(this),this.g=new wo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!un(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!un(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ko(this)}function zo(e){Wr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ho(){Gr.call(this),this.status=1}function Ko(e){this.g=e}(Bt=oo.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hr.g(),this.C=this.u?qr(this.u):qr(Hr),this.g.onreadystatechange=Jt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void lo(this,o)}e=n||"";var i=new fi(this.headers);r&&hi(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=co,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ht.FormData&&e instanceof Ht.FormData,!(0<=rn(uo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mo(this),0<this.B&&((this.K=function(e){return Sn&&Pn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.pa,this)):this.A=xr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){lo(this,o)}},Bt.pa=function(){"undefined"!=typeof zt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},Bt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ar(this,"complete"),ar(this,"abort"),po(this))},Bt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),oo.Z.M.call(this)},Bt.Fa=function(){this.s||(this.F||this.v||this.l?fo(this):this.cb())},Bt.cb=function(){fo(this)},Bt.ba=function(){try{return 2<go(this)?this.g.status:-1}catch(Vi){return-1}},Bt.ga=function(){try{return this.g?this.g.responseText:""}catch(Vi){return""}},Bt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),io(t)}},Bt.Da=function(){return this.m},Bt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Bt=wo.prototype).ma=8,Bt.G=1,Bt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Bt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new $r(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yn(n=gn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_o(this,t,r),Si(i=vi(this.F),"RID",e),Si(i,"CVER",22),this.D&&Si(i,"X-HTTP-Session-Id",this.D),To(this,i),this.o&&n&&yo(i,this.o,n),Ki(this.i,t),this.Ra&&Si(i,"TYPE","init"),this.ja?(Si(i,"$req",r),Si(i,"SID","null"),t.$=!0,ei(t,i,null)):ei(t,i,r),this.G=2}}else 3==this.G&&(e?No(this,e):0==this.l.length||qi(this.i)||No(this))},Bt.Ga=function(){if(this.u=null,jo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Fr(Jt(this.bb,this),e)}},Bt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Lr(10),So(this),jo(this))},Bt.ab=function(){null!=this.v&&(this.v=null,So(this),Ao(this),Lr(19))},Bt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Lr(2)):(this.h.info("Failed to ping google.com"),Lr(1))},(Bt=Vo.prototype).xa=function(){},Bt.wa=function(){},Bt.va=function(){},Bt.ua=function(){},Bt.Oa=function(){},Bo.prototype.g=function(e,t){return new qo(e,t)},en(qo,or),qo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),mr(Jt(e.hb,e,t))),Lr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fo(e,null,e.W),Io(e)},qo.prototype.close=function(){xo(this.g)},qo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ko(this.g,t)}else this.v?((t={}).__data__=ur(e),ko(this.g,t)):ko(this.g,e)},qo.prototype.M=function(){this.g.j=null,delete this.j,xo(this.g),delete this.g,qo.Z.M.call(this)},en(zo,Wr),en(Ho,Gr),en(Ko,Vo),Ko.prototype.xa=function(){ar(this.g,"a")},Ko.prototype.wa=function(e){ar(this.g,new zo(e))},Ko.prototype.va=function(e){ar(this.g,new Ho(e))},Ko.prototype.ua=function(){ar(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,qo.prototype.send=qo.prototype.u,qo.prototype.open=qo.prototype.m,qo.prototype.close=qo.prototype.close,Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Vr.COMPLETE="complete",zr.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",or.prototype.listen=or.prototype.N,oo.prototype.listenOnce=oo.prototype.O,oo.prototype.getLastError=oo.prototype.La,oo.prototype.getLastErrorCode=oo.prototype.Da,oo.prototype.getStatus=oo.prototype.ba,oo.prototype.getResponseJson=oo.prototype.Qa,oo.prototype.getResponseText=oo.prototype.ga,oo.prototype.send=oo.prototype.ea;var Wo=function(){return new Bo},Go=function(){return jr()},Qo=Ur,$o=Vr,Yo=Ar,Xo={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Jo=Ji,Zo=zr,ea=oo;var ta=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ta.o=-1;var na={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ra=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Ue(t,e),t}(Error),ia=new xt("@firebase/firestore");function oa(){return ia.logLevel}function aa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ia.logLevel<=pt.DEBUG){var r=t.map(ca);ia.debug.apply(ia,Ke(["Firestore (8.10.1): "+e],r))}}function sa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ia.logLevel<=pt.ERROR){var r=t.map(ca);ia.error.apply(ia,Ke(["Firestore (8.10.1): "+e],r))}}function ua(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ia.logLevel<=pt.WARN){var r=t.map(ca);ia.warn.apply(ia,Ke(["Firestore (8.10.1): "+e],r))}}function ca(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function la(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw sa(t),new Error(t)}function ha(e,t){e||la()}function fa(e,t){return e}function da(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var pa=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=da(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function ma(e,t){return e<t?-1:e>t?1:0}function ga(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function va(e){return e+"\0"}var ya=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ra(na.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ra(na.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ra(na.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ra(na.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ma(this.nanoseconds,e.nanoseconds):ma(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ba=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ya(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function wa(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xa(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ea=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&la(),void 0===n?n=e.length-t:n>e.length-t&&la(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ra(na.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ea),Ia=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Ia.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ra(na.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ra(na.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ra(na.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ra(na.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ea),Ta=function(){function e(e){this.fields=e,e.sort(Na.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ga(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),_a=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ma(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();_a.EMPTY_BYTE_STRING=new _a("");var Ca=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(e){if(ha(!!e),"string"==typeof e){var t=0,n=Ca.exec(e);if(ha(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Da(e.seconds),nanos:Da(e.nanos)}}function Da(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ja(e){return"string"==typeof e?_a.fromBase64String(e):_a.fromUint8Array(e)}function Pa(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oa(e){var t=e.mapValue.fields.__previous_value__;return Pa(t)?Oa(t):t}function Ra(e){var t=Aa(e.mapValue.fields.__local_write_time__.timestampValue);return new ya(t.seconds,t.nanos)}function La(e){return null==e}function Ma(e){return 0===e&&1/e==-1/0}function Fa(e){return"number"==typeof e&&Number.isInteger(e)&&!Ma(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ua=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(ka.fromString(t))},e.fromName=function(t){return new e(ka.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ka.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ka.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ka(t.slice()))},e}();function Va(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pa(e)?4:10:la()}function Ba(e,t){var n=Va(e);if(n!==Va(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ra(e).isEqual(Ra(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Aa(e.timestampValue),r=Aa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ja(e.bytesValue).isEqual(ja(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Da(e.geoPointValue.latitude)===Da(t.geoPointValue.latitude)&&Da(e.geoPointValue.longitude)===Da(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Da(e.integerValue)===Da(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Da(e.doubleValue),r=Da(t.doubleValue);return n===r?Ma(n)===Ma(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ga(e.arrayValue.values||[],t.arrayValue.values||[],Ba);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wa(n)!==wa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ba(n[i],r[i])))return!1;return!0}(e,t);default:return la()}}function qa(e,t){return void 0!==(e.values||[]).find(function(e){return Ba(e,t)})}function za(e,t){var n=Va(e),r=Va(t);if(n!==r)return ma(n,r);switch(n){case 0:return 0;case 1:return ma(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Da(e.integerValue||e.doubleValue),r=Da(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ha(e.timestampValue,t.timestampValue);case 4:return Ha(Ra(e),Ra(t));case 5:return ma(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ja(e),r=ja(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ma(n[i],r[i]);if(0!==o)return o}return ma(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ma(Da(e.latitude),Da(t.latitude));return 0!==n?n:ma(Da(e.longitude),Da(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=za(n[i],r[i]);if(o)return o}return ma(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ma(r[a],o[a]);if(0!==s)return s;var u=za(n[r[a]],i[o[a]]);if(0!==u)return u}return ma(r.length,o.length)}(e.mapValue,t.mapValue);default:throw la()}}function Ha(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ma(e,t);var n=Aa(e),r=Aa(t),i=ma(n.seconds,r.seconds);return 0!==i?i:ma(n.nanos,r.nanos)}function Ka(e){return Wa(e)}function Wa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Aa(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ja(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ua.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Wa(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Wa(e.fields[o])}return t+"}"}(e.mapValue):la();var t,n}function Ga(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Qa(e){return!!e&&"integerValue"in e}function $a(e){return!!e&&"arrayValue"in e}function Ya(e){return!!e&&"nullValue"in e}function Xa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ja(e){return!!e&&"mapValue"in e}function Za(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xa(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Za(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Za(e.arrayValue.values[r]);return n}return Object.assign({},e)}var es=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ja(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(t)},e.prototype.setAll=function(e){var t=this,n=Na.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Za(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ja(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Ba(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ja(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){xa(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Za(this.value))},e}();function ts(e){var t=[];return xa(e.fields,function(e,n){var r=new Na([e]);if(Ja(n)){var i=ts(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)}),new Ta(t)}var ns=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ba.min(),es.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,es.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,es.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),rs=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function is(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new rs(e,t,n,r,i,o,a)}function os(e){var t=fa(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ka(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),La(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ys(t.startAt)),t.endAt&&(n+="|ub:",n+=ys(t.endAt)),t.h=n}return t.h}function as(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ws(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ba(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ss(e.startAt,t.startAt)&&Ss(e.endAt,t.endAt)}function ss(e){return Ua.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var us=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Ue(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new cs(e,n,r):"array-contains"===n?new ds(e,r):"in"===n?new ps(e,r):"not-in"===n?new ms(e,r):"array-contains-any"===n?new gs(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ls(e,n):new hs(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(za(t,this.value)):null!==t&&Va(this.value)===Va(t)&&this.m(za(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return la()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),cs=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Ua.fromName(r.referenceValue),i}return Ue(t,e),t.prototype.matches=function(e){var t=Ua.comparator(e.key,this.key);return this.m(t)},t}(us),ls=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=fs("in",n),r}return Ue(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(us),hs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=fs("not-in",n),r}return Ue(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(us);function fs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return Ua.fromName(e.referenceValue)})}var ds=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Ue(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return $a(t)&&qa(t.arrayValue,this.value)},t}(us),ps=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Ue(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&qa(this.value.arrayValue,t)},t}(us),ms=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Ue(t,e),t.prototype.matches=function(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!qa(this.value.arrayValue,t)},t}(us),gs=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Ue(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!$a(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return qa(t.value.arrayValue,e)})},t}(us),vs=function(e,t){this.position=e,this.before=t};function ys(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return Ka(e)}).join(",")}var bs=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function ws(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ua.comparator(Ua.fromName(a.referenceValue),n.key):za(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ss(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ba(e.position[n],t.position[n]))return!1;return!0}var Es=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ks(e,t,n,r,i,o,a,s){return new Es(e,t,n,r,i,o,a,s)}function Is(e){return new Es(e)}function Ns(e){return!La(e.limit)&&"F"===e.limitType}function Ts(e){return!La(e.limit)&&"L"===e.limitType}function _s(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cs(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function As(e){return null!==e.collectionGroup}function Ds(e){var t=fa(e);if(null===t.p){t.p=[];var n=Cs(t),r=_s(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new bs(n)),t.p.push(new bs(Na.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new bs(Na.keyField(),u))}}}return t.p}function js(e){var t=fa(e);if(!t.T)if("F"===t.limitType)t.T=is(t.path,t.collectionGroup,Ds(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ds(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new bs(o.field,a))}var s=t.endAt?new vs(t.endAt.position,!t.endAt.before):null,u=t.startAt?new vs(t.startAt.position,!t.startAt.before):null;t.T=is(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Ps(e,t,n){return new Es(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Os(e,t){return as(js(e),js(t))&&e.limitType===t.limitType}function Rs(e){return os(js(e))+"|lt:"+e.limitType}function Ls(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Ka(t.value);var t}).join(", ")+"]"),La(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ys(e.startAt)),e.endAt&&(t+=", endAt: "+ys(e.endAt)),"Target("+t+")"}(js(e))+"; limitType="+e.limitType+")"}function Ms(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ua.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!xs(e.startAt,Ds(e),t))&&(!e.endAt||!xs(e.endAt,Ds(e),t))}(e,t)}function Fs(e){return function(t,n){for(var r=!1,i=0,o=Ds(e);i<o.length;i++){var a=o[i],s=Us(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Us(e,t,n){var r=e.field.isKeyField()?Ua.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?za(r,i):la()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return la()}}function Vs(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ma(t)?"-0":t}}function Bs(e){return{integerValue:""+e}}function qs(e,t){return Fa(t)?Bs(t):Vs(e,t)}var zs=function(){this._=void 0};function Hs(e,t,n){return e instanceof Gs?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qs?$s(e,t):e instanceof Ys?Xs(e,t):function(e,t){var n=Ws(e,t),r=Zs(n)+Zs(e.A);return Qa(n)&&Qa(e.A)?Bs(r):Vs(e.R,r)}(e,t)}function Ks(e,t,n){return e instanceof Qs?$s(e,t):e instanceof Ys?Xs(e,t):n}function Ws(e,t){return e instanceof Js?Qa(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t}(zs),Qs=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ue(t,e),t}(zs);function $s(e,t){for(var n=eu(t),r=function(e){n.some(function(t){return Ba(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ys=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ue(t,e),t}(zs);function Xs(e,t){for(var n=eu(t),r=function(e){n=n.filter(function(t){return!Ba(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Js=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Ue(t,e),t}(zs);function Zs(e){return Da(e.integerValue||e.doubleValue)}function eu(e){return $a(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tu=function(e,t){this.field=e,this.transform=t},nu=function(e,t){this.version=e,this.transformResults=t},ru=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function iu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ou=function(){};function au(e,t,n){e instanceof hu?function(e,t,n){var r=e.value.clone(),i=pu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fu?function(e,t,n){if(iu(e.precondition,t)){var r=pu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(du(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function su(e,t,n){e instanceof hu?function(e,t,n){if(iu(e.precondition,t)){var r=e.value.clone(),i=mu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(lu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof fu?function(e,t,n){if(iu(e.precondition,t)){var r=mu(e.fieldTransforms,n,t),i=t.data;i.setAll(du(e)),i.setAll(r),t.convertToFoundDocument(lu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){iu(e.precondition,t)&&t.convertToNoDocument(ba.min())}(e,t)}function uu(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Ws(o.transform,a||null);null!=s&&(null==n&&(n=es.empty()),n.set(o.field,s))}return n||null}function cu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ga(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qs&&t instanceof Qs||e instanceof Ys&&t instanceof Ys?ga(e.elements,t.elements,Ba):e instanceof Js&&t instanceof Js?Ba(e.A,t.A):e instanceof Gs&&t instanceof Gs}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function lu(e){return e.isFoundDocument()?e.version:ba.min()}var hu=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Ue(t,e),t}(ou),fu=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Ue(t,e),t}(ou);function du(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function pu(e,t,n){var r=new Map;ha(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ks(a,s,n[i]))}return r}function mu(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Hs(s,u,t))}return r}var gu,vu,yu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Ue(t,e),t}(ou),bu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Ue(t,e),t}(ou),wu=function(e){this.count=e};function xu(e){switch(e){case na.OK:return la();case na.CANCELLED:case na.UNKNOWN:case na.DEADLINE_EXCEEDED:case na.RESOURCE_EXHAUSTED:case na.INTERNAL:case na.UNAVAILABLE:case na.UNAUTHENTICATED:return!1;case na.INVALID_ARGUMENT:case na.NOT_FOUND:case na.ALREADY_EXISTS:case na.PERMISSION_DENIED:case na.FAILED_PRECONDITION:case na.ABORTED:case na.OUT_OF_RANGE:case na.UNIMPLEMENTED:case na.DATA_LOSS:return!0;default:return la()}}function Su(e){if(void 0===e)return sa("GRPC error has no .code"),na.UNKNOWN;switch(e){case gu.OK:return na.OK;case gu.CANCELLED:return na.CANCELLED;case gu.UNKNOWN:return na.UNKNOWN;case gu.DEADLINE_EXCEEDED:return na.DEADLINE_EXCEEDED;case gu.RESOURCE_EXHAUSTED:return na.RESOURCE_EXHAUSTED;case gu.INTERNAL:return na.INTERNAL;case gu.UNAVAILABLE:return na.UNAVAILABLE;case gu.UNAUTHENTICATED:return na.UNAUTHENTICATED;case gu.INVALID_ARGUMENT:return na.INVALID_ARGUMENT;case gu.NOT_FOUND:return na.NOT_FOUND;case gu.ALREADY_EXISTS:return na.ALREADY_EXISTS;case gu.PERMISSION_DENIED:return na.PERMISSION_DENIED;case gu.FAILED_PRECONDITION:return na.FAILED_PRECONDITION;case gu.ABORTED:return na.ABORTED;case gu.OUT_OF_RANGE:return na.OUT_OF_RANGE;case gu.UNIMPLEMENTED:return na.UNIMPLEMENTED;case gu.DATA_LOSS:return na.DATA_LOSS;default:return la()}}(vu=gu||(gu={}))[vu.OK=0]="OK",vu[vu.CANCELLED=1]="CANCELLED",vu[vu.UNKNOWN=2]="UNKNOWN",vu[vu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vu[vu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vu[vu.NOT_FOUND=5]="NOT_FOUND",vu[vu.ALREADY_EXISTS=6]="ALREADY_EXISTS",vu[vu.PERMISSION_DENIED=7]="PERMISSION_DENIED",vu[vu.UNAUTHENTICATED=16]="UNAUTHENTICATED",vu[vu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vu[vu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vu[vu.ABORTED=10]="ABORTED",vu[vu.OUT_OF_RANGE=11]="OUT_OF_RANGE",vu[vu.UNIMPLEMENTED=12]="UNIMPLEMENTED",vu[vu.INTERNAL=13]="INTERNAL",vu[vu.UNAVAILABLE=14]="UNAVAILABLE",vu[vu.DATA_LOSS=15]="DATA_LOSS";var Eu=function(){function e(e,t){this.comparator=e,this.root=t||Iu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Iu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Iu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new ku(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new ku(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ku(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new ku(this.root,e,this.comparator,!0)},e}(),ku=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Iu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw la();if(this.right.isRed())throw la();var e=this.left.check();if(e!==this.right.check())throw la();return e+(this.isRed()?0:1)},e}();Iu.EMPTY=null,Iu.RED=!0,Iu.BLACK=!1,Iu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw la()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw la()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw la()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw la()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw la()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Iu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Nu=function(){function e(e){this.comparator=e,this.data=new Eu(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Tu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Tu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Tu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),_u=new Eu(Ua.comparator);function Cu(){return _u}var Au=new Eu(Ua.comparator);function Du(){return Au}var ju=new Eu(Ua.comparator);function Pu(){return ju}var Ou=new Nu(Ua.comparator);function Ru(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ou,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lu=new Nu(ma);function Mu(){return Lu}var Fu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Uu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ba.min(),r,Mu(),Cu(),Ru())},e}(),Uu=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(_a.EMPTY_BYTE_STRING,n,Ru(),Ru(),Ru())},e}(),Vu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Bu=function(e,t){this.targetId=e,this.V=t},qu=function(e,t,n,r){void 0===n&&(n=_a.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},zu=function(){function e(){this.S=0,this.D=Wu(),this.C=_a.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Ru(),t=Ru(),n=Ru();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:la()}}),new Uu(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Wu()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Hu=function(){function e(e){this.W=e,this.G=new Map,this.H=Cu(),this.J=Ku(),this.Y=new Nu(ma)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:la()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(ss(i))if(0===n){var o=new Ua(i.path);this.tt(t,o,ns.newNoDocument(o,ba.min()))}else ha(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&ss(o.target)){var a=new Ua(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ns.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=Ru();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Fu(e,n,this.Y,this.H,r);return this.H=Cu(),this.J=Ku(),this.Y=new Nu(ma),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new zu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Nu(ma),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||aa("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new zu),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Ku(){return new Eu(Ua.comparator)}function Wu(){return new Eu(Ua.comparator)}var Gu={asc:"ASCENDING",desc:"DESCENDING"},Qu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$u=function(e,t){this.databaseId=e,this.I=t};function Yu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xu(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ju(e,t){return Yu(e,t.toTimestamp())}function Zu(e){return ha(!!e),ba.fromTimestamp(function(e){var t=Aa(e);return new ya(t.seconds,t.nanos)}(e))}function ec(e,t){return function(e){return new ka(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tc(e){var t=ka.fromString(e);return ha(Ic(t)),t}function nc(e,t){return ec(e.databaseId,t.path)}function rc(e,t){var n=tc(t);if(n.get(1)!==e.databaseId.projectId)throw new ra(na.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ra(na.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ua(sc(n))}function ic(e,t){return ec(e.databaseId,t)}function oc(e){var t=tc(e);return 4===t.length?ka.emptyPath():sc(t)}function ac(e){return new ka(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sc(e){return ha(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uc(e,t,n){return{name:nc(e,t),fields:n.value.mapValue.fields}}function cc(e,t,n){var r=rc(e,t.name),i=Zu(t.updateTime),o=new es({mapValue:{fields:t.fields}}),a=ns.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function lc(e,t){var n;if(t instanceof hu)n={update:uc(e,t.key,t.value)};else if(t instanceof yu)n={delete:nc(e,t.key)};else if(t instanceof fu)n={update:uc(e,t.key,t.data),updateMask:kc(t.fieldMask)};else{if(!(t instanceof bu))return la();n={verify:nc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof Gs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ys)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Js)return{fieldPath:t.field.canonicalString(),increment:n.A};throw la()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ju(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:la()}(e,t.precondition)),n}function hc(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ru.updateTime(Zu(e.updateTime)):void 0!==e.exists?ru.exists(e.exists):ru.none()}(t.currentDocument):ru.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)ha("REQUEST_TIME"===t.setToServerValue),n=new Gs;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Qs(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ys(i)}else"increment"in t?n=new Js(e,t.increment):la();var o=Na.fromServerFormat(t.fieldPath);return new tu(o,n)}(e,t)}):[];if(t.update){t.update.name;var i=rc(e,t.update.name),o=new es({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Ta(t.map(function(e){return Na.fromServerFormat(e)}))}(t.updateMask);return new fu(i,o,a,n,r)}return new hu(i,o,n,r)}if(t.delete){var s=rc(e,t.delete);return new yu(s,n)}if(t.verify){var u=rc(e,t.verify);return new bu(u,n)}return la()}function fc(e,t){return{documents:[ic(e,t.path)]}}function dc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ic(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ic(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Xa(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NAN"}};if(Ya(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xa(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NAN"}};if(Ya(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(e.field),op:bc(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:wc(e.field),direction:yc(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||La(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=gc(t.startAt)),t.endAt&&(n.structuredQuery.endAt=gc(t.endAt)),n}function pc(e){var t=oc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ha(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=mc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return function(e){return new bs(xc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return La(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=vc(n.startAt));var l=null;return n.endAt&&(l=vc(n.endAt)),ks(t,i,s,a,u,"F",c,l)}function mc(e){return e?void 0!==e.unaryFilter?[Ec(e)]:void 0!==e.fieldFilter?[Sc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return mc(e)}).reduce(function(e,t){return e.concat(t)}):la():[]}function gc(e){return{before:e.before,values:e.position}}function vc(e){var t=!!e.before,n=e.values||[];return new vs(n,t)}function yc(e){return Gu[e]}function bc(e){return Qu[e]}function wc(e){return{fieldPath:e.canonicalString()}}function xc(e){return Na.fromServerFormat(e.fieldPath)}function Sc(e){return us.create(xc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return la()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ec(e){switch(e.unaryFilter.op){case"IS_NAN":var t=xc(e.unaryFilter.field);return us.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=xc(e.unaryFilter.field);return us.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xc(e.unaryFilter.field);return us.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xc(e.unaryFilter.field);return us.create(i,"!=",{nullValue:"NULL_VALUE"});default:return la()}}function kc(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Ic(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Nc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_c(t)),t=Tc(e.get(n),t);return _c(t)}function Tc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _c(e){return e+"\x01\x01"}function Cc(e){var t=e.length;if(ha(t>=2),2===t)return ha("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ka.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&la(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:la()}o=a+2}return new ka(r)}var Ac=function(e,t){this.seconds=e,this.nanoseconds=t},Dc=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Dc.store="owner",Dc.key="owner";var jc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};jc.store="mutationQueues",jc.keyPath="userId";var Pc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Pc.store="mutations",Pc.keyPath="batchId",Pc.userMutationsIndex="userMutationsIndex",Pc.userMutationsKeyPath=["userId","batchId"];var Oc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Nc(t)]},e.key=function(e,t,n){return[e,Nc(t),n]},e}();Oc.store="documentMutations",Oc.PLACEHOLDER=new Oc;var Rc=function(e,t){this.path=e,this.readTime=t},Lc=function(e,t){this.path=e,this.version=t},Mc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Mc.store="remoteDocuments",Mc.readTimeIndex="readTimeIndex",Mc.readTimeIndexPath="readTime",Mc.collectionReadTimeIndex="collectionReadTimeIndex",Mc.collectionReadTimeIndexPath=["parentPath","readTime"];var Fc=function(e){this.byteSize=e};Fc.store="remoteDocumentGlobal",Fc.key="remoteDocumentGlobalKey";var Uc=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Uc.store="targets",Uc.keyPath="targetId",Uc.queryTargetsIndexName="queryTargetsIndex",Uc.queryTargetsKeyPath=["canonicalId","targetId"];var Vc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Vc.store="targetDocuments",Vc.keyPath=["targetId","path"],Vc.documentTargetsIndex="documentTargetsIndex",Vc.documentTargetsKeyPath=["path","targetId"];var Bc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bc.key="targetGlobalKey",Bc.store="targetGlobal";var qc=function(e,t){this.collectionId=e,this.parent=t};qc.store="collectionParents",qc.keyPath=["collectionId","parent"];var zc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};zc.store="clientMetadata",zc.keyPath="clientId";var Hc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Hc.store="bundles",Hc.keyPath="bundleId";var Kc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Kc.store="namedQueries",Kc.keyPath="name";var Wc=Ke(Ke([],Ke(Ke([],Ke(Ke([],Ke(Ke([],[jc.store,Pc.store,Oc.store,Mc.store,Uc.store,Dc.store,Bc.store,Vc.store]),[zc.store])),[Fc.store])),[qc.store])),[Hc.store,Kc.store]),Gc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),$c=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Yc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&la(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),Xc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new $c,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new el(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=ol(t.target.error);n.ft.reject(new el(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new el(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(aa("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new nl(t)},e}(),Jc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Je())&&sa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return aa("SimpleDb","Removing database:",e),rl(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Je(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Be(this,void 0,void 0,function(){var t,n=this;return qe(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(aa("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new el(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new ra(na.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new el(e,n))},i.onupgradeneeded=function(e){aa("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next(function(){aa("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Be(this,void 0,void 0,function(){var i,o,a,s,u;return qe(this,function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return qe(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=Xc.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch(function(e){return t.abort(e),Yc.reject(e)}).toPromise(),u={},a.catch(function(){}),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,aa("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Zc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return rl(this.Pt.delete())},e}(),el=function(e){function t(t,n){var r=this;return(r=e.call(this,na.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Ue(t,e),t}(ra);function tl(e){return"IndexedDbTransactionError"===e.name}var nl=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(aa("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(aa("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rl(n)},e.prototype.add=function(e){return aa("SimpleDb","ADD",this.store.name,e,e),rl(this.store.add(e))},e.prototype.get=function(e){var t=this;return rl(this.store.get(e)).next(function(n){return void 0===n&&(n=null),aa("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return aa("SimpleDb","DELETE",this.store.name,e),rl(this.store.delete(e))},e.prototype.count=function(){return aa("SimpleDb","COUNT",this.store.name),rl(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){aa("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Yc(function(n,r){t.onerror=function(e){var t=ol(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new Yc(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Zc(i),a=t(i.primaryKey,i.value,o);if(a instanceof Yc){var s=a.catch(function(e){return o.done(),Yc.reject(e)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Yc.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function rl(e){return new Yc(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ol(e.target.error);n(t)}})}var il=!1;function ol(e){var t=Jc._t(Je());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ra("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return il||(il=!0,setTimeout(function(){throw r},0)),r}}return e}var al=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Ue(t,e),t}(Qc);function sl(e,t){var n=fa(e);return Jc.It(n.Mt,t)}var ul=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&au(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&su(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&su(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ba.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Ru())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,function(e,t){return cu(e,t)})&&ga(this.baseMutations,e.baseMutations,function(e,t){return cu(e,t)})},e}(),cl=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){ha(t.mutations.length===r.length);for(var i=Pu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),ll=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ba.min()),void 0===o&&(o=ba.min()),void 0===a&&(a=_a.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),hl=function(e){this.Lt=e};function fl(e,t){if(t.document)return cc(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ua.fromSegments(t.noDocument.path),r=vl(t.noDocument.readTime),i=ns.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Ua.fromSegments(t.unknownDocument.path);return r=vl(t.unknownDocument.version),ns.newUnknownDocument(o,r)}return la()}function dl(e,t,n){var r=pl(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:nc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yu(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Mc(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=gl(t.version);return a=t.hasCommittedMutations,new Mc(null,new Rc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=gl(t.version);return new Mc(new Lc(c,l),null,null,!0,r,i)}return la()}function pl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ml(e){var t=new ya(e[0],e[1]);return ba.fromTimestamp(t)}function gl(e){var t=e.toTimestamp();return new Ac(t.seconds,t.nanoseconds)}function vl(e){var t=new ya(e.seconds,e.nanoseconds);return ba.fromTimestamp(t)}function yl(e,t){for(var n=(t.baseMutations||[]).map(function(t){return hc(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(t){return hc(e.Lt,t)}),s=ya.fromMillis(t.localWriteTimeMs);return new ul(t.batchId,s,n,a)}function bl(e){var t,n,r=vl(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?vl(e.lastLimboFreeSnapshotVersion):ba.min();return void 0!==e.query.documents?(ha(1===(n=e.query).documents.length),t=js(Is(oc(n.documents[0])))):t=function(e){return js(pc(e))}(e.query),new ll(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_a.fromBase64String(e.resumeToken))}function wl(e,t){var n,r=gl(t.snapshotVersion),i=gl(t.lastLimboFreeSnapshotVersion);n=ss(t.target)?fc(e.Lt,t.target):dc(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Uc(t.targetId,os(t.target),r,o,t.sequenceNumber,i,n)}function xl(e){var t=pc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ps(t,t.limit,"L"):t}var Sl=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return El(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:vl(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return El(e).put({bundleId:(n=t).id,createTime:gl(Zu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return kl(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:xl(t.bundledQuery),readTime:vl(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return kl(e).put(function(e){return{name:e.name,readTime:gl(Zu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function El(e){return sl(e,Hc.store)}function kl(e){return sl(e,Kc.store)}var Il=function(){function e(){this.Bt=new Nl}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Yc.resolve()},e.prototype.getCollectionParents=function(e,t){return Yc.resolve(this.Bt.getEntries(t))},e}(),Nl=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nu(ka.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Nu(ka.comparator)).toArray()},e}(),Tl=function(){function e(){this.qt=new Nl}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:Nc(i)};return _l(e).put(o)}return Yc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[va(t),""],!1,!0);return _l(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Cc(o.parent))}return n})},e}();function _l(e){return sl(e,qc.store)}var Cl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Al=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Dl(e,t,n){var r=e.store(Pc.store),i=e.store(Oc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){ha(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Oc.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Yc.waitFor(o).next(function(){return c})}function jl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw la();t=e.noDocument}return JSON.stringify(t).length}Al.DEFAULT_COLLECTION_PERCENTILE=10,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Al.DEFAULT=new Al(41943040,Al.DEFAULT_COLLECTION_PERCENTILE,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Al.DISABLED=new Al(-1,0,0);var Pl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return ha(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rl(e).$t({index:Pc.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Ll(e),a=Rl(e);return a.add({}).next(function(s){ha("number"==typeof s);for(var u=new ul(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return lc(e.Lt,t)}),i=n.mutations.map(function(t){return lc(e.Lt,t)});return new Pc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Nu(function(e,t){return ma(e.canonicalString(),t.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],m=Oc.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,Oc.PLACEHOLDER))}return h.forEach(function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),Yc.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Rl(e).get(t).next(function(e){return e?(ha(e.userId===n.userId),yl(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Yc.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Rl(e).$t({index:Pc.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(ha(t.batchId>=r),o=yl(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rl(e).$t({index:Pc.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rl(e).Nt(Pc.userMutationsIndex,n).next(function(e){return e.map(function(e){return yl(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Oc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ll(e).$t({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Cc(u);if(s===n.userId&&t.path.isEqual(l))return Rl(e).get(c).next(function(e){if(!e)throw la();ha(e.userId===n.userId),o.push(yl(n.R,e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nu(ma),i=[];return t.forEach(function(t){var o=Oc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ll(e).$t({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Cc(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Yc.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Oc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Nu(ma);return Ll(e).$t({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Cc(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Wt(e,s)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Rl(e).get(t).next(function(e){if(null===e)throw la();ha(e.userId===n.userId),r.push(yl(n.R,e))}))}),Yc.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Dl(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),Yc.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Yc.resolve();var r=IDBKeyRange.lowerBound(Oc.prefixForUser(t.userId)),i=[];return Ll(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=Cc(e[1]);i.push(o)}else r.done()}).next(function(){ha(0===i.length)})})},e.prototype.containsKey=function(e,t){return Ol(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Ml(e).get(this.userId).next(function(e){return e||new jc(t.userId,-1,"")})},e}();function Ol(e,t,n){var r=Oc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ll(e).$t({range:o,Ft:!0},function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Rl(e){return sl(e,Pc.store)}function Ll(e){return sl(e,Oc.store)}function Ml(e){return sl(e,jc.store)}var Fl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Ul=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new Fl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return ba.fromTimestamp(new ya(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Vl(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return ha(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Vl(e).$t(function(a,s){var u=bl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return Yc.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return Vl(e).$t(function(e,n){var r=bl(n);t(r)})},e.prototype.Xt=function(e){return Bl(e).get(Bc.key).next(function(e){return ha(null!==e),e})},e.prototype.Zt=function(e,t){return Bl(e).put(Bc.key,t)},e.prototype.te=function(e,t){return Vl(e).put(wl(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=os(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vl(e).$t({range:r,index:Uc.queryTargetsIndexName},function(e,n,r){var o=bl(n);as(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ql(e);return t.forEach(function(t){var a=Nc(t.path);i.push(o.put(new Vc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),Yc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ql(e);return Yc.forEach(t,function(t){var o=Nc(t.path);return Yc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ql(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ql(e),i=Ru();return r.$t({range:n,Ft:!0},function(e,t,n){var r=Cc(e[1]),o=new Ua(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=Nc(t.path),r=IDBKeyRange.bound([n],[va(n)],!1,!0),i=0;return ql(e).$t({index:Vc.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return Vl(e).get(t).next(function(e){return e?bl(e):null})},e}();function Vl(e){return sl(e,Uc.store)}function Bl(e){return sl(e,Bc.store)}function ql(e){return sl(e,Vc.store)}function zl(e){return Be(this,void 0,void 0,function(){return qe(this,function(t){if(e.code!==na.FAILED_PRECONDITION||e.message!==Gc)throw e;return aa("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Hl(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ma(n,i);return 0===a?ma(r,o):a}var Kl=function(){function e(e){this.ne=e,this.buffer=new Nu(Hl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Hl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Wl=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;aa("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Be(t,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return tl(t=n.sent())?(aa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,zl(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),Gl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Yc.resolve(ta.o);var r=new Kl(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(aa("LruGarbageCollector","Garbage collection skipped; disabled"),Yc.resolve(Cl)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(aa("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Cl):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(aa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),oa()<=pt.DEBUG&&aa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Yc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),Ql=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Gl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return $l(e,n)},e.prototype.removeReference=function(e,t,n){return $l(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return $l(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Ml(e).Ot(function(r){return Ol(e,r,t).next(function(e){return e&&(n=!0),Yc.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(a,s){if(s<=t){var u=n._e(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),ql(e).delete([0,Nc(a.path)])})});i.push(u)}}).next(function(){return Yc.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return $l(e,t)},e.prototype.we=function(e,t){var n,r=ql(e),i=ta.o;return r.$t({index:Vc.documentTargetsIndex},function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==ta.o&&t(new Ua(Cc(n)),i),i=s,n=a):i=ta.o}).next(function(){i!==ta.o&&t(new Ua(Cc(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function $l(e,t){return ql(e).put(function(e,t){return new Vc(0,Nc(e.path),t)}(t,e.currentSequenceNumber))}var Yl=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){xa(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return Sa(this.inner)},e}(),Xl=function(){function e(){this.changes=new Yl(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ba.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ns.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Jl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return th(e).put(nh(t),n)},e.prototype.removeEntry=function(e,t){var n=th(e),r=nh(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return th(e).get(nh(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return th(e).get(nh(t)).next(function(e){return{document:n.ye(t,e),size:jl(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=Cu();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=Cu(),i=new Eu(Ua.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,jl(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Yc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return th(e).$t({range:r},function(e,t,r){for(var a=Ua.fromSegments(e);o&&Ua.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Cu(),o=t.path.length+1,a={};if(n.isEqual(ba.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=pl(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Mc.collectionReadTimeIndex}return th(e).$t(a,function(e,n,a){if(e.length===o){var s=fl(r.R,n);t.path.isPrefixOf(s.key.path)?Ms(t,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new Zl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return eh(e).get(Fc.key).next(function(e){return ha(!!e),e})},e.prototype.me=function(e,t){return eh(e).put(Fc.key,t)},e.prototype.ye=function(e,t){if(t){var n=fl(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ba.min()))return n}return ns.newInvalidDocument(e)},e}(),Zl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Yl(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Ue(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Nu(function(e,t){return ma(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=dl(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=jl(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=dl(t.Ie.R,ns.newNoDocument(o,ba.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),Yc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(Xl);function eh(e){return sl(e,Fc.store)}function th(e){return sl(e,Mc.store)}function nh(e){return e.path.toArray()}var rh=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;ha(n<r&&n>=0&&r<=11);var o=new Xc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Dc.store)}(e),function(e){e.createObjectStore(jc.store,{keyPath:jc.keyPath}),e.createObjectStore(Pc.store,{keyPath:Pc.keyPath,autoIncrement:!0}).createIndex(Pc.userMutationsIndex,Pc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Oc.store)}(e),ih(e),function(e){e.createObjectStore(Mc.store)}(e));var a=Yc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Vc.store),e.deleteObjectStore(Uc.store),e.deleteObjectStore(Bc.store)}(e),ih(e)),a=a.next(function(){return function(e){var t=e.store(Bc.store),n=new Bc(0,0,ba.min().toTimestamp(),0);return t.put(Bc.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(e,t){return t.store(Pc.store).Nt().next(function(n){e.deleteObjectStore(Pc.store),e.createObjectStore(Pc.store,{keyPath:Pc.keyPath,autoIncrement:!0}).createIndex(Pc.userMutationsIndex,Pc.userMutationsKeyPath,{unique:!0});var r=t.store(Pc.store),i=n.map(function(e){return r.put(e)});return Yc.waitFor(i)})}(e,o)})),a=a.next(function(){!function(e){e.createObjectStore(zc.store,{keyPath:zc.keyPath})}(e)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(e){e.createObjectStore(Fc.store)}(e),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(a=a.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Mc.store);t.createIndex(Mc.readTimeIndex,Mc.readTimeIndexPath,{unique:!1}),t.createIndex(Mc.collectionReadTimeIndex,Mc.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(e){e.createObjectStore(Hc.store,{keyPath:Hc.keyPath})}(e),function(e){e.createObjectStore(Kc.store,{keyPath:Kc.keyPath})}(e)})),a},e.prototype.be=function(e){var t=0;return e.store(Mc.store).$t(function(e,n){t+=jl(n)}).next(function(){var n=new Fc(t);return e.store(Fc.store).put(Fc.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(jc.store),r=e.store(Pc.store);return n.Nt().next(function(n){return Yc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Pc.userMutationsIndex,i).next(function(r){return Yc.forEach(r,function(r){ha(r.userId===n.userId);var i=yl(t.R,r);return Dl(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(Vc.store),n=e.store(Mc.store);return e.store(Bc.store).get(Bc.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new ka(n),a=function(e){return[0,Nc(e)]}(o);r.push(t.get(a).next(function(n){return n?Yc.resolve():function(n){return t.put(new Vc(0,Nc(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return Yc.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(qc.store,{keyPath:qc.keyPath});var n=t.store(qc.store),r=new Nl,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Nc(i)})}};return t.store(Mc.store).$t({Ft:!0},function(e,t){var n=new ka(e);return i(n.popLast())}).next(function(){return t.store(Oc.store).$t({Ft:!0},function(e,t){e[0];var n=e[1];e[2];var r=Cc(n);return i(r.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(Uc.store);return n.$t(function(e,r){var i=bl(r),o=wl(t.R,i);return n.put(o)})},e}();function ih(e){e.createObjectStore(Vc.store,{keyPath:Vc.keyPath}).createIndex(Vc.documentTargetsIndex,Vc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Uc.store,{keyPath:Uc.keyPath}).createIndex(Uc.queryTargetsIndexName,Uc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Bc.store)}var oh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ah=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new ra(na.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ql(this,i),this.Le=n+"main",this.R=new hl(u),this.Be=new Jc(this.Le,11,new rh(this.R)),this.qe=new Ul(this.referenceDelegate,this.R),this.Ut=new Tl,this.Ue=function(e,t){return new Jl(e,t)}(this.R,this.Ut),this.Ke=new Sl,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&sa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ra(na.FAILED_PRECONDITION,oh);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new ta(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Be(t,void 0,void 0,function(){return qe(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return Be(t,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return Be(t,void 0,void 0,function(){return qe(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return uh(t).put(new zc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(tl(t))return aa("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return aa("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return sh(e).get(Dc.key).next(function(e){return Yc.resolve(t.tn(e))})},e.prototype.en=function(e){return uh(e).delete(this.clientId)},e.prototype.nn=function(){return Be(this,void 0,void 0,function(){var e,t,n,r,i=this;return qe(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=sl(e,zc.store);return t.Nt().next(function(e){var n=i.rn(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return Yc.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Yc.resolve(!0):sh(e).get(Dc.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new ra(na.FAILED_PRECONDITION,oh);return!1}}return!(!t.networkEnabled||!t.inForeground)||uh(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&aa("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return Be(this,void 0,void 0,function(){var e=this;return qe(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dc.store,zc.store],function(t){var n=new al(t,ta.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return uh(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Pl.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;aa("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Wc,function(o){return i=new al(o,r.Ne?r.Ne.next():ta.o),"readwrite-primary"===t?r.Je(i).next(function(e){return!!e||r.Ye(i)}).next(function(t){if(!t)throw sa("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new ra(na.FAILED_PRECONDITION,Gc);return n(i)}).next(function(e){return r.Ze(i).next(function(){return e})}):r.dn(i).next(function(){return n(i)})}).then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return sh(e).get(Dc.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ra(na.FAILED_PRECONDITION,oh)})},e.prototype.Ze=function(e){var t=new Dc(this.clientId,this.allowTabSynchronization,Date.now());return sh(e).put(Dc.key,t)},e.yt=function(){return Jc.yt()},e.prototype.Xe=function(e){var t=this,n=sh(e);return n.get(Dc.key).next(function(e){return t.tn(e)?(aa("IndexedDbPersistence","Releasing primary lease."),n.delete(Dc.key)):Yc.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(sa("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return aa("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return sa("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){sa("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function sh(e){return sl(e,Dc.store)}function uh(e){return sl(e,zc.store)}function ch(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var lh=function(e,t){this.progress=e,this.wn=t},hh=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Ua.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):As(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Ua(t)).next(function(e){var t=Du();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Du();return this.Ut.getCollectionParents(e,i).next(function(a){return Yc.forEach(a,function(a){var s=function(e,t){return new Es(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,o.Rn(e,i,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ns.newInvalidDocument(c),r=r.insert(c,l)),su(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){Ms(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=Ru(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof fu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),fh=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ru(),i=Ru(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),dh=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ba.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(o){var a=i.Cn(t,o);return(Ns(t)||Ts(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(oa()<=pt.DEBUG&&aa("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ls(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return a.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new Nu(Fs(e));return t.forEach(function(t,r){Ms(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return oa()<=pt.DEBUG&&aa("QueryEngine","Using full collection scan to execute query:",Ls(t)),this.Sn.getDocumentsMatchingQuery(e,t,ba.min())},e}(),ph=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Eu(ma),this.Fn=new Yl(function(e){return os(e)},as),this.$n=ba.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new hh(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}();function mh(e,t,n,r){return new ph(e,t,n,r)}function gh(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o;return qe(this,function(a){switch(a.label){case 0:return n=fa(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n._n.getAllMutationBatches(e).next(function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new hh(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],a=Ru(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(e,a).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function vh(e,t){var n=fa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Yc.resolve();return o.forEach(function(e){a=a.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);ha(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function yh(e){var t=fa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function bh(e,t){var n=fa(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return ha(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}});var s=Cu();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(wh(e,o,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(ba.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});a.push(u)}return Yc.waitFor(a).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,s)}).next(function(){return s})}).then(function(e){return n.kn=i,e})}function wh(e,t,n,r,i){var o=Ru();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=Cu();return n.forEach(function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ba.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):aa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function xh(e,t){var n=fa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function Sh(e,t){var n=fa(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?(r=i,Yc.resolve(r)):n.qe.allocateTargetId(e).next(function(i){return r=new ll(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e})}function Eh(e,t,n){return Be(this,void 0,void 0,function(){var r,i,o,a;return qe(this,function(s){switch(s.label){case 0:r=fa(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(e){return r.persistence.referenceDelegate.removeTarget(e,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!tl(a=s.sent()))throw a;return aa("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function kh(e,t,n){var r=fa(e),i=ba.min(),o=Ru();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=fa(e),i=r.Fn.get(n);return void 0!==i?Yc.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,js(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ba.min(),n?o:Ru())}).next(function(e){return{documents:e,Bn:o}})})}function Ih(e,t){var n=fa(e),r=fa(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function Nh(e){var t=fa(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=fa(e),i=Cu(),o=pl(n),a=th(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Mc.readTimeIndex,range:s},function(e,t){var n=fl(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:ml(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn,r=e.readTime;return t.$n=r,n})}function Th(e){return Be(this,void 0,void 0,function(){var t;return qe(this,function(n){return[2,(t=fa(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=th(e),n=ba.min();return t.$t({index:Mc.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=ml(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function _h(e,t,n,r){return Be(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return qe(this,function(p){switch(p.label){case 0:for(i=fa(e),o=Ru(),a=Cu(),s=Pu(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Sh(i,function(e){return js(Is(ka.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return wh(e,f,a,ba.min(),s).next(function(t){return f.apply(e),t}).next(function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next(function(){return i.qe.addMatchingKeys(e,o,d.targetId)}).next(function(){return i.Mn.En(e,t)}).next(function(){return t})})})]}})})}function Ch(e,t,n){return void 0===n&&(n=Ru()),Be(this,void 0,void 0,function(){var r,i;return qe(this,function(o){switch(o.label){case 0:return[4,Sh(e,js(xl(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=fa(e)).persistence.runTransaction("Save named query","readwrite",function(e){var o=Zu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(_a.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next(function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return i.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(e,t)})})]}})})}var Ah=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Yc.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Zu(n.createTime)}),Yc.resolve()},e.prototype.getNamedQuery=function(e,t){return Yc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:xl(e.bundledQuery),readTime:Zu(e.readTime)}}(t)),Yc.resolve()},e}(),Dh=function(){function e(){this.Wn=new Nu(jh.Gn),this.zn=new Nu(jh.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new jh(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new jh(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new Ua(new ka([])),r=new jh(n,e),i=new jh(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Ua(new ka([])),n=new jh(t,e),r=new jh(t,e+1),i=Ru();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new jh(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),jh=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Ua.comparator(e.key,t.key)||ma(e.ns,t.ns)},e.Hn=function(e,t){return ma(e.ns,t.ns)||Ua.comparator(e.key,t.key)},e}(),Ph=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Nu(jh.Gn)}return e.prototype.checkEmpty=function(e){return Yc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new ul(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new jh(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Yc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Yc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Yc.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Yc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Yc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new jh(t,0),i=new jh(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),Yc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nu(ma);return t.forEach(function(e){var t=new jh(e,0),i=new jh(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),Yc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Ua.isDocumentKey(i)||(i=i.child(""));var o=new jh(new Ua(i),0),a=new Nu(ma);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)},o),Yc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;ha(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Yc.forEach(t.mutations,function(i){var o=new jh(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new jh(t,0),r=this.rs.firstAfterOrEqual(n);return Yc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Yc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Oh=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Eu(Ua.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Yc.resolve(n?n.document.clone():ns.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Cu();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ns.newInvalidDocument(e))}),Yc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Cu(),i=new Ua(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Ms(t,c)&&(r=r.insert(c.key,c.clone()))}return Yc.resolve(r)},e.prototype.fs=function(e,t){return Yc.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new Rh(this)},e.prototype.getSize=function(e){return Yc.resolve(this.size)},e}(),Rh=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Ue(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),Yc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Xl),Lh=function(){function e(e){this.persistence=e,this.ds=new Yl(function(e){return os(e)},as),this.lastRemoteSnapshotVersion=ba.min(),this.highestTargetId=0,this.ws=0,this._s=new Dh,this.targetCount=0,this.ys=Fl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),Yc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Yc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Yc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Yc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Yc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Fl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Yc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Yc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Yc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Yc.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return Yc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Yc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Yc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),Yc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Yc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Yc.resolve(n)},e.prototype.containsKey=function(e,t){return Yc.resolve(this._s.containsKey(t))},e}(),Mh=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ta(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Lh(this),this.Ut=new Il,this.Ue=function(e){return new Oh(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new hl(t),this.Ke=new Ah(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Ph(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;aa("MemoryPersistence","Starting transaction:",e);var i=new Fh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return Yc.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),Fh=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Ue(t,e),t}(Qc),Uh=function(){function e(e){this.persistence=e,this.As=new Dh,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw la()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Yc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Yc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Yc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yc.forEach(this.vs,function(r){var i=Ua.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Yc.or([function(){return Yc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Vh=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Bh(e,t){return"firestore_clients_"+e+"_"+t}function qh(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function zh(e,t){return"firestore_targets_"+e+"_"+t}Vh.UNAUTHENTICATED=new Vh(null),Vh.GOOGLE_CREDENTIALS=new Vh("google-credentials-uid"),Vh.FIRST_PARTY=new Vh("first-party-uid"),Vh.MOCK_USER=new Vh("mock-user");var Hh=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ra(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(sa("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Kh=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ra(i.error.code,i.error.message)),o?new e(t,i.state,r):(sa("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Wh=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Mu(),a=0;i&&a<r.activeTargetIds.length;++a)i=Fa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(sa("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Gh=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(sa("SharedClientState","Failed to parse online state: "+t),null)},e}(),Qh=function(){function e(){this.activeTargetIds=Mu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),$h=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Eu(ma),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Bh(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Qh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Be(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return qe(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Bh(this.persistenceKey,r)))&&(o=Wh.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(zh(this.persistenceKey,e));if(n){var r=Kh.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(zh(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return aa("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){aa("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){aa("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(aa("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void sa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Be(t,void 0,void 0,function(){var e,t,r,i,o,a;return qe(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=ta.o;if(null!=e)try{var n=JSON.parse(e);ha("number"==typeof n),t=n}catch(e){sa("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ta.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Hh(this.currentUser,e,t,n),i=qh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=qh(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=zh(this.persistenceKey,e),i=new Kh(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Wh.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Hh.Vs(new Vh(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Kh.Vs(r,t)},e.prototype.js=function(e){return Gh.Vs(e)},e.prototype.ii=function(e){return Be(this,void 0,void 0,function(){return qe(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(aa("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Mu();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),Yh=function(){function e(){this.li=new Qh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Qh,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Xh=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Jh=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){aa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){aa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Zh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ef=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),tf=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Ue(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(i,o){var a=new ea;a.listenOnce($o.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Qo.NO_ERROR:var t=a.getResponseJson();aa("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qo.TIMEOUT:aa("Connection",'RPC "'+e+'" timed out'),o(new ra(na.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:var n=a.getStatus();if(aa("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(na).indexOf(t)>=0?t:na.UNKNOWN}(r.status);o(new ra(s,r.message))}else o(new ra(na.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ra(na.UNAVAILABLE,"Connection failed."));break;default:la()}}finally{aa("Connection",'RPC "'+e+'" completed.')}});var s=JSON.stringify(r);a.send(t,"POST",s,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Wo(),i=Go(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Jo({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())||"object"===typeof navigator&&"ReactNative"===navigator.product||Je().indexOf("Electron/")>=0||function(){var e=Je();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Je().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");aa("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new ef({Ei:function(e){c?aa("Connection","Not sending because WebChannel is closed:",e):(u||(aa("Connection","Opening WebChannel transport."),s.open(),u=!0),aa("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(s,Zo.EventType.OPEN,function(){c||aa("Connection","WebChannel transport opened.")}),h(s,Zo.EventType.CLOSE,function(){c||(c=!0,aa("Connection","WebChannel transport closed"),l.Vi())}),h(s,Zo.EventType.ERROR,function(e){c||(c=!0,ua("Connection","WebChannel transport errored:",e),l.Vi(new ra(na.UNAVAILABLE,"The operation could not be completed")))}),h(s,Zo.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];ha(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){aa("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=gu[e];if(void 0!==t)return Su(t)}(o),u=i.message;void 0===a&&(a=na.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new ra(a,u)),s.close()}else aa("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Yo.STAT_EVENT,function(e){e.stat===Xo.PROXY?aa("Connection","Detected buffering proxy"):e.stat===Xo.NOPROXY&&aa("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);aa("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then(function(e){return aa("RestConnection","Received: ",e),e},function(t){throw ua("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Zh[e];return this.Di+"/v1/"+t+":"+n},e}());function nf(){return"undefined"!=typeof window?window:null}function rf(){return"undefined"!=typeof document?document:null}function of(e){return new $u(e,!0)}var af=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&aa("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),sf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new af(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Be(this,void 0,void 0,function(){return qe(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Be(this,void 0,void 0,function(){return qe(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Be(this,void 0,void 0,function(){return qe(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===na.RESOURCE_EXHAUSTED?(sa(t.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===na.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new ra(na.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return Be(e,void 0,void 0,function(){return qe(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return aa("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(aa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),uf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Ue(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:la()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(ha(void 0===t||"string"==typeof t),_a.fromBase64String(t||"")):(ha(void 0===t||t instanceof Uint8Array),_a.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?na.UNKNOWN:Su(e.code);return new ra(t,e.message||"")}(s);n=new qu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=rc(e,r.document.name),o=Zu(r.document.updateTime);var s=new es({mapValue:{fields:r.document.fields}}),u=(a=ns.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Vu(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=rc(e,r.document),o=r.readTime?Zu(r.readTime):ba.min(),s=ns.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Vu([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=rc(e,r.document),o=r.removedTargetIds||[],n=new Vu([],o,i,null);else{if(!("filter"in t))return la();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new wu(r),o=l.targetId,n=new Bu(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ba.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ba.min():t.readTime?Zu(t.readTime):ba.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=ac(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=ss(r)?{documents:fc(e,r)}:{query:dc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xu(e,t.resumeToken):t.snapshotVersion.compareTo(ba.min())>0&&(n.readTime=Yu(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return la()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=ac(this.R),t.removeTarget=e,this.cr(t)},t}(sf),cf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Ue(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(ha(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(ha(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?Zu(e.updateTime):Zu(t);return n.isEqual(ba.min())&&(n=Zu(t)),new nu(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Zu(e.commitTime);return this.listener.Tr(n,t)}return ha(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=ac(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return lc(t.R,e)})};this.cr(n)},t}(sf),lf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Ue(t,e),t.prototype.br=function(){if(this.Rr)throw new ra(na.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===na.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ra(na.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===na.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ra(na.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),hf=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(sa(t),this.Vr=!1):aa("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),ff=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(e){n.enqueueAndForget(function(){return Be(o,void 0,void 0,function(){return qe(this,function(e){switch(e.label){case 0:return xf(this)?(aa("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Be(this,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return(t=fa(e)).Or.add(4),[4,pf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,df(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new hf(n,r)};function df(e){return Be(this,void 0,void 0,function(){var t,n;return qe(this,function(r){switch(r.label){case 0:if(!xf(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function pf(e){return Be(this,void 0,void 0,function(){var t,n;return qe(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function mf(e,t){var n=fa(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),wf(n)?bf(n):Lf(n).er()&&vf(n,t))}function gf(e,t){var n=fa(e),r=Lf(n);n.$r.delete(t),r.er()&&yf(n,t),0===n.$r.size&&(r.er()?r.ir():xf(n)&&n.Br.set("Unknown"))}function vf(e,t){e.qr.U(t.targetId),Lf(e).mr(t)}function yf(e,t){e.qr.U(t),Lf(e).yr(t)}function bf(e){e.qr=new Hu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Lf(e).start(),e.Br.Sr()}function wf(e){return xf(e)&&!Lf(e).tr()&&e.$r.size>0}function xf(e){return 0===fa(e).Or.size}function Sf(e){e.qr=void 0}function Ef(e){return Be(this,void 0,void 0,function(){return qe(this,function(t){return e.$r.forEach(function(t,n){vf(e,t)}),[2]})})}function kf(e,t){return Be(this,void 0,void 0,function(){return qe(this,function(n){return Sf(e),wf(e)?(e.Br.Nr(t),bf(e)):e.Br.set("Unknown"),[2]})})}function If(e,t,n){return Be(this,void 0,void 0,function(){var r,i,o;return qe(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof qu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o;return qe(this,function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),aa("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Nf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Vu?e.qr.X(t):t instanceof Bu?e.qr.rt(t):e.qr.et(t),n.isEqual(ba.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,yh(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(_a.EMPTY_BYTE_STRING,n.snapshotVersion)),yf(e,t);var r=new ll(n.target,t,1,n.sequenceNumber);vf(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return aa("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Nf(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Nf(e,t,n){return Be(this,void 0,void 0,function(){var r=this;return qe(this,function(i){switch(i.label){case 0:if(!tl(t))throw t;return e.Or.add(1),[4,pf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return yh(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Be(r,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return aa("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,df(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Tf(e,t){return t().catch(function(n){return Nf(e,n,t)})}function _f(e){return Be(this,void 0,void 0,function(){var t,n,r,i,o;return qe(this,function(a){switch(a.label){case 0:t=fa(e),n=Mf(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return xf(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,xh(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Mf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Nf(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Cf(t)&&Af(t),[2]}})})}function Cf(e){return xf(e)&&!Mf(e).tr()&&e.Fr.length>0}function Af(e){Mf(e).start()}function Df(e){return Be(this,void 0,void 0,function(){return qe(this,function(t){return Mf(e).Ar(),[2]})})}function jf(e){return Be(this,void 0,void 0,function(){var t,n,r,i;return qe(this,function(o){for(t=Mf(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function Pf(e,t,n){return Be(this,void 0,void 0,function(){var r,i;return qe(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=cl.from(r,t,n),[4,Tf(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,_f(e)];case 2:return o.sent(),[2]}})})}function Of(e,t){return Be(this,void 0,void 0,function(){return qe(this,function(n){switch(n.label){case 0:return t&&Mf(e).pr?[4,function(e,t){return Be(this,void 0,void 0,function(){var n,r;return qe(this,function(i){switch(i.label){case 0:return xu(r=t.code)&&r!==na.ABORTED?(n=e.Fr.shift(),Mf(e).sr(),[4,Tf(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,_f(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Cf(e)&&Af(e),[2]}})})}function Rf(e,t){return Be(this,void 0,void 0,function(){var n;return qe(this,function(r){switch(r.label){case 0:return n=fa(e),t?(n.Or.delete(2),[4,df(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,pf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Lf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=fa(e);return r.br(),new uf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ef.bind(null,e),Ri:kf.bind(null,e),_r:If.bind(null,e)}),e.Mr.push(function(n){return Be(t,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),wf(e)?bf(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Sf(e),t.label=3;case 3:return[2]}})})})),e.Ur}function Mf(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=fa(e);return r.br(),new cf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Df.bind(null,e),Ri:Of.bind(null,e),Ir:jf.bind(null,e),Tr:Pf.bind(null,e)}),e.Mr.push(function(n){return Be(t,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,_f(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(aa("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}var Ff=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ra(na.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Uf(e,t){if(sa("AsyncQueue",t+": "+e),tl(e))return new ra(na.UNAVAILABLE,t+": "+e);throw e}var Vf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Ua.comparator(t.key,n.key)}:function(e,t){return Ua.comparator(e.key,t.key)},this.keyedMap=Du(),this.sortedSet=new Eu(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Bf=function(){function e(){this.Qr=new Eu(Ua.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):la():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),qf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,Vf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Os(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),zf=function(){this.Wr=void 0,this.listeners=[]},Hf=function(){this.queries=new Yl(function(e){return Rs(e)},Os),this.onlineState="Unknown",this.Gr=new Set};function Kf(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return qe(this,function(c){switch(c.label){case 0:if(n=fa(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new zf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Uf(s,"Initialization of query '"+Ls(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&$f(n),[2]}})})}function Wf(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o,a;return qe(this,function(s){return n=fa(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Gf(e,t){for(var n=fa(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&$f(n)}function Qf(e,t,n){var r=fa(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function $f(e){e.Gr.forEach(function(e){e.next()})}var Yf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new qf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=qf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Xf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Jf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return rc(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?cc(this.R,e.document,!1):ns.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Zu(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Zf(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Jf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ru()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Be(this,void 0,void 0,function(){var e,t,n,r,i;return qe(this,function(o){switch(o.label){case 0:return[4,_h(this.localStore,new Jf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Ch(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new lh(Object.assign({},this.progress),e))]}})})}}();function Zf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ed=function(e){this.key=e},td=function(e){this.key=e},nd=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ru(),this.mutatedKeys=Ru(),this.lo=Fs(e),this.fo=new Vf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Bf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ns(this.query)&&i.size===this.query.limit?i.last():null,c=Ts(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=Ms(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),Ns(this.query)||Ts(this.query))for(;a.size>this.query.limit;){var l=Ns(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return la()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new qf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Bf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ru(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new td(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new ed(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ru();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return qf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),rd=function(e,t,n){this.query=e,this.targetId=t,this.view=n},id=function(e){this.key=e,this.bo=!1},od=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Yl(function(e){return Rs(e)},Os),this.Vo=new Map,this.So=new Set,this.Do=new Eu(Ua.comparator),this.Co=new Map,this.No=new Dh,this.xo={},this.ko=new Map,this.Fo=Fl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function ad(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o,a,s;return qe(this,function(u){switch(u.label){case 0:return n=Rd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sh(n.localStore,js(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,sd(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&mf(n.remoteStore,a),u.label=4;case 4:return[2,i]}})})}function sd(e,t,n,r){return Be(this,void 0,void 0,function(){var i,o,a,s,u,c;return qe(this,function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Be(this,void 0,void 0,function(){var i,o,a;return qe(this,function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,kh(e.localStore,t.query,!1).then(function(e){var n=e.documents;return t.view._o(n,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(wd(e,t.targetId,a.To),a.snapshot)]}})})}(e,t,n,r)},[4,kh(e.localStore,t,!0)];case 1:return i=l.sent(),o=new nd(t,i.Bn),a=o._o(i.documents),s=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),wd(e,n,u.To),c=new rd(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function ud(e,t){return Be(this,void 0,void 0,function(){var n,r,i;return qe(this,function(o){switch(o.label){case 0:return n=fa(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(e){return!Os(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Eh(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),gf(n.remoteStore,r.targetId),yd(n,r.targetId)}).catch(zl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yd(n,r.targetId),[4,Eh(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function cd(e,t,n){return Be(this,void 0,void 0,function(){var r,i,o,a;return qe(this,function(s){switch(s.label){case 0:r=Ld(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=fa(e),i=ya.now(),o=t.reduce(function(e,t){return e.add(t.key)},Ru());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=uu(c,n.get(c.key));null!=l&&a.push(new fu(c.key,l,ts(l.value.mapValue),ru.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Eu(ma)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ed(r,i.changes)];case 3:return s.sent(),[4,_f(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Uf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function ld(e,t){return Be(this,void 0,void 0,function(){var n,r;return qe(this,function(i){switch(i.label){case 0:n=fa(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bh(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(ha(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?ha(r.bo):e.removedDocuments.size>0&&(ha(r.bo),r.bo=!1))}),[4,Ed(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,zl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function hd(e,t,n){var r=fa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=fa(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&$f(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fd(e,t,n){return Be(this,void 0,void 0,function(){var r,i,o,a,s,u;return qe(this,function(c){switch(c.label){case 0:return(r=fa(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Eu(Ua.comparator)).insert(o,ns.newNoDocument(o,ba.min())),s=Ru().add(o),u=new Fu(ba.min(),new Map,new Nu(ma),a,s),[4,ld(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Sd(r),[3,4];case 2:return[4,Eh(r.localStore,t,!1).then(function(){return yd(r,t,n)}).catch(zl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function dd(e,t){return Be(this,void 0,void 0,function(){var n,r,i;return qe(this,function(o){switch(o.label){case 0:n=fa(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,vh(n.localStore,t)];case 2:return i=o.sent(),vd(n,r,null),gd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ed(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,zl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function pd(e,t,n){return Be(this,void 0,void 0,function(){var r,i;return qe(this,function(o){switch(o.label){case 0:r=fa(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=fa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return ha(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(r.localStore,t)];case 2:return i=o.sent(),vd(r,t,n),gd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ed(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,zl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function md(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o,a;return qe(this,function(s){switch(s.label){case 0:xf((n=fa(e)).remoteStore)||aa("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=fa(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Uf(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function gd(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function vd(e,t,n){var r=fa(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function yd(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||bd(e,t)})}function bd(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(gf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Sd(e))}function wd(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ed?(e.No.addReference(o.key,t),xd(e,o)):o instanceof td?(aa("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||bd(e,o.key)):la()}}function xd(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(aa("SyncEngine","New document in limbo: "+n),e.So.add(r),Sd(e))}function Sd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ua(ka.fromString(t)),r=e.Fo.next();e.Co.set(r,new id(n)),e.Do=e.Do.insert(n,r),mf(e.remoteStore,new ll(js(Is(n.path)),r,2,ta.o))}}function Ed(e,t,n){return Be(this,void 0,void 0,function(){var r,i,o,a;return qe(this,function(s){switch(s.label){case 0:return r=fa(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,s){a.push(r.Oo(s,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=fh.Pn(s.targetId,e);o.push(t)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l;return qe(this,function(h){switch(h.label){case 0:n=fa(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Yc.forEach(t,function(t){return Yc.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return Yc.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return h.sent(),[3,4];case 3:if(!tl(r=h.sent()))throw r;return aa("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function kd(e,t){return Be(this,void 0,void 0,function(){var n,r;return qe(this,function(i){switch(i.label){case 0:return(n=fa(e)).currentUser.isEqual(t)?[3,3]:(aa("SyncEngine","User change. New user:",t.toKey()),[4,gh(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e){e.ko.forEach(function(e){e.forEach(function(e){e.reject(new ra(na.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ed(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Id(e,t){var n=fa(e),r=n.Co.get(t);if(r&&r.bo)return Ru().add(r.key);var i=Ru(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Nd(e,t){return Be(this,void 0,void 0,function(){var n,r,i;return qe(this,function(o){switch(o.label){case 0:return[4,kh((n=fa(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&wd(n,t.targetId,i.To),i)]}})})}function Td(e){return Be(this,void 0,void 0,function(){var t;return qe(this,function(n){return[2,Nh((t=fa(e)).localStore).then(function(e){return Ed(t,e)})]})})}function _d(e,t,n,r){return Be(this,void 0,void 0,function(){var i,o;return qe(this,function(a){switch(a.label){case 0:return[4,function(e,t){var n=fa(e),r=fa(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):Yc.resolve(null)})})}((i=fa(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,_f(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(vd(i,t,r||null),gd(i,t),function(e,t){fa(fa(e)._n).Gt(t)}(i.localStore,t)):la(),a.label=4;case 4:return[4,Ed(i,o)];case 5:return a.sent(),[3,7];case 6:aa("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Cd(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return qe(this,function(l){switch(l.label){case 0:return Rd(n=fa(e)),Ld(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ad(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Rf(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],mf(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then(function(){return yd(n,t),Eh(n.localStore,t,!0)}),gf(n.remoteStore,t)}),[4,c]);case 4:return l.sent(),[4,Ad(n,u)];case 5:return l.sent(),function(e){var t=fa(e);t.Co.forEach(function(e,n){gf(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new Eu(Ua.comparator)}(n),n.$o=!1,[4,Rf(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function Ad(e,t,n){return Be(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,m;return qe(this,function(g){switch(g.label){case 0:n=fa(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Sh(n.localStore,js(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Nd(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ih(n.localStore,s)];case 8:return m=g.sent(),[4,Sh(n.localStore,m)];case 9:return u=g.sent(),[4,sd(n,Dd(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Dd(e){return ks(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function jd(e){var t=fa(e);return fa(fa(t.localStore).persistence).fn()}function Pd(e,t,n,r){return Be(this,void 0,void 0,function(){var i,o,a;return qe(this,function(s){switch(s.label){case 0:return(i=fa(e)).$o?(aa("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Nh(i.localStore)];case 3:return o=s.sent(),a=Fu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ed(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Eh(i.localStore,t,!0)];case 6:return s.sent(),yd(i,t,r),[3,8];case 7:la(),s.label=8;case 8:return[2]}})})}function Od(e,t,n){return Be(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h,f;return qe(this,function(d){switch(d.label){case 0:if(!(r=Rd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(aa("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ih(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Sh(r.localStore,s)];case 3:return u=d.sent(),[4,sd(r,Dd(s),u.targetId,!1)];case 4:d.sent(),mf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return qe(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Eh(r.localStore,e,!1).then(function(){gf(r.remoteStore,e),yd(r,e)}).catch(zl)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Rd(e){var t=fa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ld.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Id.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fd.bind(null,t),t.vo._r=Gf.bind(null,t.eventManager),t.vo.Mo=Qf.bind(null,t.eventManager),t}function Ld(e){var t=fa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pd.bind(null,t),t}var Md=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Be(this,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return this.R=of(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return mh(this.persistence,new dh,e.initialUser,this.R)},e.prototype.qo=function(e){return new Mh(Uh.bs,this.R)},e.prototype.Bo=function(e){return new Yh},e.prototype.terminate=function(){return Be(this,void 0,void 0,function(){return qe(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),Fd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Ue(t,e),t.prototype.initialize=function(t){return Be(this,void 0,void 0,function(){var n=this;return qe(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Th(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Ld(this.Qo.syncEngine)];case 4:return r.sent(),[4,_f(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){return mh(this.persistence,new dh,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Wl(t,e.asyncQueue)},t.prototype.qo=function(e){var t=ch(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Al.withCacheSize(this.cacheSizeBytes):Al.DEFAULT;return new ah(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,nf(),rf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Yh},t}(Md),Ud=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Ue(t,e),t.prototype.initialize=function(t){return Be(this,void 0,void 0,function(){var n,r=this;return qe(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof $h?(this.sharedClientState.syncEngine={ui:_d.bind(null,n),ai:Pd.bind(null,n),hi:Od.bind(null,n),fn:jd.bind(null,n),ci:Td.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(e){return Be(r,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return[4,Cd(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Bo=function(e){var t=nf();if(!$h.yt(t))throw new ra(na.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ch(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $h(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Fd),Vd=function(){function e(){}return e.prototype.initialize=function(e,t){return Be(this,void 0,void 0,function(){var n=this;return qe(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hd(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kd.bind(null,this.syncEngine),[4,Rf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new Hf},e.prototype.createDatastore=function(e){var t,n=of(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new tf(t));return function(e,t,n){return new lf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return hd(a.syncEngine,e,0)},o=Jh.yt()?new Jh:new Xh,new ff(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new od(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Be(this,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return t=fa(e),aa("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,pf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();var Bd=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),qd=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new $c,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Be(this,void 0,void 0,function(){return qe(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return Be(this,void 0,void 0,function(){return qe(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return Be(this,void 0,void 0,function(){var e,t,n,r;return qe(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Xf(JSON.parse(r),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return Be(this,void 0,void 0,function(){var e,t;return qe(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return Be(this,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Be(this,void 0,void 0,function(){var e,t;return qe(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Be(this,void 0,void 0,function(){var t,n=this;return qe(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ra(na.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Be(this,void 0,void 0,function(){var n,r,i,o,a,s;return qe(this,function(u){switch(u.label){case 0:return n=fa(e),r=ac(n.R)+"/documents",i={documents:t.map(function(e){return nc(n.R,e)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){ha(!!t.found),t.found.name,t.found.updateTime;var n=rc(e,t.found.name),r=Zu(t.found.updateTime),i=new es({mapValue:{fields:t.found.fields}});return ns.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ha(!!t.missing),ha(!!t.readTime);var n=rc(e,t.missing),r=Zu(t.readTime);return ns.newNoDocument(n,r)}(e,t):la()}(n.R,e);a.set(t.key.toString(),t)}),s=[],[2,(t.forEach(function(e){var t=a.get(e.toString());ha(!!t),s.push(t)}),s)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new yu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Be(this,void 0,void 0,function(){var e,t=this;return qe(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=Ua.fromPath(n);t.mutations.push(new bu(r,t.precondition(r)))}),[4,function(e,t){return Be(this,void 0,void 0,function(){var n,r,i;return qe(this,function(o){switch(o.label){case 0:return n=fa(e),r=ac(n.R)+"/documents",i={writes:t.map(function(e){return lc(n.R,e)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw la();t=ba.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ra(na.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ru.updateTime(t):ru.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ba.min()))throw new ra(na.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ru.updateTime(t)}return ru.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),zd=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new af(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return Be(e,void 0,void 0,function(){var e,t,n=this;return qe(this,function(r){return e=new qd(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!La(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xu(t)}return!1},e}(),Hd=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Vh.UNAUTHENTICATED,this.clientId=pa.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return Be(r,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return aa("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return Be(this,void 0,void 0,function(){return qe(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ra(na.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new $c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Be(e,void 0,void 0,function(){var e,n;return qe(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Uf(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}();function Kd(e,t){return Be(this,void 0,void 0,function(){var n,r,i=this;return qe(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),aa("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return Be(i,void 0,void 0,function(){return qe(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,gh(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Wd(e,t){return Be(this,void 0,void 0,function(){var n,r;return qe(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Gd(e)];case 1:return n=i.sent(),aa("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return Be(this,void 0,void 0,function(){var n,r;return qe(this,function(i){switch(i.label){case 0:return(n=fa(e)).asyncQueue.verifyOperationInProgress(),aa("RemoteStore","RemoteStore received new credentials"),r=xf(n),n.Or.add(3),[4,pf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,df(n)];case 3:return i.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function Gd(e){return Be(this,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(aa("FirestoreClient","Using default OfflineComponentProvider"),[4,Kd(e,new Md)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Qd(e){return Be(this,void 0,void 0,function(){return qe(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(aa("FirestoreClient","Using default OnlineComponentProvider"),[4,Wd(e,new Vd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function $d(e){return Gd(e).then(function(e){return e.persistence})}function Yd(e){return Gd(e).then(function(e){return e.localStore})}function Xd(e){return Qd(e).then(function(e){return e.remoteStore})}function Jd(e){return Qd(e).then(function(e){return e.syncEngine})}function Zd(e){return Be(this,void 0,void 0,function(){var t,n;return qe(this,function(r){switch(r.label){case 0:return[4,Qd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ad.bind(null,t.syncEngine),n.onUnlisten=ud.bind(null,t.syncEngine),n)]}})})}function ep(e,t,n){var r=this;void 0===n&&(n={});var i=new $c;return e.asyncQueue.enqueueAndForget(function(){return Be(r,void 0,void 0,function(){var r;return qe(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Bd({next:function(o){t.enqueueAndForget(function(){return Wf(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ra(na.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ra(na.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Yf(Is(n.path),o,{includeMetadataChanges:!0,so:!0});return Kf(e,a)},[4,Zd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function tp(e,t,n){var r=this;void 0===n&&(n={});var i=new $c;return e.asyncQueue.enqueueAndForget(function(){return Be(r,void 0,void 0,function(){var r;return qe(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Bd({next:function(n){t.enqueueAndForget(function(){return Wf(e,a)}),n.fromCache&&"server"===r.source?i.reject(new ra(na.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Yf(n,o,{includeMetadataChanges:!0,so:!0});return Kf(e,a)},[4,Zd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var np=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},rp=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ip=new Map,op=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ap=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Vh.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),sp=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),up=function(){function e(e){var t=this;this.currentUser=Vh.UNAUTHENTICATED,this.oc=new $c,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){aa("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(aa("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(aa("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ha("string"==typeof n.accessToken),new op(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return Be(n,void 0,void 0,function(){return qe(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return ha(null===e||"string"==typeof e),new Vh(e)},e}(),cp=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Vh.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),lp=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new cp(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Vh.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function hp(e,t,n){if(!n)throw new ra(na.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function fp(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ra(na.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function dp(e,t,n,r){if(!0===t&&!0===r)throw new ra(na.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function pp(e){if(!Ua.isDocumentKey(e))throw new ra(na.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function mp(e){if(Ua.isDocumentKey(e))throw new ra(na.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function gp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":la()}function vp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ra(na.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gp(e);throw new ra(na.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function yp(e,t){if(t<=0)throw new ra(na.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var bp=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ra(na.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ra(na.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),wp=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bp({}),this._settingsFrozen=!1,e instanceof rp?(this._databaseId=e,this._credentials=new ap):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ra(na.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rp(e.options.projectId)}(e),this._credentials=new up(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ra(na.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ra(na.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ap;switch(e.type){case"gapi":var t=e.client;return ha(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new lp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ra(na.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=ip.get(this))&&(aa("ComponentProvider","Removing Datastore"),ip.delete(this),e.terminate()),Promise.resolve();var e},e}(),xp=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ep(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Sp=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ep=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Is(r))||this)._path=r,i.type="collection",i}return Ue(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xp(this.firestore,null,new Ua(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Sp);function kp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=st(e),hp("collection","path",t),e instanceof wp)return mp(n=ka.fromString.apply(ka,Ke([t],r))),new Ep(e,null,n);if(!(e instanceof xp||e instanceof Ep))throw new ra(na.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mp(n=ka.fromString.apply(ka,Ke([e.path],r)).child(ka.fromString(t))),new Ep(e.firestore,null,n)}function Ip(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=st(e),1===arguments.length&&(t=pa.u()),hp("doc","path",t),e instanceof wp)return pp(n=ka.fromString.apply(ka,Ke([t],r))),new xp(e,null,new Ua(n));if(!(e instanceof xp||e instanceof Ep))throw new ra(na.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pp(n=e._path.child(ka.fromString.apply(ka,Ke([t],r)))),new xp(e.firestore,e instanceof Ep?e.converter:null,new Ua(n))}function Np(e,t){return e=st(e),t=st(t),(e instanceof xp||e instanceof Ep)&&(t instanceof xp||t instanceof Ep)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Tp(e,t){return e=st(e),t=st(t),e instanceof Sp&&t instanceof Sp&&e.firestore===t.firestore&&Os(e._query,t._query)&&e.converter===t.converter}var _p=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new af(this,"async_queue_retry"),this.Ic=function(){var t=rf();t&&aa("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new $c;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return Be(this,void 0,void 0,function(){var e,t=this;return qe(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!tl(e=n.sent()))throw e;return aa("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,sa("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Ff.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&la()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Be(this,void 0,void 0,function(){var e;return qe(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Cp(e){return function(e){if("object"!=typeof e||null===e)return!1;for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new $c,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Ap=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new _p,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Ue(t,e),t.prototype._terminate=function(){return this._firestoreClient||jp(this),this._firestoreClient.terminate()},t}(wp);function Dp(e){return e._firestoreClient||jp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new np(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Hd(e._credentials,e._queue,r)}function Pp(e,t,n){var r=this,i=new $c;return e.asyncQueue.enqueue(function(){return Be(r,void 0,void 0,function(){var r;return qe(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Kd(e,n)];case 1:return o.sent(),[4,Wd(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===na.FAILED_PRECONDITION||e.code===na.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Op(e){if(e._initialized||e._terminated)throw new ra(na.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new ra(na.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Na(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Lp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(_a.fromBase64String(t))}catch(t){throw new ra(na.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(_a.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Mp=function(e){this._methodName=e},Fp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new ra(na.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ra(na.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ma(this._lat,e._lat)||ma(this._long,e._long)},e}(),Up=/^__.*__$/,Vp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)},e}(),Bp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new fu(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function qp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw la()}}var zp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return cm(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(qp(this.Nc)&&Up.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Hp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||of(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new zp({Nc:e,methodName:t,qc:n,path:Na.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Kp(e){var t=e._freezeSettings(),n=of(e._databaseId);return new Hp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Wp(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);om("Data must be an object, but it was:",a,r);var s,u,c=rm(r,a);if(o.merge)s=new Ta(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=am(t,f[h],n);if(!a.contains(d))throw new ra(na.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");lm(l,d)||l.push(d)}s=new Ta(l),u=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,u=a.fieldTransforms;return new Vp(new es(c),s,u)}var Gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Mp);function Qp(e,t,n){return new zp({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var $p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t.prototype._toFieldTransform=function(e){return new tu(e.path,new Gs)},t.prototype.isEqual=function(e){return e instanceof t},t}(Mp),Yp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Ue(t,e),t.prototype._toFieldTransform=function(e){var t=Qp(this,e,!0),n=this.Kc.map(function(e){return nm(e,t)}),r=new Qs(n);return new tu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Mp),Xp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Ue(t,e),t.prototype._toFieldTransform=function(e){var t=Qp(this,e,!0),n=this.Kc.map(function(e){return nm(e,t)}),r=new Ys(n);return new tu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Mp),Jp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Ue(t,e),t.prototype._toFieldTransform=function(e){var t=new Js(e.R,qs(e.R,this.Qc));return new tu(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Mp);function Zp(e,t,n,r){var i=e.Uc(1,t,n);om("Data must be an object, but it was:",i,r);var o=[],a=es.empty();xa(r,function(e,r){var s=um(t,e,n);r=st(r);var u=i.Oc(s);if(r instanceof Gp)o.push(s);else{var c=nm(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Ta(o);return new Bp(a,s,i.fieldTransforms)}function em(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[am(t,r,n)],u=[i];if(o.length%2!=0)throw new ra(na.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(am(t,o[c])),u.push(o[c+1]);for(var l=[],h=es.empty(),f=s.length-1;f>=0;--f)if(!lm(l,s[f])){var d=s[f],p=u[f];p=st(p);var m=a.Oc(d);if(p instanceof Gp)l.push(d);else{var g=nm(p,m);null!=g&&(l.push(d),h.set(d,g))}}var v=new Ta(l);return new Bp(h,v,a.fieldTransforms)}function tm(e,t,n,r){return void 0===r&&(r=!1),nm(n,e.Uc(r?4:3,t))}function nm(e,t){if(im(e=st(e)))return om("Unsupported field value:",t,e),rm(e,t);if(e instanceof Mp)return function(e,t){if(!qp(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=nm(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=st(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qs(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ya.fromDate(e);return{timestampValue:Yu(t.R,n)}}if(e instanceof ya)return n=new ya(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Yu(t.R,n)};if(e instanceof Fp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lp)return{bytesValue:Xu(t.R,e._byteString)};if(e instanceof xp){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ec(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+gp(e))}(e,t)}function rm(e,t){var n={};return Sa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xa(e,function(e,r){var i=nm(r,t.kc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function im(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ya||e instanceof Fp||e instanceof Lp||e instanceof xp||e instanceof Mp)}function om(e,t,n){if(!im(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=gp(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function am(e,t,n){if((t=st(t))instanceof Rp)return t._internalPath;if("string"==typeof t)return um(e,t);throw cm("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var sm=new RegExp("[~\\*/\\[\\]]");function um(e,t,n){if(t.search(sm)>=0)throw cm("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Rp.bind.apply(Rp,Ke([void 0],t.split(".")))))._internalPath}catch(fg){throw cm("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function cm(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ra(na.INVALID_ARGUMENT,(s+=". ")+e+u)}function lm(e,t){return e.some(function(e){return e.isEqual(t)})}var hm=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new xp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new fm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(dm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(hm);function dm(e,t){return"string"==typeof t?um(e,t):t instanceof Rp?t._internalPath:t._delegate._internalPath}var pm=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),mm=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Ue(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(dm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(hm),gm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(mm),vm=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new gm(n._firestore,n._userDataWriter,r.key,r,new pm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ra(na.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new gm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new gm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ym(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function ym(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return la()}}function bm(e,t){return e instanceof mm&&t instanceof mm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vm&&t instanceof vm&&e._firestore===t._firestore&&Tp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function wm(e){if(Ts(e)&&0===e.explicitOrderBy.length)throw new ra(na.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xm=function(){};function Sm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var Em=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Ue(t,e),t.prototype._apply=function(e){var t=Kp(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ra(na.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Am(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Cm(r,e,h))}s={arrayValue:{values:u}}}else s=Cm(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Am(a,o),s=tm(n,"where",a,"in"===o||"not-in"===o);var f=us.create(i,o,s);return function(e,t){if(t.g()){var n=Cs(e);if(null!==n&&!n.isEqual(t.field))throw new ra(na.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=_s(e);null!==r&&Dm(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ra(na.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new ra(na.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Sp(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Es(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(xm),km=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Ue(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ra(na.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ra(na.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bs(t,n);return function(e,t){if(null===_s(e)){var n=Cs(e);null!==n&&Dm(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Sp(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Es(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(xm),Im=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Ue(t,e),t.prototype._apply=function(e){return new Sp(e.firestore,e.converter,Ps(e._query,this.Hc,this.Jc))},t}(xm),Nm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Ue(t,e),t.prototype._apply=function(e){var t=_m(e,this.type,this.Yc,this.Xc);return new Sp(e.firestore,e.converter,function(e,t){return new Es(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(xm),Tm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Ue(t,e),t.prototype._apply=function(e){var t=_m(e,this.type,this.Yc,this.Xc);return new Sp(e.firestore,e.converter,function(e,t){return new Es(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(xm);function _m(e,t,n,r){if(n[0]=st(n[0]),n[0]instanceof hm)return function(e,t,n,r,i){if(!r)throw new ra(na.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ds(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Ga(t,r.key));else{var c=r.data.field(u.field);if(Pa(c))throw new ra(na.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ra(na.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new vs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Kp(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new ra(na.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ra(na.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!As(e)&&-1!==c.indexOf("/"))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(ka.fromString(c));if(!Ua.isDocumentKey(l))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ua(l);s.push(Ga(t,h))}else{var f=tm(n,r,c);s.push(f)}}return new vs(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Cm(e,t,n){if("string"==typeof(n=st(n))){if(""===n)throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!As(t)&&-1!==n.indexOf("/"))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ka.fromString(n));if(!Ua.isDocumentKey(r))throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ga(e,new Ua(r))}if(n instanceof xp)return Ga(e,n._key);throw new ra(na.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gp(n)+".")}function Am(e,t){if(!Array.isArray(e)||0===e.length)throw new ra(na.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ra(na.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Dm(e,t,n){if(!n.isEqual(t))throw new ra(na.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var jm=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Da(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw la()}},e.prototype.convertObject=function(e,t){var n=this,r={};return xa(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new Fp(Da(e.latitude),Da(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Oa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ra(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Aa(e);return new ya(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=ka.fromString(e);ha(Ic(n));var r=new rp(n.get(1),n.get(3)),i=new Ua(n.popFirst(5));return r.isEqual(t)||sa("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Pm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Om=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ue(t,e),t.prototype.convertBytes=function(e){return new Lp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xp(this.firestore,null,t)},t}(jm),Rm=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Lm(e,this._firestore),i=Pm(r.converter,t,n),o=Wp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ru.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Lm(e,this._firestore);return o="string"==typeof(t=st(t))||t instanceof Rp?em(this._dataReader,"WriteBatch.update",a._key,t,n,r):Zp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,ru.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Lm(e,this._firestore);return this._mutations=this._mutations.concat(new yu(t._key,ru.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ra(na.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Lm(e,t){if((e=st(e)).firestore!==t)throw new ra(na.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Mm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ue(t,e),t.prototype.convertBytes=function(e){return new Lp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xp(this.firestore,null,t)},t}(jm);function Fm(e,t,n){e=vp(e,xp);var r=vp(e.firestore,Ap),i=Pm(e.converter,t,n);return Bm(r,[Wp(Kp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ru.none())])}function Um(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=vp(e,xp);var o=vp(e.firestore,Ap),a=Kp(o);return Bm(o,[("string"==typeof(t=st(t))||t instanceof Rp?em(a,"updateDoc",e._key,t,n,r):Zp(a,"updateDoc",e._key,t)).toMutation(e._key,ru.exists(!0))])}function Vm(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=st(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Cp(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Cp(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof xp)c=vp(e.firestore,Ap),l=Is(e._key.path),u={next:function(t){i[s]&&i[s](qm(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=vp(e,Sp);c=vp(d.firestore,Ap),l=d._query;var p=new Mm(c);u={next:function(e){i[s]&&i[s](new vm(c,p,d,e))},error:i[s+1],complete:i[s+2]},wm(e._query)}return function(e,t,n,r){var i=this,o=new Bd(r),a=new Yf(t,o,n);return e.asyncQueue.enqueueAndForget(function(){return Be(i,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return t=Kf,[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),e.asyncQueue.enqueueAndForget(function(){return Be(i,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return t=Wf,[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})})}}(Dp(c),l,h,u)}function Bm(e,t){return function(e,t){var n=this,r=new $c;return e.asyncQueue.enqueueAndForget(function(){return Be(n,void 0,void 0,function(){var n;return qe(this,function(i){switch(i.label){case 0:return n=cd,[4,Jd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(Dp(e),t)}function qm(e,t,n){var r=n.docs.get(t._key),i=new Mm(e);return new mm(e,i,t._key,r,new pm(n.hasPendingWrites,n.fromCache),t.converter)}var zm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Ue(t,e),t.prototype.get=function(t){var n=this,r=Lm(t,this._firestore),i=new Mm(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new mm(n._firestore,i,r._key,e._document,new pm(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Kp(e)}return e.prototype.get=function(e){var t=this,n=Lm(e,this._firestore),r=new Om(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return la();var i=e[0];if(i.isFoundDocument())return new hm(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new hm(t._firestore,r,n._key,null,n.converter);throw la()})},e.prototype.set=function(e,t,n){var r=Lm(e,this._firestore),i=Pm(r.converter,t,n),o=Wp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Lm(e,this._firestore);return o="string"==typeof(t=st(t))||t instanceof Rp?em(this._dataReader,"Transaction.update",a._key,t,n,r):Zp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Lm(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Hm(){if("undefined"==typeof Uint8Array)throw new ra(na.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Km(){if("undefined"==typeof atob)throw new ra(na.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Wm=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Km(),new e(Lp.fromBase64String(t))},e.fromUint8Array=function(t){return Hm(),new e(Lp.fromUint8Array(t))},e.prototype.toBase64=function(){return Km(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Hm(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Gm=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Op(e=vp(e,Ap));var n=Dp(e),r=e._freezeSettings(),i=new Vd;return Pp(n,i,new Fd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Op(e=vp(e,Ap));var t=Dp(e),n=e._freezeSettings(),r=new Vd;return Pp(t,r,new Ud(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new ra(na.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new $c;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return Be(t,void 0,void 0,function(){var t;return qe(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Be(this,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return Jc.yt()?(t=e+"main",[4,Jc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(ch(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),Qm=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof rp||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ua("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=vp(e,wp))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ua("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Vh.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Ve({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ra(na.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Vh(u)}e._credentials=new sp(new op(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Be(t,void 0,void 0,function(){var t,n;return qe(this,function(r){switch(r.label){case 0:return[4,$d(e)];case 1:return t=r.sent(),[4,Xd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=fa(e);return t.Or.delete(0),df(t)}(n))]}})})})}(Dp(vp(this._delegate,Ap)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Be(t,void 0,void 0,function(){var t,n;return qe(this,function(r){switch(r.label){case 0:return[4,$d(e)];case 1:return t=r.sent(),[4,Xd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Be(this,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return(t=fa(e)).Or.add(0),[4,pf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(Dp(vp(this._delegate,Ap)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&dp("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new $c;return e.asyncQueue.enqueueAndForget(function(){return Be(t,void 0,void 0,function(){var t;return qe(this,function(r){switch(r.label){case 0:return t=md,[4,Jd(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Dp(vp(this._delegate,Ap)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Bd(t);return e.asyncQueue.enqueueAndForget(function(){return Be(n,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return t=function(e,t){fa(e).Gr.add(t),t.next()},[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return Be(n,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return t=function(e,t){fa(e).Gr.delete(t)},[4,Zd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(Dp(e=vp(e,Ap)),Cp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new ra(na.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new ug(this,kp(this._delegate,e))}catch(e){throw eg(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Zm(this,Ip(this._delegate,e))}catch(e){throw eg(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new og(this,function(e,t){if(e=vp(e,wp),hp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ra(na.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Sp(e,null,function(e){return new Es(ka.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw eg(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new $c;return e.asyncQueue.enqueueAndForget(function(){return Be(n,void 0,void 0,function(){var n;return qe(this,function(i){switch(i.label){case 0:return[4,function(e){return Qd(e).then(function(e){return e.datastore})}(e)];case 1:return n=i.sent(),new zd(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(Dp(e),function(n){return t(new zm(e,n))})}(this._delegate,function(n){return e(new Ym(t,n))})},e.prototype.batch=function(){var e=this;return Dp(this._delegate),new Xm(new Rm(this._delegate,function(t){return Bm(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new ra(na.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new ra(na.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),$m=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ue(t,e),t.prototype.convertBytes=function(e){return new Wm(new Lp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Zm.eu(t,this.firestore,null)},t}(jm);var Ym=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $m(e)}return e.prototype.get=function(e){var t=this,n=cg(e);return this._delegate.get(n).then(function(e){return new rg(t._firestore,new mm(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=cg(e);return n?(fp("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=cg(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ke([a,t,n],i)),this},e.prototype.delete=function(e){var t=cg(e);return this._delegate.delete(t),this},e}(),Xm=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=cg(e);return n?(fp("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=cg(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ke([a,t,n],i)),this},e.prototype.delete=function(e){var t=cg(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Jm=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new gm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ig(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new $m(t),n),i.set(n,o)),o},e}();Jm.su=new WeakMap;var Zm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $m(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new ra(na.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new xp(n._delegate,r,new Ua(t)))},e.eu=function(t,n,r){return new e(n,new xp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ug(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new ug(this.firestore,kp(this._delegate,e))}catch(e){throw eg(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=st(e))instanceof xp&&Np(this._delegate,e)},e.prototype.set=function(e,t){t=fp("DocumentReference.set",t);try{return t?Fm(this._delegate,e,t):Fm(this._delegate,e)}catch(e){throw eg(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Um(this._delegate,e):Um.apply(void 0,Ke([this._delegate,e,t],n))}catch(e){throw eg(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Bm(vp((e=this._delegate).firestore,Ap),[new yu(e._key,ru.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=tg(t),i=ng(t,function(t){return new rg(e.firestore,new mm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Vm(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=vp(e,xp);var t=vp(e.firestore,Ap),n=Dp(t),r=new Mm(t);return function(e,t){var n=this,r=new $c;return e.asyncQueue.enqueueAndForget(function(){return Be(n,void 0,void 0,function(){var n;return qe(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return Be(this,void 0,void 0,function(){var r,i;return qe(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=fa(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ra(na.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Uf(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Yd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._key).then(function(n){return new mm(t,r,e._key,n,new pm(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=vp(e,xp);var t=vp(e.firestore,Ap);return ep(Dp(t),e._key,{source:"server"}).then(function(n){return qm(t,e,n)})}(this._delegate):function(e){e=vp(e,xp);var t=vp(e.firestore,Ap);return ep(Dp(t),e._key).then(function(n){return qm(t,e,n)})}(this._delegate)).then(function(e){return new rg(t.firestore,new mm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Jm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function eg(e,t,n){return e.message=e.message.replace(t,n),e}function tg(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Cp(r))return r}return{}}function ng(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Cp(e[0])?e[0]:Cp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Zm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return bm(this._delegate,e._delegate)},e}(),ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ue(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(rg),og=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $m(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Sm(this._delegate,function(e,t,n){var r=t,i=dm("where",e);return new Em(i,r,n)}(t,n,r)))}catch(t){throw eg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Sm(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=dm("orderBy",e);return new km(r,n)}(t,n)))}catch(t){throw eg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Sm(this._delegate,function(e){return yp("limit",e),new Im("limit",e,"F")}(t)))}catch(t){throw eg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Sm(this._delegate,function(e){return yp("limitToLast",e),new Im("limitToLast",e,"L")}(t)))}catch(t){throw eg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Nm("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw eg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Nm("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw eg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Tm("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw eg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sm(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Tm("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw eg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Tp(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=vp(e,Sp);var t=vp(e.firestore,Ap),n=Dp(t),r=new Mm(t);return function(e,t){var n=this,r=new $c;return e.asyncQueue.enqueueAndForget(function(){return Be(n,void 0,void 0,function(){var n;return qe(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return Be(this,void 0,void 0,function(){var r,i,o,a,s;return qe(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,kh(e,t,!0)];case 1:return s=u.sent(),r=new nd(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Uf(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Yd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._query).then(function(n){return new vm(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=vp(e,Sp);var t=vp(e.firestore,Ap),n=Dp(t),r=new Mm(t);return tp(n,e._query,{source:"server"}).then(function(n){return new vm(t,r,e,n)})}(this._delegate):function(e){e=vp(e,Sp);var t=vp(e.firestore,Ap),n=Dp(t),r=new Mm(t);return wm(e._query),tp(n,e._query).then(function(n){return new vm(t,r,e,n)})}(this._delegate)).then(function(e){return new sg(t.firestore,new vm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=tg(t),i=ng(t,function(t){return new sg(e.firestore,new vm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Vm(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Jm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),ag=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ig(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),sg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new og(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new ig(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new ag(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new ig(n._firestore,r))})},e.prototype.isEqual=function(e){return bm(this._delegate,e._delegate)},e}(),ug=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Ue(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Zm(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Zm(this.firestore,void 0===e?Ip(this._delegate):Ip(this._delegate,e))}catch(e){throw eg(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=vp(e.firestore,Ap),r=Ip(e),i=Pm(e.converter,t);return Bm(n,[Wp(Kp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ru.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new Zm(t.firestore,e)})},t.prototype.isEqual=function(e){return Np(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Jm.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(og);function cg(e){return vp(e,xp)}var lg=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Rp.bind.apply(Rp,Ke([void 0],e)))}return e.documentId=function(){return new e(Na.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=st(e))instanceof Rp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),hg=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new $p("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Gp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yp("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xp("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Jp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var fg,dg={Firestore:Qm,GeoPoint:Fp,Timestamp:ya,Blob:Wm,Transaction:Ym,WriteBatch:Xm,DocumentReference:Zm,DocumentSnapshot:rg,Query:og,QueryDocumentSnapshot:ig,QuerySnapshot:sg,CollectionReference:ug,FieldPath:lg,FieldValue:hg,setLogLevel:function(e){var t;t=e,ia.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e){e.INTERNAL.registerComponent(new ut("firestore",function(e){return function(e,t){return new Qm(e,new Ap(e,t),new Gm)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},dg)))})(fg=Mt),fg.registerVersion("@firebase/firestore","2.4.1"),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(Gt){this.f(Gt)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(Gt){n.reject(Gt)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(mo){o(mo)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)})},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t(function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)})},t});var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function k(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function I(e){return e}function N(e,t,n){this.code=C+e,this.message=t||A[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new N(t.substring(C.length),e.message,e.serverResponse):null}k(N,Error),N.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},N.prototype.toJSON=function(){return this.w()};var _,C="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function P(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function O(e){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");O.call(this,n+e[r])}function L(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}_=j("__EID__")?"__EID__":void 0,k(O,Error),O.prototype.name="CustomError",k(R,O),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new M(function(){return new q},function(e){e.reset()});function B(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function $(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0})}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var he=le.userAgent;if(he){Z=he;break e}}Z=""}function fe(e){return ue(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(m(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Ee&&t||"",this.b=Se}function we(e){return e instanceof be&&e.constructor===be&&e.b===Se?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var xe,Se={},Ee={};function ke(){if(void 0===xe){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){s.console&&s.console.error(n.message)}xe=e}else xe=e}return xe}function Ie(e,t){this.a=t===Ae?e:""}function Ne(e){return e instanceof Ie&&e.constructor===Ie?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Te(e,t){var n=we(e);if(!Ce.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(_e,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))}),function(e){var t=ke();return e=t?t.createScriptURL(e):e,new Ie(e,Ae)}(e)}Ie.prototype.ta=!0,Ie.prototype.sa=function(){return this.a.toString()},Ie.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _e=/%{(\w+)}/g,Ce=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function De(e,t){this.a=t===Fe?e:""}function je(e){return e instanceof De&&e.constructor===De?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}De.prototype.ta=!0,De.prototype.sa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Oe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Re=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof De)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e))e=new De(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Oe);e=t&&Pe.test(t[1])?new De(e,Fe):null}return e}function Me(e){return e instanceof De?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e)||(e="about:invalid#zClosurez"),new De(e,Fe))}var Fe={},Ue=new De("about:invalid#zClosurez",Fe);function Ve(e,t,n){this.a=n===Be?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function qe(e,t,n,r){return e=e instanceof De?e:Me(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(je(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=h;var We,Ge=fe("Opera"),Qe=fe("Trident")||fe("MSIE"),$e=fe("Edge"),Ye=$e||Qe,Xe=fe("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Je=ue(Z.toLowerCase(),"webkit")&&!fe("Edge");function Ze(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=Z;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Qe){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){We=String(nt);break e}}We=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=ee(String(We)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}if(s.document&&Qe){var at=Ze();rt=at||(parseInt(We,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Vi){}var ut=!Qe||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){de(t,function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var ht,ft,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};ve(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||m(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}H(a?J(o):o,r)}}}(i,o,r),o}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){s.setTimeout(function(){throw e},0)}function vt(e,t){ft||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ft=function(){e.then(wt)}}else ft=function(){var e=wt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!fe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ht||(ht=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=x(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ht(e)):s.setImmediate(e)}}(),yt||(ft(),yt=!0),bt.add(e,t)}var yt=!1,bt=new U;function wt(){for(var e;e=B();){try{e.a.call(e.b)}catch(t){gt(t)}F(V,e)}yt=!1}function xt(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,function(e){Rt(n,Et,e)},function(e){if(!(e instanceof zt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(fg){}Rt(n,kt,e)})}catch(r){Rt(this,kt,r)}}var St=0,Et=2,kt=3;function It(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}It.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Nt=new M(function(){return new It},function(e){e.reset()});function Tt(e,t,n){var r=Nt.get();return r.g=e,r.b=t,r.f=n,r}function _t(e){if(e instanceof xt)return e;var t=new xt(h);return Rt(t,Et,e),t}function Ct(e){return new xt(function(t,n){n(e)})}function At(e,t,n){Lt(e,t,n,null)||vt(S(t,e))}function Dt(e){return new xt(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],S(i,o,!0),S(i,o,!1));else t(r)})}function jt(e,t){if(e.a==St)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==St&&1==r?jt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ut(n),Vt(n,i,kt,t)))}e.c=null}else Rt(e,kt,t)}function Pt(e,t){e.b||e.a!=Et&&e.a!=kt||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ot(e,t,n,r){var i=Tt(null,null,null);return i.a=new xt(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(Gt){o(Gt)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof zt?o(t):e(i)}catch(Gt){o(Gt)}}:o}),i.a.c=e,Pt(e,i),i.a}function Rt(e,t,n){e.a==St&&(e===n&&(t=kt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=kt||n instanceof zt||function(e,t){e.g=!0,vt(function(){e.g&&qt.call(null,t)})}(e,n)))}function Lt(e,t,n,r){if(e instanceof xt)return Pt(e,Tt(t||h,n||null,r)),!0;if(P(e))return e.then(t,n,r),!0;if(m(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ft(e){e.h||(e.h=!0,vt(e.gc,e))}function Ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Vt(e,t,n,r){if(n==kt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Bt(t,n,r);else try{t.c?t.g.call(t.f):Bt(t,n,r)}catch(fg){qt.call(null,fg)}F(Nt,t)}function Bt(e,t,n){t==Et?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}xt.prototype.then=function(e,t,n){return Ot(this,p(e)?e:null,p(t)?t:null,n)},xt.prototype.$goog_Thenable=!0,(e=xt.prototype).oa=function(e,t){return(e=Tt(e,e,t)).c=!0,Pt(this,e),this},e.o=function(e,t){return Ot(this,null,e,t)},e.cancel=function(e){if(this.a==St){var t=new zt(e);vt(function(){jt(this,t)},this)}},e.$c=function(e){this.a=St,Rt(this,Et,e)},e.ad=function(e){this.a=St,Rt(this,kt,e)},e.gc=function(){for(var e;e=Ut(this);)Vt(this,e,this.a,this.i);this.h=!1};var qt=gt;function zt(e){O.call(this,e)}function Ht(){0!=Kt&&(Wt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}k(zt,O),zt.prototype.name="cancel";var Kt=0,Wt={};function Qt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Kt)){var t=g(e);if(0!=Kt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wt[t]}}Ht.prototype.ya=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $t=Object.freeze||function(e){return e},Yt=!Qe||9<=Number(st),Xt=Qe&&!ot("9"),Jt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{Ke(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},k(en,Zt);var tn=$t({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=En(n),e&&e[nn]?In(e,t,n,m(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=xn(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=wn,t=Yt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=En(n),e&&e[nn]?Nn(e,t,n,m(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function mn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)mn(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=En(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=xn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xn(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function vn(e){return e in hn?hn[e]:hn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=xn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&gn(e),n.call(r,t)}function wn(e,t){if(e.wa)return!0;if(!Yt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return bn(e,new en(t,this))}function xn(e){return(e=e[ln])instanceof sn?e:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return p(e)?e:(e[Sn]||(e[Sn]=function(t){return e.handleEvent(t)}),e[Sn])}function kn(){Ht.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function In(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Nn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(e,t,n){if(p(e))n&&(e=x(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=x(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new xt(function(n,r){-1==(t=_n(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw s.clearTimeout(t),e})}function An(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Dn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function jn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof jn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];On(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)On(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function On(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(kn,Ht),kn.prototype[nn]=!0,kn.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},kn.prototype.removeEventListener=function(e,t,n,r){mn(this,e,t,n,r)},kn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;ve(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},kn.prototype.Da=function(){if(kn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=jn.prototype).X=function(){Pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return On(this.b,e)?this.b[e]:t},e.set=function(e,t){On(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Ln?(this.i=void 0!==t?t:e.i,Mn(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Un(this,ir(e.b)),this.h=e.h):e&&(n=String(e).match(Rn))?(this.i=!!t,Mn(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),Fn(this,n[4]),this.f=Hn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!t,this.b=new Jn(null,this.i))}function Mn(e,t,n){e.c=n?Hn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Un(e,t,n){t instanceof Jn?(e.b=t,function(e,t){t&&!e.f&&(Zn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tr(this,t),rr(this,n,e))},e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,Yn)),e.b=new Jn(t,e.i))}function Vn(e,t,n){e.b.set(t,n)}function Bn(e,t){return e.b.get(t)}function qn(e){return e instanceof Ln?new Ln(e):new Ln(e,void 0)}function zn(e,t,n,r){var i=new Ln(null,void 0);return e&&Mn(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function Hn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ln.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Gn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?$n:Qn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,Xn)),e.join("")},Ln.prototype.resolve=function(e){var t=new Ln(this),n=!!e.c;n?Mn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Un(t,ir(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Gn=/[#\/\?@]/g,Qn=/[#\?:]/g,$n=/[#\?]/g,Yn=/[#\?@]/g,Xn=/#/g;function Jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zn(e){e.a||(e.a=new jn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function er(e){var t=Dn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Jn(null,void 0);e=An(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?rr(n,i,o):n.add(i,o)}return n}function tr(e,t){Zn(e),t=or(e,t),On(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,On((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Pn(e)))}function nr(e,t){return Zn(e),t=or(e,t),On(e.a.b,t)}function rr(e,t,n){tr(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),J(n)),e.b+=n.length)}function ir(e){var t=new Jn;return t.c=e.c,e.a&&(t.a=new jn(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ar(e){var t=[];return ur(new sr,e,t),t.join("")}function sr(){}function ur(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ur(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),hr(r,n),n.push(":"),ur(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Jn.prototype).add=function(e,t){Zn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Zn(this),this.a.forEach(function(n,r){H(n,function(n){e.call(t,n,r,this)},this)},this)},e.Y=function(){Zn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Zn(this);var t=[];if("string"===typeof e)nr(this,e)&&(t=X(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Zn(this),this.c=null,nr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(e,t){t.push('"',e.replace(lr,function(e){var t=cr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),cr[e]=t),t}),'"')}function fr(){var e=jr();return Qe&&!!st&&11==st||/Edge\/\d+/.test(e)}function dr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(e,t){t=t||s.window;var n="about:blank";e&&(n=je(Le(e)||Ue)),t.location.href=n}function mr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<mr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function gr(e){return!!((e=(e||jr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(t){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=jr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Cr(jr())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof De?n:Le("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof De?t:Me(t),a.href=je(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",r,n,a),e=je(t),a&&(Ye&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new Ve(e=(r=ke())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^[^@]+@[^@]+$/;function xr(){var e=null;return new xt(function(t){"complete"==s.document.readyState?t():(e=function(){t()},pn(window,"load",e))}).o(function(t){throw mn(window,"load",e),t})}function Sr(e){return e=e||jr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function kr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Ir(){return Mt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Mt.INTERNAL.hasOwnProperty("node")?"Node":kr()?"Worker":"Browser"}function Nr(){var e=Ir();return"ReactNative"===e||"Node"===e}var Tr="Firefox",_r="Chrome";function Cr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Tr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":_r:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Dr(e,t){t=t||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Cr(i=jr()):"Worker"===r&&(r=Cr(i=jr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function jr(){return s.navigator&&s.navigator.userAgent||""}function Pr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Or(){try{var e=s.localStorage,t=qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!s.indexedDB}catch(n){return kr()&&!!s.indexedDB}return!1}function Rr(){return(Lr()||"chrome-extension:"===Mr()||Sr())&&!Nr()&&Or()&&!kr()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return s.location&&s.location.protocol||null}function Fr(e){return!gr(e=e||jr())&&Cr(e)!=Tr}function Ur(e){return"undefined"===typeof e?null:ar(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Br(e){if(null!==e)return JSON.parse(e)}function qr(e){return e||Math.floor(1e9*Math.random()).toString()}function zr(e){return"Safari"!=Cr(e=e||jr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Kr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=jr(),t=Ir(),this.b=gr(e)||"ReactNative"===t}function Wr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Gr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Qr(){return!(!Pr("fireauth.oauthhelper",s)&&!Pr("fireauth.iframe",s))}Kr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Lr()&&"chrome-extension:"!==Mr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $r,Yr={};function Xr(e){Yr[e]||(Yr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),$r=2==Jr.abcd}catch(Vi){$r=!1}function Zr(e,t,n){$r?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ei(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Zr(e,n,t[n])}function ti(e){var t={};return ei(t,e),t}function ni(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Zr(t,n,ni(e[n]));return t}function ri(e){var t=e&&(e[ui]?"phone":null);if(!(t&&e&&e[si]))throw new N("internal-error","Internal assert: invalid MultiFactorInfo object");Zr(this,"uid",e[si]),Zr(this,"displayName",e[oi]||null);var n=null;e[ai]&&(n=new Date(e[ai]).toUTCString()),Zr(this,"enrollmentTime",n),Zr(this,"factorId",t)}function ii(e){try{var t=new ci(e)}catch(n){t=null}return t}ri.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var oi="displayName",ai="enrolledAt",si="mfaEnrollmentId",ui="phoneInfo";function ci(e){ri.call(this,e),Zr(this,"phoneNumber",e[ui])}function li(e){var t={},n=e[pi],r=e[gi],i=e[vi];if(e=ii(e[mi]),!i||i!=fi&&i!=di&&!n||i==di&&!r||i==hi&&!e)throw Error("Invalid checkActionCode response!");i==di?(t[bi]=n||null,t[xi]=n||null,t[yi]=r):(t[bi]=r||null,t[xi]=r||null,t[yi]=n||null),t[wi]=e||null,Zr(this,Ei,i),Zr(this,Si,ni(t))}k(ci,ri),ci.prototype.w=function(){var e=ci.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var hi="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",di="VERIFY_AND_CHANGE_EMAIL",pi="email",mi="mfaInfo",gi="newEmail",vi="requestType",yi="email",bi="fromEmail",wi="multiFactorInfo",xi="previousEmail",Si="data",Ei="operation";function ki(e){var t=Bn(e=qn(e),Ii)||null,n=Bn(e,Ni)||null,r=Bn(e,Ci)||null;if(r=r&&Di[r]||null,!t||!n||!r)throw new N("argument-error",Ii+", "+Ni+"and "+Ci+" are required in a valid action code URL.");ei(this,{apiKey:t,operation:r,code:n,continueUrl:Bn(e,Ti)||null,languageCode:Bn(e,_i)||null,tenantId:Bn(e,Ai)||null})}var Ii="apiKey",Ni="oobCode",Ti="continueUrl",_i="languageCode",Ci="mode",Ai="tenantId",Di={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:fi,verifyAndChangeEmail:di,verifyEmail:"VERIFY_EMAIL"};function ji(e){try{return new ki(e)}catch(t){return null}}function Pi(e){var t=e[Fi];if("undefined"===typeof t)throw new N("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new N("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Oi];if(n&&"object"===typeof n){t=n[qi];var r=n[Ui];if(n=n[Bi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new N("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new N("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new N("argument-error",qi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new N("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new N("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(t=e[Mi])&&"object"===typeof t){if("string"===typeof(t=t[zi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new N("argument-error",zi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new N("argument-error",Mi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Li])&&"boolean"!==typeof t)throw new N("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Ri])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new N("argument-error",Ri+" property must be a non empty string when specified.");this.i=e||null}var Oi="android",Ri="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",Fi="url",Ui="installApp",Bi="minimumVersion",qi="packageName",zi="bundleId";function Hi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ki=null;function Wi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ki){Ki={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t.push(e)}),t}function Gi(e){var t=$i(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Qi(e){try{return new Gi(e)}catch(t){return null}}function $i(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Wi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(Gt){}return null}Gi.prototype.T=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.h};var Yi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xi=["client_id","response_type","scope","redirect_uri","state"],Ji={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Xi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Xi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Xi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Yi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Zi(e){for(var t in Ji)if(Ji[t].fa==e)return Ji[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(r){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Qi(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Zr(this,"providerId",t),Zr(this,"isNewUser",n)}function io(e){ro.call(this,e),Zr(this,"profile",ni((e=Br(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",e.screenName||null)}function co(e){var t=qn(e),n=Bn(t,"link"),r=Bn(qn(n),"link");return t=Bn(t,"deep_link_id"),Bn(qn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new N("internal-error","Internal assert: no raw session string available");if(e&&t)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ho:fo}k(io,ro),k(oo,io),k(ao,io),k(so,io),k(uo,io);var ho="enroll",fo="signin";function po(){}function go(e,t){return e.then(function(e){if(e[is]){var n=Qi(e[is]);if(!n||t!=n.i)throw new N("user-mismatch");return e}throw new N("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==C+"user-not-found"?new N("user-mismatch"):e})}function vo(e,t){if(!t)throw new N("internal-error","failed to construct a credential");this.a=t,Zr(this,"providerId",e),Zr(this,"signInMethod",e)}function yo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function bo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new vo(e.providerId,e.pendingToken)}catch(t){}return null}function wo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Zr(this,"idToken",t.idToken),t.accessToken&&Zr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Zr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new N("internal-error","failed to construct a credential");Zr(this,"accessToken",t.oauthToken),Zr(this,"secret",t.oauthTokenSecret)}Zr(this,"providerId",e),Zr(this,"signInMethod",n)}function xo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:er(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function So(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new wo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Eo(e,t){this.Qc=t||[],ei(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Zi(e)||{}).Ja||null,this.pb=null}function ko(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');Eo.call(this,e,[])}function Io(e){Eo.call(this,e,Xi),this.a=[]}function No(){Io.call(this,"facebook.com")}function To(e){if(!e)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new No).credential({accessToken:t})}function _o(){Io.call(this,"github.com")}function Co(e){if(!e)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function Ao(){Io.call(this,"google.com"),this.Ca("profile")}function Do(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function jo(){Eo.call(this,"twitter.com",Yi)}function Po(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new wo("twitter.com",n,"twitter.com")}function Oo(e,t,n){this.a=e,this.f=t,Zr(this,"providerId","password"),Zr(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ro(e){return e&&e.email&&e.password?new Oo(e.email,e.password,e.signInMethod):null}function Lo(){ei(this,{providerId:"password",isOAuthProvider:!1})}function Mo(e,t){if(!(t=Fo(t)))throw new N("argument-error","Invalid email link!");return new Oo(e,t.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function Fo(e){return(e=ji(e=co(e)))&&e.operation===fi?e:null}function Uo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new N("internal-error");this.a=e,Zr(this,"providerId","phone"),this.fa="phone",Zr(this,"signInMethod","phone")}function Vo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Uo(t)}return null}function Bo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function qo(e){try{this.a=e||Mt.auth()}catch(t){throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ei(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new N("missing-verification-id");if(!t)throw new N("missing-verification-code");return new Uo({fb:e,eb:t})}function Ho(e){if(e.temporaryProof&&e.phoneNumber)return new Uo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Do(o,n);case"facebook.com":return To(n);case"github.com":return Co(n);case"twitter.com":return Po(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new vo(t,a):new wo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Io(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Ko(e){if(!e.isOAuthProvider)throw new N("invalid-oauth-provider")}function Wo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new N("invalid-auth-event");if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}function Go(e){return(e=e||{}).type?new Wo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function Qo(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?_t(this.a):_t(this.b)},lo.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},vo.prototype.ka=function(e){return Ns(e,yo(this))},vo.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Ts(e,n)},vo.prototype.c=function(e,t){return go(_s(e,yo(this)),t)},vo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},wo.prototype.ka=function(e){return Ns(e,xo(this))},wo.prototype.b=function(e,t){var n=xo(this);return n.idToken=t,Ts(e,n)},wo.prototype.c=function(e,t){return go(_s(e,xo(this)),t)},wo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Eo.prototype.Ka=function(e){return this.Jb=me(e),this},k(ko,Eo),k(Io,Eo),Io.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},Io.prototype.Rb=function(){return J(this.a)},Io.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new wo(this.providerId,n,this.providerId)},k(No,Io),Zr(No,"PROVIDER_ID","facebook.com"),Zr(No,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(_o,Io),Zr(_o,"PROVIDER_ID","github.com"),Zr(_o,"GITHUB_SIGN_IN_METHOD","github.com"),k(Ao,Io),Zr(Ao,"PROVIDER_ID","google.com"),Zr(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),k(jo,Eo),Zr(jo,"PROVIDER_ID","twitter.com"),Zr(jo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ls,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Oo.prototype.b=function(e,t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ms,{idToken:t,email:this.a,oobCode:this.f}):cu(e,Ys,{idToken:t,email:this.a,password:this.f})},Oo.prototype.c=function(e,t){return go(this.ka(e),t)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ei(Lo,{PROVIDER_ID:"password"}),ei(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ei(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Uo.prototype.ka=function(e){return e.gb(Bo(this))},Uo.prototype.b=function(e,t){var n=Bo(this);return n.idToken=t,cu(e,au,n)},Uo.prototype.c=function(e,t){var n=Bo(this);return n.operation="REAUTH",go(e=cu(e,su,n),t)},Uo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},qo.prototype.gb=function(e,t){var n=this.a.a;return _t(t.verify()).then(function(r){if("string"!==typeof r)throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=m(e)?e.session:null,a=m(e)?e.phoneNumber:e;return i=o&&o.type==ho?o.Ha().then(function(e){return function(e,t){return cu(e,Js,t).then(function(e){return e.phoneSessionInfo.sessionInfo})}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})}):o&&o.type==fo?o.Ha().then(function(t){return function(e,t){return cu(e,Zs,t).then(function(e){return e.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(e,t){return cu(e,Qs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then(function(e){return"function"===typeof t.reset&&t.reset(),e},function(e){throw"function"===typeof t.reset&&t.reset(),e})}throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},ei(qo,{PROVIDER_ID:"phone"}),ei(qo,{PHONE_SIGN_IN_METHOD:"phone"}),Wo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Wo.prototype.T=function(){return this.h},Wo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var $o,Yo=null;function Xo(e){var t="unauthorized-domain",n=void 0,r=qn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",N.call(this,t,n)}function Jo(e,t,n){N.call(this,e,n),(e=t||{}).Kb&&Zr(this,"email",e.Kb),e.ea&&Zr(this,"phoneNumber",e.ea),e.credential&&Zr(this,"credential",e.credential),e.$b&&Zr(this,"tenantId",e.$b)}function Zo(e){if(e.code){var t=e.code||"";0==t.indexOf(C)&&(t=t.substring(C.length));var n={credential:Ho(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new N(t,e.message||void 0);return new Jo(t,n,e.message)}return null}function ea(){}function ta(e){return e.c||(e.c=e.b())}function na(){}function ra(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(fg){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Tb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}function aa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function sa(e,t,n){this.reset(e,t,n,void 0,void 0)}k(Xo,N),k(Jo,N),Jo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ve(e,t),e},Jo.prototype.toJSON=function(){return this.w()},ea.prototype.c=null,k(na,ea),na.prototype.a=function(){var e=ra(this);return e?new ActiveXObject(e):new XMLHttpRequest},na.prototype.b=function(){var e={};return ra(this)&&(e[0]=!0,e[1]=!0),e},$o=new na,k(ia,ea),ia.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(e=oa.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,aa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(e){this.f=e,this.b=this.c=this.a=null}function ca(e,t){this.name=e,this.value=t}sa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ca.prototype.toString=function(){return this.name};var la=new ca("SEVERE",1e3),ha=new ca("WARNING",900),fa=new ca("CONFIG",700),da=new ca("FINE",500);function pa(e){return e.c?e.c:e.a?pa(e.a):(L("Root logger has no level set."),null)}ua.prototype.log=function(e,t,n){if(e.value>=pa(this).value)for(p(t)&&(t=t()),e=new sa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ma={},ga=null;function va(e){var t;if(ga||(ga=new ua(""),ma[""]=ga,ga.c=fa),!(t=ma[e])){t=new ua(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=va(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ma[e]=t}return t}function ya(e,t){e&&e.log(da,t,void 0)}function ba(e){this.f=e}function wa(e){kn.call(this),this.u=e,this.h=void 0,this.readyState=xa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(ba,ea),ba.prototype.a=function(){return new wa(this.f)},ba.prototype.b=function(e){return function(){return e}}({}),k(wa,kn);var xa=0;function Sa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Ea(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ka(e)}function ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ia(e){kn.call(this),this.headers=new jn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Na,this.u=this.S=!1}(e=wa.prototype).open=function(e,t){if(this.readyState!=xa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ka(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ea(this)),this.readyState=xa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ka(this)),this.a&&(this.readyState=3,ka(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Sa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ea(this):ka(this),3==this.readyState&&Sa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ea(this))},e.sc=function(e){this.a&&(this.response=e,Ea(this))},e.Va=function(e){var t=this.i;t&&t.log(ha,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ea(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ha,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ha,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),k(Ia,kn);var Na="";Ia.prototype.b=va("goog.net.XhrIo");var Ta=/^https?$/i,_a=["POST","PUT"];function Ca(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():$o.a(),e.C=e.D?ta(e.D):ta($o),e.a.onreadystatechange=x(e.Wb,e);try{ya(e.b,Fa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ya(e.b,Fa(e,"Error opening Xhr: "+a.message)),void Da(e,a)}t=r||"";var o=new jn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)H(e,t,void 0);else for(var n=Dn(e),r=An(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){o.set(t,e)}),i=function(e){e:{for(var t=Aa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(_a,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ra(e),0<e.g&&(e.u=function(e){return Qe&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=x(e.Ma,e)):e.s=_n(e.Ma,e.g,e)),ya(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ya(e.b,Fa(e,"Send error: "+a.message)),Da(e,a)}}function Aa(e){return"content-type"==e.toLowerCase()}function Da(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ja(e),Oa(e)}function ja(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Pa(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==La(e)&&2==Ma(e))ya(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==La(e))_n(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==La(e)){ya(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=Ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ta.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<La(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Ma(e)+"]",ja(e)}}finally{Oa(e)}}}function Oa(e,t){if(e.a){Ra(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(fg){(e=e.b)&&e.log(la,"Problem encountered resetting onreadystatechange: "+fg.message,void 0)}}}function Ra(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function La(e){return e.a?e.a.readyState:0}function Ma(e){try{return 2<La(e)?e.a.status:-1}catch(t){return-1}}function Fa(e,t){return t+" ["+e.P+" "+e.l+" "+Ma(e)+"]"}function Ua(e){var t=Ya;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Va(e,t,n){e.a=!0,e.c=n,e.f=!t,Ha(e)}function Ba(e){if(e.a){if(!e.v)throw new Ka(e);e.v=!1}}function qa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ha(e)}function za(e){return G(e.g,function(e){return p(e[1])})}function Ha(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Qa[t];n&&(s.clearTimeout(n.a),delete Qa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(P(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(u=x(e.m,e,!0),r=x(e.m,e,!1),t instanceof Ua?(qa(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ga(t),Qa[t.a]=t,e.h=t.a)}function Ka(){O.call(this)}function Wa(){O.call(this)}function Ga(e){this.a=s.setTimeout(x(this.c,this),0),this.b=e}(e=Ia.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oa(this,!0)),Ia.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Pa(this):this.Jc())},e.Jc=function(){Pa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Na:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(la,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ya(this.b,"Can not get response: "+t.message),null}},Ua.prototype.cancel=function(e){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Wa(this),Ba(this),Va(this,!1,e))}},Ua.prototype.m=function(e,t){this.i=!1,Va(this,e,t)},Ua.prototype.then=function(e,t,n){var r,i,o=new xt(function(e,t){r=e,i=t});return qa(this,r,function(e){e instanceof Wa?o.cancel():i(e)}),o.then(e,t,n)},Ua.prototype.$goog_Thenable=!0,k(Ka,O),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",k(Wa,O),Wa.prototype.message="Deferred was canceled",Wa.prototype.name="CanceledError",Ga.prototype.c=function(){throw delete Qa[this.a],this.b};var Qa={};function $a(e){var t={},n=t.document||document,r=Ne(e).toString(),i=mt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Xa(i,!0);var e=new es(Za,"Timeout reached for loading script "+r);Ba(a),Va(a,!1,e)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Xa(i,t.xd||!1,u),Ba(a),Va(a,!0,null))},i.onerror=function(){Xa(i,!0,u);var e=new es(Ja,"Error while loading script "+r);Ba(a),Va(a,!1,e)},ve(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Ne(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ya(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Xa(e,!0,this.Ma)}}function Xa(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Ja=0,Za=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),O.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=me(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=me(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=s.XMLHttpRequest||n&&Mt.INTERNAL.node&&Mt.INTERNAL.node.XMLHttpRequest)&&!kr())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,kr()?this.f=new ba(self):Nr()?this.f=new ts(n):this.f=new ia,this.b=null}k(es,O),k(ts,ea),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new Kr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new Kr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=hs("https://securetoken.googleapis.com/v1/token",t),e.h=hs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=hs("https://identitytoolkit.googleapis.com/v2/",t))}function hs(e,t){return e=qn(e),t=qn(t.url),e.f=e.a+e.f,Mn(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function fs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ds(e,t,n,r,i,o,a){(function(){var e=jr();return!((e=Cr(e)!=_r?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!st||9<st)})()||kr()?e=x(e.u,e):(rs||(rs=new xt(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ms]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){qa(e,null,t,void 0)}($a(Te(ps,{onload:ms})),function(){t(Error("CORS_UNSUPPORTED"))})}}(e,t)})),e=x(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(kr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ia(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}In(a,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(Gt){e=null}t&&t(e)}),Nn(a,"ready",function(){u&&clearTimeout(u),Qt(this)}),Nn(a,"timeout",function(){u&&clearTimeout(u),Qt(this),t&&t(null)}),Ca(a,e,n,r,i)};var ps=new be(Ee,"https://apis.google.com/js/client.js?onload=%{onload}"),ms="__fcb"+Math.floor(1e6*Math.random()).toString();function gs(e,t,n,r,i,o,a){var s=qn(t+n);Vn(s,"key",e.c),a&&Vn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Vn(s,c,i[c]);return new xt(function(t,n){ds(e,s.toString(),function(e){e?e.error?n(hu(e,o||{})):t(e):n(new N("network-request-failed"))},r,u?void 0:ar(Vr(i)),e.a,e.v.get())})}function vs(e){if("string"!==typeof(e=e.email)||!wr.test(e))throw new N("invalid-email")}function ys(e){"email"in e&&vs(e)}function bs(e){if(!e[is]){if(e.mfaPendingCredential)throw new N("multi-factor-auth-required",null,me(e));throw new N("internal-error")}}function ws(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new N("internal-error")}else{if(!e.sessionInfo)throw new N("missing-verification-id");if(!e.code)throw new N("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},ns.prototype.Ab=function(){return cu(this,Xs,{})},ns.prototype.Cb=function(e,t){return cu(this,$s,{idToken:e,email:t})},ns.prototype.Db=function(e,t){return cu(this,Ys,{idToken:e,password:t})};var xs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(e){if(!e.phoneVerificationInfo)throw new N("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new N("missing-verification-code")}function Es(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new N("internal-error")}function ks(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(nr(e=new Jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Is(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Zo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Zo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Zo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;bs(e)}function Ns(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Ts(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function Cs(e){if(!e.oobCode)throw new N("invalid-action-code")}(e=ns.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(xs,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),cu(this,$s,n)},e.wb=function(e,t){return ve(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Hs,e)},e.xb=function(e,t){return ve(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,Bs,e)},e.vb=function(e,t){return ve(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,qs,e)},e.Fb=function(e,t,n){return ve(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,zs,e)},e.gb=function(e){return cu(this,ou,e)},e.ob=function(e,t){return cu(this,Gs,{oobCode:e,newPassword:t})},e.Sa=function(e){return cu(this,Ds,{oobCode:e})},e.kb=function(e){return cu(this,As,{oobCode:e})};var As={endpoint:"setAccountInfo",A:Cs,Z:"email",B:!0},Ds={endpoint:"resetPassword",A:Cs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new N("internal-error")},B:!0},js={endpoint:"signupNewUser",A:function(e){if(vs(e),!e.password)throw new N("weak-password")},G:bs,V:!0,B:!0},Ps={endpoint:"createAuthUri",B:!0},Os={endpoint:"deleteAccount",O:["idToken"]},Rs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new N("internal-error")}},Ls={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vs,G:bs,V:!0,B:!0},Ms={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vs,G:bs,V:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ss,G:bs,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ss,G:bs,B:!0,Na:!0},Vs={endpoint:"getAccountInfo"},Bs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new N("internal-error");vs(e)},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new N("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new N("internal-error")},Z:"email",B:!0},Hs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new N("internal-error");vs(e)},Z:"email",B:!0},Ks={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ws={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new N("internal-error")}},Gs={endpoint:"resetPassword",A:Cs,Z:"email",B:!0},Qs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},$s={endpoint:"setAccountInfo",O:["idToken"],A:ys,V:!0},Ys={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ys(e),!e.password)throw new N("weak-password")},G:bs,V:!0},Xs={endpoint:"signupNewUser",G:bs,V:!0,B:!0},Js={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new N("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},Zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Es,Za:ks,G:Is,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Es,Za:ks,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new N("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);bs(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Es(e),!e.idToken)throw new N("internal-error")},Za:ks,G:Is,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new N("invalid-custom-token")},G:bs,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(vs(e),!e.password)throw new N("wrong-password")},G:bs,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new N("internal-error");ws(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Zo(e);bs(e)}},su={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new N("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Ct(new N("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return _t(n).then(t.A).then(function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),gs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)}).then(function(e){return r=e,t.Za?t.Za(n,r):r}).then(t.G).then(function(){if(!t.Z)return r;if(!(t.Z in r))throw new N("internal-error");return r[t.Z]})}function lu(e){return hu({error:{errors:[{message:e}],code:400,message:e}})}function hu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new N(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ve(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new N(r[i],t);return!t&&e&&(t=Ur(e)),new N("internal-error",t)}function fu(e){this.b=e,this.a=null,this.sb=function(e){return(gu||(gu=new xt(function(e,t){function n(){Hr(),Pr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Hr(),t(Error("Network Error"))},timeout:pu.get()})}if(Pr("gapi.iframes.Iframe"))e();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Pr("gapi.load")?n():t(Error("Network Error"))},_t($a(r=Te(du,{onload:r}))).o(function(){t(Error("Network Error"))})}}).o(function(e){throw gu=null,e}))).then(function(){return new xt(function(t,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},mu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var du=new be(Ee,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new Kr(3e4,6e4),mu=new Kr(5e3,15e3),gu=null;function vu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=zn((e=qn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=zn("https",this.l,null,"/__/auth/iframe"),this.a=e,Vn(this.a,"apiKey",this.h),Vn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return Mt.app(e).auth().Ga()}catch(t){return[]}}function wu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function xu(e){var t=dr();return function(e){return cu(e,Ks,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=qn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:br.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Xo(dr())})}function Su(e){return e.m||(e.m=xr().then(function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new vu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new fu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then(function(){e.a.register("authEvent",t,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",_t(n)}return n.status="ERROR",_t(n)})}(e)})),e.m}function Eu(e){return e.l||(e.C=e.c?Dr(e.c,bu(e.b)):null,e.l=new ns(e.g,j(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function ku(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new yu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=me(u||null),e.f=c,e.zb(l).toString()}function Iu(e){if(this.a=e||Mt.INTERNAL.reactNative&&Mt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Nu(e){this.b=e,this.a={},this.f=x(this.c,this)}vu.prototype.toString=function(){return this.f?Vn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Vn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Vn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.zb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=qn(this.v.url);e=zn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=zn("https",this.u,null,"/__/auth/handler");if(Vn(e,"apiKey",this.s),Vn(e,"appName",this.c),Vn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Mt.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Vn(e,"providerId",this.a.providerId),t=Vr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=me(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Vn(e,"customParameters",Ur(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Vn(e,"scopes",n.join(","))),this.l?Vn(e,"redirectUrl",this.l):tr(e.b,"redirectUrl"),this.g?Vn(e,"eventId",this.g):tr(e.b,"eventId"),this.i?Vn(e,"v",this.i):tr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Bn(e,a)&&Vn(e,a,this.b[a]);return this.h?Vn(e,"tid",this.h):tr(e.b,"tid"),this.f?Vn(e,"eid",this.f):tr(e.b,"eid"),(a=bu(this.c)).length&&Vn(e,"fw",a.join(",")),e.toString()},(e=wu.prototype).Pb=function(e,t,n){var r=new N("popup-closed-by-user"),i=new N("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(e){var t={type:"webStorageSupport"};return Su(e).then(function(){return function(e,t){return e.sb.then(function(){return new xt(function(n){e.a.send(t.type,t,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.v,t)}).then(function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&vr(e),t(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(e){return new xt(function(t){return function n(){Cn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!a)return Cn(n).then(function(){t(r)})})},e.Yb=function(){var e=jr();return!Fr(e)&&!zr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Ct(new N("popup-blocked"));if(a&&!Fr())return this.ma().o(function(t){vr(e),i(t)}),r(),_t();this.a||(this.a=xu(Eu(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw vr(e),i(t),t});return r(),t}).then(function(){(Ko(n),a)||pr(ku(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},e.Ob=function(e,t,n,r){this.a||(this.a=xu(Eu(this)));var i=this;return this.a.then(function(){Ko(t),pr(ku(i.s,i.g,i.b,e,t,dr(),n,i.c,void 0,i.i,r,i.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},e.ma=function(){var e=this;return Su(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new N("network-request-failed")})},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,function(t){return t==e})},(e=Iu.prototype).get=function(e){return _t(this.a.getItem(e)).then(function(e){return e&&Br(e)})},e.set=function(e,t){return _t(this.a.setItem(e,Ur(t)))},e.U=function(e){return _t(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Tu,_u=[];function Cu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Au(e){this.a=e}function Du(e){this.c=e,this.b=!1,this.a=[]}function ju(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ct(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new xt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return Pu(e,c),t}).o(function(t){throw Pu(e,c),t})}function Pu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,function(e){return e==t})}}function Ou(){if(!Fu())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;kr()&&self?(this.v=function(){var e=kr()?self:null;if(H(_u,function(n){n.b==e&&(t=n)}),!t){var t=new Nu(e);_u.push(t)}return t}(),Cu(this.v,"keyChanged",function(t,n){return zu(e).then(function(t){return 0<t.length&&H(e.a,function(e){e(t)}),{keyProcessed:Q(t,n.key)}})}),Cu(this.v,"ping",function(){return _t(["keyChanged"])})):function(){var e=s.navigator;return e&&e.serviceWorker?_t().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):_t(null)}().then(function(t){(e.h=t)&&(e.g=new Du(new Au(t)),ju(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function Ru(e){return new xt(function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new xt(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return Ru(e)}).then(function(e){t(e)}).o(function(e){n(e)})}})}function Lu(e){return e.i||(e.i=Ru(e)),e.i}function Mu(e,t){var n=0;return new xt(function r(i,o){Lu(e).then(t).then(i).o(function(t){if(!(3<++n))return Lu(e).then(function(t){return t.close(),e.i=void 0,r(i,o)}).o(function(e){o(e)});o(t)})})}function Fu(){try{return!!s.indexedDB}catch(Vi){return!1}}function Uu(e){return e.objectStore("firebaseLocalStorage")}function Vu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Bu(e){return new xt(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function qu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ju(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):_t()}function zu(e){return Lu(e).then(function(e){var t=Uu(Vu(e,!1));return t.getAll?Bu(t.getAll()):new xt(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=mr(e.c,n),e.c=n}return r})}function Hu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=_t().then(function(){if(Fu()){var e=qr(),r="__sak"+e;return Tu||(Tu=new Ou),(n=Tu).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ca(function(e){H(t.a,function(t){t(e)})}),e})}function Wu(){this.a={},this.type="inMemory"}function Gu(){if(!function(){var e="Node"==Ir();if(e=Qu()||e&&Mt.INTERNAL.node&&Mt.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new N("internal-error","The LocalStorage compatibility library was not found.");throw new N("web-storage-unsupported")}this.a=Qu()||Mt.INTERNAL.node.localStorage,this.type="localStorage"}function Qu(){try{var e=s.localStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function $u(){this.type="nullStorage"}function Yu(){if(!function(){var e="Node"==Ir();if(e=Xu()||e&&Mt.INTERNAL.node&&Mt.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new N("internal-error","The SessionStorage compatibility library was not found.");throw new N("web-storage-unsupported")}this.a=Xu()||Mt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xu(){try{var e=s.sessionStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ju(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Ir()]}Nu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];H(r,function(t){i.push(_t().then(function(){return t(e.origin,e.data.data)}))}),Dt(i).then(function(r){var i=[];H(r,function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),H(i,function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},Au.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Du.prototype.close=function(){for(;0<this.a.length;)Pu(this,this.a[0]);this.b=!0},(e=Ou.prototype).set=function(e,t){var n=this,r=!1;return Mu(this,function(t){return Bu((t=Uu(Vu(t,!0))).get(e))}).then(function(i){return Mu(n,function(o){if(o=Uu(Vu(o,!0)),i)return i.value=t,Bu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Bu(o.add(a))})}).then(function(){return n.c[e]=t,qu(n,e)}).oa(function(){r&&n.b--})},e.get=function(e){return Mu(this,function(t){return Bu(Uu(Vu(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.U=function(e){var t=this,n=!1;return Mu(this,function(r){return n=!0,t.b++,Bu(Uu(Vu(r,!0)).delete(e))}).then(function(){return delete t.c[e],qu(t,e)}).oa(function(){n&&t.b--})},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout(function(){e.l=zu(e).then(function(t){0<t.length&&H(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}Hu(e),t()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,function(t){return t==e}),0==this.a.length&&Hu(this)},(e=Ku.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.U=function(e){return this.b.then(function(t){return t.U(e)})},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,function(t){return t==e})},(e=Wu.prototype).get=function(e){return _t(this.a[e])},e.set=function(e,t){return this.a[e]=t,_t()},e.U=function(e){return delete this.a[e],_t()},e.ca=function(){},e.ia=function(){},(e=Gu.prototype).get=function(e){var t=this;return _t().then(function(){return Br(t.a.getItem(e))})},e.set=function(e,t){var n=this;return _t().then(function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return _t().then(function(){t.a.removeItem(e)})},e.ca=function(e){s.window&&fn(s.window,"storage",e)},e.ia=function(e){s.window&&mn(s.window,"storage",e)},(e=$u.prototype).get=function(){return _t(null)},e.set=function(){return _t()},e.U=function(){return _t()},e.ca=function(){},e.ia=function(){},(e=Yu.prototype).get=function(e){var t=this;return _t().then(function(){return Br(t.a.getItem(e))})},e.set=function(e,t){var n=this;return _t().then(function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return _t().then(function(){t.a.removeItem(e)})},e.ca=function(){},e.ia=function(){};var Zu,ec,tc={F:Gu,cb:Yu},nc={F:Gu,cb:Yu},rc={F:Iu,cb:$u},ic={F:Gu,cb:$u},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(zr(jr())||!Er()),t=Fr(),n=Or();this.m=e,this.h=t,this.l=n,this.a={},Zu||(Zu=new Ju),e=Zu;try{this.g=!fr()&&Qr()||!s.indexedDB?new e.a.F:new Ku(kr()?new Wu:new e.a.F)}catch(r){this.g=new Wu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Wu}this.v=new Wu,this.f=x(this.Zb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function hc(e){e.c&&(clearInterval(e.c),e.c=null)}function fc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(uc(this,"local").ca(this.f),this.h||(fr()||!Qr())&&s.indexedDB||!this.l||function(e){hc(e),e.c=setInterval(function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&(Y(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(uc(this,"local").ia(this.f),hc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):hc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Qe&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,x(this.nb,this))},e.nb=function(e){this.a[e]&&H(this.a[e],function(e){e()})};var dc,pc={name:"authEvent",F:"local"};function mc(){this.a=sc()}function gc(e,t){this.b=vc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=s.Int32Array?new Int32Array(kc):kc),this.reset()}k(gc,function(){this.b=-1});for(var vc=64,yc=vc-1,bc=[],wc=0;wc<yc;wc++)bc[wc]=0;var xc=X(128,bc);function Sc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|dc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ec(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Sc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Sc(e),i=0)}}e.c=i,e.g+=n}gc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var kc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ic(){gc.call(this,8,Nc)}k(Ic,gc);var Nc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Tc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new mc,this.g=new fc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(e){return new N("invalid-cordova-configuration",e)}function Cc(e){var t=new Ic;Ec(t,e),e=[];var n=8*t.g;56>t.c?Ec(t,xc,56-t.c):Ec(t,xc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Sc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}function Ac(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Dc(e){return e.f||(e.f=e.ma().then(function(){return new xt(function(t){e.Ea(function n(r){return t(r),e.Ta(n),!1}),function(e){function t(t){r=!0,i&&i.cancel(),jc(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Br(Bn(o=qn(i),"firebaseError")||null))?T(o):null)?new Wo(r.c,r.b,null,null,o,null,r.T()):new Wo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ac(e,i)})}var n=new Wo("unknown",null,null,null,new N("no-auth-event")),r=!1,i=Cn(500).then(function(){return jc(e).then(function(){r||Ac(e,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Pr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Yo||(Yo=new Qo),function(e){var t=Yo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Pr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)})})),e.f}function jc(e){var t=null;return function(e){return e.b.get(pc,e.a).then(function(e){return Go(e)})}(e.g).then(function(n){return t=n,lc((n=e.g).b,pc,n.a)}).then(function(){return t})}function Pc(e){this.a=e,this.b=sc()}(e=Tc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Sr(void 0)?xr().then(function(){return new xt(function(e,t){var n=s.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof Pr("universalLinks.subscribe",s))throw _c("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",s))throw _c("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",s))throw _c("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",s))throw _c("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})},e.Pb=function(e,t){return t(new N("operation-not-supported-in-this-environment")),_t()},e.Nb=function(){return Ct(new N("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Ct(new N("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=_t().then(function(){return Ko(t),Dc(i)}).then(function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Wo(t,r,null,o,new N("no-auth-event"),null,i),u=Pr("BuildInfo.packageName",s);if("string"!==typeof u)throw new N("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",s),l={};if(jr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!jr().toLowerCase().match(/android/))return Ct(new N("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Cc(o),l.sessionId=o;var h=ku(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then(function(){var t=e.h;return e.C.a.set(pc,a.w(),t)}).then(function(){var t=Pr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new N("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",s)))throw new N("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",s)))throw new N("invalid-cordova-configuration");t=jr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,e,t,n,r)}).then(function(){return new xt(function(e,t){u=function(){var t=Pr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then(function(){t(new N("redirect-cancelled-by-user"))}))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),jr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(e){return jc(i).then(function(){throw e})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null})},e.Ea=function(e){this.b.push(e),Dc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Wo("unknown",null,null,null,new N("no-auth-event")),e(t))})},e.Ta=function(e){Y(this.b,function(t){return t==e})};var Oc={name:"pendingRedirect",F:"session"};function Rc(e){return lc(e.b,Oc,e.a)}function Lc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new Xc,this.C=new nl,this.g=new Pc($c(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Mc(this.D,this.v,this.m,_,this.J)}function Mc(e,t,n,r,i){var o=Mt.SDK_VERSION||null;return Sr()?new Tc(e,t,n,o,r,i):new wu(e,t,n,o,r,i)}function Fc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o(function(n){throw e.a==t&&e.reset(),n})}function Uc(e){e.a.Yb()&&Fc(e).o(function(t){var n=new Wo("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)}),e.a.Ub()||Jc(e.b)}function Vc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Oc,e.a).then(function(e){return"pending"==e})}(e.g).then(function(t){t?Rc(e.g).then(function(){Fc(e).o(function(t){var n=new Wo("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)})}):Uc(e)}).o(function(){Uc(e)})}function Bc(e,t){Y(e.h,function(e){return e==t})}Lc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Mc(this.D,this.v,this.m,null,this.J),this.i={}},Lc.prototype.s=function(e){if(!e)throw new N("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Jc(this.b),t};var qc=new Kr(2e3,1e4),zc=new Kr(3e4,6e4);function Hc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},i,o,a)}function Kc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Wc(e,t,n,r,i){var o;return function(e){return e.b.set(Oc,"pending",e.a)}(e.g).then(function(){return e.a.Ob(t,n,r,i).o(function(t){if(Kc(t))throw new N("operation-not-supported-in-this-environment");return o=t,Rc(e.g).then(function(){throw o})}).then(function(){return e.a.ac()?new xt(function(){}):Rc(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function Gc(e,t,n,r,i){return e.a.Pb(r,function(e){t.na(n,null,e,i)},qc.get())}Lc.prototype.ra=function(){return this.b.ra()};var Qc={};function $c(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Yc(e,t,n,r){var i=$c(t,n,r);return Qc[i]||(Qc[i]=new Lc(e,t,n,r)),Qc[i]}function Xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Jc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Zc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return _t(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ct(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function il(e,t){this.a=t,Zr(this,"verificationId",e)}function ol(e,t,n,r){return new qo(e).gb(t,n).then(function(e){return new il(e,r)})}function al(e){var t=$i(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ei(this,{token:e,expirationTime:Gr(1e3*t.exp),authTime:Gr(1e3*t.auth_time),issuedAtTime:Gr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;H(t[ul]||[],function(e){(e=ii(e))&&i.b.push(e)}),Zr(this,"auth",this.a),Zr(this,"session",this.c),Zr(this,"hints",this.b)}Xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Xc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),_t()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){tl(e,s,t,null)}).o(function(t){tl(e,s,null,t)})}(this,e,t):Ct(new N("invalid-auth-event")):(tl(this,!1,null,null),_t())}else Ct(new N("invalid-auth-event"))},Xc.prototype.ra=function(){var e=this;return new xt(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new N("timeout");e.a&&e.a.cancel(),e.a=Cn(zc.get()).then(function(){e.b||(e.g=!0,tl(e,!0,null,t))})}(e))})},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),_t()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then(function(e){t.na(r,e,null,n)}).o(function(e){t.na(r,null,e,n)})}(e,t):Ct(new N("invalid-auth-event"))}else Ct(new N("invalid-auth-event"))},il.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){N.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),Zr(this,"resolver",this.b)}function hl(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function fl(){}function dl(e){Zr(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=qo.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ml(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function gl(e,t){this.a=e,this.b=[],this.c=x(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[si]=e.uid),e.displayName&&(r[oi]=e.displayName),e.enrollmentTime&&(r[ai]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ui]=e.phoneNumber);try{t=new ci(r)}catch(i){}e=t}else e=null;e&&n.push(e)}),vl(this,n)}function vl(e,t){e.b=t,Zr(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then(function(){return function(){var e=s.document,t=null;return Wr()||!e?_t():new xt(function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return e.h()}).then(function(){bl(e,!0)}).o(function(t){e.i(t)&&bl(e,!1)})}function wl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function xl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Sl(e,t){e.b=Qi(t[is]||""),e.a=t.refreshToken,xl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function El(e,t){return function(e,t){return new xt(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ds(e,e.l+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(hu(e)):e.access_token&&e.refresh_token?n(e):r(new N("internal-error")):r(new N("network-request-failed"))},"POST",er(t).toString(),e.g,e.m.get()):r(new N("internal-error"))})}(e.f,t).then(function(t){return e.b=Qi(t.access_token),e.a=t.refresh_token,xl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function kl(e,t){this.a=e||null,this.b=t||null,ei(this,{lastSignInTime:Gr(t||null),creationTime:Gr(e||null)})}function Il(e,t,n,r,i,o){ei(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Nl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Mt.SDK_VERSION?Dr(Mt.SDK_VERSION):null;this.a=new ns(this.l,j(_),r),(this.u=e.emulatorConfig||null)&&ls(this.a,this.u),this.h=new wl(this.a),Rl(this,t[is]),Sl(this.h,t),Zr(this,"refreshToken",this.h.a),Fl(this,n||{}),kn.call(this),this.P=!1,this.s&&Rr()&&(this.b=Yc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new yl(function(){return e.I(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0})}(this),this.ba=x(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Tl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Al(i,e.f)},this.ja=null,this.S=new gl(this,n),Zr(this,"multiFactor",this.S)}function Tl(e,t){e.u=t,ls(e.a,t),e.b&&(t=e.b,e.b=Yc(e.s,e.l,e.m,e.u),e.P&&(Bc(t,e),Vc(e.b,e)))}function _l(e,t){e.qa&&mn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&fn(t,"languageCodeChanged",e.Pa)}function Cl(e,t){e.$&&mn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&fn(t,"emulatorConfigChanged",e.Ba)}function Al(e,t){e.aa=t,fs(e.a,Mt.SDK_VERSION?Dr(Mt.SDK_VERSION,e.aa):null)}function Dl(e,t){e.ja&&mn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&fn(t,"frameworkChanged",e.Oa)}function jl(e){try{return Mt.app(e.m).auth()}catch(t){throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Pl(e){e.J||e.D.b||(e.D.start(),mn(e,"tokenChanged",e.ba),fn(e,"tokenChanged",e.ba))}function Ol(e){mn(e,"tokenChanged",e.ba),e.D.stop()}function Rl(e,t){e.Aa=t,Zr(e,"_lat",t)}function Ll(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Dt(t).then(function(){return e})}function Ml(e){e.b&&!e.P&&(e.P=!0,Vc(e.b,e))}function Fl(e,t){ei(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new kl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ul(){}function Vl(e){return _t().then(function(){if(e.J)throw new N("app-deleted")})}function Bl(e){return W(e.providerData,function(e){return e.providerId})}function ql(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){Y(e.providerData,function(e){return e.providerId==t})}function Hl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Zr(e,t,n)}function Kl(e,t){e!=t&&(ei(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Zr(e,"metadata",function(e){return new kl(e.a,e.b)}(t.metadata)):Zr(e,"metadata",new kl),H(t.providerData,function(t){ql(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Zr(e,"refreshToken",e.h.a),vl(e.S,t.S.b))}function Wl(e){return e.I().then(function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,Vs,{idToken:t}).then(x(e.Kc,e))}(e,t).then(function(){return n||Hl(e,"isAnonymous",!1),t})})}function Gl(e,t){t[is]&&e.Aa!=t[is]&&(Sl(e.h,t),e.dispatchEvent(new ml("tokenChanged")),Rl(e,t[is]),Hl(e,"refreshToken",e.h.a))}function Ql(e,t){return Wl(e).then(function(){if(Q(Bl(e),t))return Ll(e).then(function(){throw new N("provider-already-linked")})})}function $l(e,t,n){return ti({user:e,credential:Ho(t),additionalUserInfo:t=eo(t),operationType:n})}function Yl(e,t){return Gl(e,t),e.reload().then(function(){return e})}function Xl(e,t,n,r,i){if(!Rr())return Ct(new N("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ct(e.i);var o=Zi(n.providerId),a=qr(e.uid+":::"),s=null;(!Fr()||Er())&&e.s&&n.isOAuthProvider&&(s=ku(e.s,e.l,e.m,t,n,null,a,Mt.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=yr(s,o&&o.va,o&&o.ua);return r=r().then(function(){if(Zl(e),!i)return e.I().then(function(){})}).then(function(){return Hc(e.b,u,t,n,a,!!s,e.tenantId)}).then(function(){return new xt(function(n,r){e.na(t,null,new N("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Gc(e.b,e,t,u,a)})}).then(function(e){return u&&vr(u),e?ti(e):null}).o(function(e){throw u&&vr(u),e}),eh(e,r,i)}function Jl(e,t,n,r,i){if(!Rr())return Ct(new N("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ct(e.i);var o=null,a=qr(e.uid+":::");return r=r().then(function(){if(Zl(e),!i)return e.I().then(function(){})}).then(function(){return e.ga=a,Ll(e)}).then(function(t){return e.ha&&(t=(t=e.ha).b.set(rh,e.w(),t.a)),t}).then(function(){return Wc(e.b,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ha)return ih(e.ha);throw o}).then(function(){if(o)throw o}),eh(e,r,i)}function Zl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new N("internal-error");throw new N("auth-domain-config-required")}}function eh(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Ct(e.i)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new ml("userInvalidated")),e.i=t),t})}(e,t,n);return e.N.push(r),r.oa(function(){$(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),jl(e),x(e.jc,e))),n||t})}function th(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Nl(t,n,e);return e.providerData&&H(e.providerData,function(e){e&&ql(i,ti(e))}),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nh(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then(function(e){var n=me(t.f);return delete n[ul],delete n[cl],ve(n,e),t.g(n)})},k(ll,N),fl.prototype.tb=function(e,t,n){return t.type==ho?function(e,t,n,r){return n.Ha().then(function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ve(n,{phoneVerificationInfo:Bo(e.a)}),cu(t,Fs,n)})}(this,e,t,n):function(e,t,n){return n.Ha().then(function(n){return ve(n={mfaPendingCredential:n},{phoneVerificationInfo:Bo(e.a)}),cu(t,Us,n)})}(this,e,t)},k(dl,fl),k(pl,dl),k(ml,Zt),(e=gl.prototype).yc=function(e){vl(this,function(e){var t=[];return H(e.mfaInfo||[],function(e){(e=ii(e))&&t.push(e)}),t}(e.hd))},e.Sb=function(){return this.a.I().then(function(e){return new lo(e,null)})},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then(function(n){return e.tb(r,n,t)}).then(function(e){return Gl(n.a,e),n.a.reload()})},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=K(t.b,function(e){return e.uid!=n});return vl(t,r),Gl(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},e.w=function(){return{multiFactor:{enrolledFactors:W(this.b,function(e){return e.w()})}}},yl.prototype.start=function(){this.a=this.c,bl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},wl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ct(new N("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):_t(null):_t({accessToken:this.b.toString(),refreshToken:this.a})},kl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Nl,kn),Nl.prototype.xa=function(e){this.za=e,cs(this.a,e)},Nl.prototype.la=function(){return this.za},Nl.prototype.Ga=function(){return J(this.aa)},Nl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Zr(Nl.prototype,"providerId","firebase"),(e=Nl.prototype).reload=function(){var e=this;return eh(this,Vl(this).then(function(){return Wl(e).then(function(){return Ll(e)}).then(Ul)}))},e.oc=function(e){return this.I(e).then(function(e){return new al(e)})},e.I=function(e){var t=this;return eh(this,Vl(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new N("internal-error");return e.accessToken!=t.Aa&&(Rl(t,e.accessToken),t.dispatchEvent(new ml("tokenChanged"))),Hl(t,"refreshToken",e.refreshToken),e.accessToken}))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new N("internal-error");Fl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,function(e){return new Il(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)ql(this,t[n]);Hl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ml("userReloaded",{hd:e}))},e.Lc=function(e){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return eh(this,e.c(this.a,this.uid).then(function(e){return Gl(t,e),n=$l(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.Cc=function(e){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return eh(this,Ql(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=$l(t,e,"link"),Yl(t,e)}).then(function(){return n}))},e.Dc=function(e,t){var n=this;return eh(this,Ql(this,"phone").then(function(){return ol(jl(n),e,t,x(n.rb,n))}))},e.Mc=function(e,t){var n=this;return eh(this,_t().then(function(){return ol(jl(n),e,t,x(n.ub,n))}),!0)},e.Cb=function(e){var t=this;return eh(this,this.I().then(function(n){return t.a.Cb(n,e)}).then(function(e){return Gl(t,e),t.reload()}))},e.ed=function(e){var t=this;return eh(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return Gl(t,e),t.reload()}))},e.Db=function(e){var t=this;return eh(this,this.I().then(function(n){return t.a.Db(n,e)}).then(function(e){return Gl(t,e),t.reload()}))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Vl(this);var t=this;return eh(this,this.I().then(function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Gl(t,e),Hl(t,"displayName",e.displayName||null),Hl(t,"photoURL",e.photoUrl||null),H(t.providerData,function(e){"password"===e.providerId&&(Zr(e,"displayName",t.displayName),Zr(e,"photoURL",t.photoURL))}),Ll(t)}).then(Ul))},e.cd=function(e){var t=this;return eh(this,Wl(this).then(function(n){return Q(Bl(t),e)?function(e,t,n){return cu(e,Rs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then(function(e){var n={};return H(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),H(Bl(t),function(e){n[e]||zl(t,e)}),n[qo.PROVIDER_ID]||Zr(t,"phoneNumber",null),Ll(t)}):Ll(t).then(function(){throw new N("no-such-provider")})}))},e.delete=function(){var e=this;return eh(this,this.I().then(function(t){return cu(e.a,Os,{idToken:t})}).then(function(){e.dispatchEvent(new ml("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");_l(e,null),Cl(e,null),Dl(e,null),e.N=[],e.J=!0,Ol(e),Zr(e,"refreshToken",null),e.b&&Bc(e.b,e)})},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?x(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?x(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?x(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?x(this.Mb,this):null},e.Ec=function(e){var t=this;return Xl(this,"linkViaPopup",e,function(){return Ql(t,e.providerId).then(function(){return Ll(t)})},!1)},e.Nc=function(e){return Xl(this,"reauthViaPopup",e,function(){return _t()},!0)},e.Fc=function(e){var t=this;return Jl(this,"linkViaRedirect",e,function(){return Ql(t,e.providerId)},!1)},e.Oc=function(e){return Jl(this,"reauthViaRedirect",e,function(){return _t()},!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return eh(this,this.I().then(function(n){return Ts(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=$l(i,e,"link"),Yl(i,e)}).then(function(){return o}))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return eh(this,_t().then(function(){return go(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=$l(i,e,"reauthenticate"),Gl(i,e),i.i=null,i.reload()}).then(function(){return o}),!0)},e.vb=function(e){var t=this,n=null;return eh(this,this.I().then(function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Hi(new Pi(e))}).then(function(e){return t.a.vb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.Fb=function(e,t){var n=this,r=null;return eh(this,this.I().then(function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Hi(new Pi(t))}).then(function(t){return n.a.Fb(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},e.jc=function(e){var t=null,n=this;return eh(this,e=go(_t(e),n.uid).then(function(e){return t=$l(n,e,"reauthenticate"),Gl(n,e),n.i=null,n.reload()}).then(function(){return t}),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ve(e,this.metadata.w()),H(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),ve(e,this.S.w()),e};var rh={name:"redirectUser",F:"session"};function ih(e){return lc(e.b,rh,e.a)}function oh(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=uh("local"),n=uh("session"),r=uh("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then(function(o){var a=null;try{a=Br(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(sh,e.a).then(function(e){return e?uh(e):t})})})}).then(function(t){return e.c=t,ah(e,t.F)}).o(function(){e.c||(e.c=t)})}(this),this.b.addListener(uh("local"),this.a,x(this.g,this))}function ah(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,uh(oc[n]),e.a));return r.push(lc(e.b,sh,e.a)),function(e){return new xt(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],S(o,s),a);else t(i)})}(r)}oh.prototype.g=function(){var e=this,t=uh("local");fh(this,function(){return _t().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return ah(e,"local").then(function(){e.c=t})})})};var sh={name:"persistence",F:"session"};function uh(e){return{name:"authUser",F:e}}function ch(e,t){return fh(e,function(){return e.b.set(e.c,t.w(),e.a)})}function lh(e){return fh(e,function(){return lc(e.b,e.c,e.a)})}function hh(e,t,n){return fh(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),th(e||{})})})}function fh(e,t){return e.f=e.f.then(t,t),e.f}function dh(e){if(this.l=!1,Zr(this,"settings",new rl),Zr(this,"app",e),!Sh(this).options||!Sh(this).options.apiKey)throw new N("invalid-api-key");e=Mt.SDK_VERSION?Dr(Mt.SDK_VERSION):null,this.a=new ns(Sh(this).options&&Sh(this).options.apiKey,j(_),e),this.P=[],this.s=[],this.N=[],this.Pa=Mt.INTERNAL.createSubscribe(x(this.zc,this)),this.W=void 0,this.ib=Mt.INTERNAL.createSubscribe(x(this.Ac,this)),wh(this,null),this.i=new oh(Sh(this).options.apiKey+":"+Sh(this).name),this.D=new nh(Sh(this).options.apiKey+":"+Sh(this).name),this.$=Nh(this,function(e){var t=Sh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rh,e.a).then(function(e){return e&&t&&(e.authDomain=t),th(e||{})})}(e.D,Sh(e).options.authDomain).then(function(t){return(e.m=t)&&(t.ha=e.D),ih(e.D)});return Nh(e,t)}(e).then(function(){return hh(e.i,t,e.R)}).then(function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return ch(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:lh(e.i)})):null}).then(function(t){wh(e,t||null)});return Nh(e,n)}(this)),this.h=Nh(this,function(e){return e.$.then(function(){return yh(e)}).o(function(){}).then(function(){if(!e.l)return e.ja()}).o(function(){}).then(function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(uh("local"),t.a,e.ja)}})}(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.qa=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,function(e){var t=Sh(e).options.authDomain,n=Sh(e).options.apiKey;t&&Rr()&&(e.Oa=e.$.then(function(){if(!e.l){if(e.b=Yc(t,n,Sh(e).name,e.R),Vc(e.b,e),Eh(e)&&Ml(Eh(e)),e.m){Ml(e.m);var r=e.m;r.xa(e.la()),_l(r,e),Al(r=e.m,e.J),Dl(r,e),Tl(r=e.m,e.R),Cl(r,e),e.m=null}return e.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,kn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=qn(this.R.url);e=ti({protocol:e.c,host:e.a,port:e.g,options:ti({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function ph(e){Zt.call(this,"languageCodeChanged"),this.h=e}function mh(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function gh(e){Zt.call(this,"frameworkChanged"),this.f=e}function vh(e){return e.Oa||Ct(new N("auth-domain-config-required"))}function yh(e){if(!Rr())return Ct(new N("operation-not-supported-in-this-environment"));var t=vh(e).then(function(){return e.b.ra()}).then(function(e){return e?ti(e):null});return Nh(e,t)}function bh(e,t){var n={};return n.apiKey=Sh(e).options.apiKey,n.authDomain=Sh(e).options.authDomain,n.appName=Sh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then(function(){return function(e,t,n,r){var i=new Nl(e,t);return n&&(i.ha=n),r&&Al(i,r),i.reload().then(function(){return i})}(n,t,e.D,e.Ga())}).then(function(t){return Eh(e)&&t.uid==Eh(e).uid?(Kl(Eh(e),t),e.da(t)):(wh(e,t),Ml(t),e.da(t))}).then(function(){Ih(e)})}function wh(e,t){Eh(e)&&(function(e,t){Y(e.W,function(e){return e==t})}(Eh(e),e.Ba),mn(Eh(e),"tokenChanged",e.qa),mn(Eh(e),"userDeleted",e.za),mn(Eh(e),"userInvalidated",e.Aa),Ol(Eh(e))),t&&(t.W.push(e.Ba),fn(t,"tokenChanged",e.qa),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Pl(t)),Zr(e,"currentUser",t),t&&(t.xa(e.la()),_l(t,e),Al(t,e.J),Dl(t,e),Tl(t,e.R),Cl(t,e))}function xh(e,t){var n=null,r=null;return Nh(e,t.then(function(t){return n=Ho(t),r=eo(t),bh(e,t)},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),e,x(e.kc,e))),n||t}).then(function(){return ti({user:Eh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Sh(e){return e.app}function Eh(e){return e.currentUser}function kh(e){return Eh(e)&&Eh(e)._lat||null}function Ih(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](kh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](kh(e))}}function Nh(e,t){return e.P.push(t),t.oa(function(){$(e.P,t)}),t}function Th(){}function _h(){this.a={},this.b=1e12}oh.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new N("invalid-persistence-type"),n=new N("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Ir()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Fu()&&"none"!==e)throw n;break;default:if(!Or()&&"none"!==e)throw n}}(e),fh(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,ah(n,e)}).then(function(){if(n.c=uh(e),t)return n.b.set(n.c,t,n.a)}):_t()})},k(dh,kn),k(ph,Zt),k(mh,Zt),k(gh,Zt),(e=dh.prototype).yb=function(e){return Nh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new ph(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&xr().then(function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)})})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ls(this.a,this.R),this.dispatchEvent(new mh(this.R))}},e.Gc=function(e){this.J.push(e),fs(this.a,Mt.SDK_VERSION?Dr(Mt.SDK_VERSION,this.J):null),this.dispatchEvent(new gh(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Sh(this).options.apiKey,authDomain:Sh(this).options.authDomain,appName:Sh(this).name,currentUser:Eh(this)&&Eh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?x(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return xh(i,Ns(i.a,o))})},e.Xc=function(e){if(!Rr())return Ct(new N("operation-not-supported-in-this-environment"));var t=this,n=Zi(e.providerId),r=qr(),i=null;(!Fr()||Er())&&Sh(this).options.authDomain&&e.isOAuthProvider&&(i=ku(Sh(this).options.authDomain,Sh(this).options.apiKey,Sh(this).name,"signInViaPopup",e,null,r,Mt.SDK_VERSION||null,null,null,this.T(),this.R));var o=yr(i,n&&n.va,n&&n.ua);return Nh(this,n=vh(this).then(function(n){return Hc(n,o,"signInViaPopup",e,r,!!i,t.T())}).then(function(){return new xt(function(e,n){t.na("signInViaPopup",null,new N("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Gc(t.b,t,"signInViaPopup",o,r)})}).then(function(e){return o&&vr(o),e?ti(e):null}).o(function(e){throw o&&vr(o),e}))},e.Yc=function(e){if(!Rr())return Ct(new N("operation-not-supported-in-this-environment"));var t=this,n=vh(this).then(function(){return function(e){return fh(e,function(){return e.b.set(sh,e.c.F,e.a)})}(t.i)}).then(function(){return Wc(t.b,"signInViaRedirect",e,void 0,t.T())});return Nh(this,n)},e.ra=function(){var e=this;return yh(this).then(function(t){return e.b&&Zc(e.b.b),t}).o(function(t){throw e.b&&Zc(e.b.b),t})},e.dd=function(e){if(!e)return Ct(new N("null-user"));if(this.S!=e.tenantId)return Ct(new N("tenant-id-mismatch"));var t=this,n={};n.apiKey=Sh(this).options.apiKey,n.authDomain=Sh(this).options.authDomain,n.appName=Sh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Nl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Al(t,r),Kl(t,e),t}(e,n,t.D,t.Ga());return Nh(this,this.h.then(function(){if(Sh(t).options.apiKey!=e.l)return r.reload()}).then(function(){return Eh(t)&&e.uid==Eh(t).uid?(Kl(Eh(t),e),t.da(e)):(wh(t,r),Ml(r),t.da(r))}).then(function(){Ih(t)}))},e.Bb=function(){var e=this;return Nh(this,this.h.then(function(){return e.b&&Zc(e.b.b),Eh(e)?(wh(e,null),lh(e.i).then(function(){Ih(e)})):_t()}))},e.Zc=function(){var e=this;return hh(this.i,Sh(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Eh(e)&&t){n=Eh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Kl(Eh(e),t),Eh(e).I();(Eh(e)||t)&&(wh(e,t),t&&(Ml(t),t.ha=e.D),e.b&&Vc(e.b,e),Ih(e))}})},e.da=function(e){return ch(this.i,e)},e.mc=function(){Ih(this),this.da(Eh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then(function(){return xh(t,_t(e))})},e.zc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Eh(t))})},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Nh(e,e.h.then(function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(kh(e)))}))}(this,function(){e.next(Eh(t))})},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"===typeof e?e(Eh(r)):"function"===typeof e.next&&e.next(Eh(r))}),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"===typeof e?e(Eh(r)):"function"===typeof e.next&&e.next(Eh(r))}),this.ib(e,t,n)},e.nc=function(e){var t=this;return Nh(this,this.h.then(function(){return Eh(t)?Eh(t).I(e).then(function(e){return{accessToken:e}}):null}))},e.Tc=function(e){var t=this;return this.h.then(function(){return xh(t,cu(t.a,ru,{token:e}))}).then(function(e){var n=e.user;return Hl(n,"isAnonymous",!1),t.da(n),e})},e.Uc=function(e,t){var n=this;return this.h.then(function(){return xh(n,cu(n.a,iu,{email:e,password:t}))})},e.dc=function(e,t){var n=this;return this.h.then(function(){return xh(n,cu(n.a,js,{email:e,password:t}))})},e.ab=function(e){var t=this;return this.h.then(function(){return xh(t,e.ka(t.a))})},e.Sc=function(e){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then(function(){var t=Eh(e);if(t&&t.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return xh(e,e.a.Ab()).then(function(t){var n=t.user;return Hl(n,"isAnonymous",!0),e.da(n),t})})},e.getUid=function(){return Eh(this)&&Eh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Eh(this)&&Pl(Eh(this))},e.Pc=function(e){var t=this;H(this.s,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&Eh(this)&&Ol(Eh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Nh(this,this.h.then(function(){t.l||Q(t.s,e)&&e(kh(t))}))},e.removeAuthTokenListener=function(e){Y(this.s,function(t){return t==e})},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(uh("local"),e.a,this.ja),this.b&&(Bc(this.b,this),Zc(this.b.b)),Promise.resolve()},e.hc=function(e){return Nh(this,function(e,t){return cu(e,Ps,{identifier:t,continueUri:Lr()?dr():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.a,e))},e.Bc=function(e){return!!Fo(e)},e.xb=function(e,t){var n=this;return Nh(this,_t().then(function(){var e=new Pi(t);if(!e.c)throw new N("argument-error",Li+" must be true when sending sign in link to email");return Hi(e)}).then(function(t){return n.a.xb(e,t)}).then(function(){}))},e.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},e.ob=function(e,t){return Nh(this,this.a.ob(e,t).then(function(){}))},e.Sa=function(e){return Nh(this,this.a.Sa(e).then(function(e){return new li(e)}))},e.kb=function(e){return Nh(this,this.a.kb(e).then(function(){}))},e.wb=function(e,t){var n=this;return Nh(this,_t().then(function(){return"undefined"===typeof t||pe(t)?{}:Hi(new Pi(t))}).then(function(t){return n.a.wb(e,t)}).then(function(){}))},e.Wc=function(e,t){return Nh(this,ol(this,e,t,x(this.ab,this)))},e.Vc=function(e,t){var n=this;return Nh(this,_t().then(function(){var r=t||dr(),i=Mo(e,r);if(!(r=Fo(r)))throw new N("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new N("tenant-id-mismatch");return n.ab(i)}))},Th.prototype.render=function(){},Th.prototype.reset=function(){},Th.prototype.getResponse=function(){},Th.prototype.execute=function(){};var Ch=null;function Ah(e,t){return(t=Dh(t))&&e.a[t]||null}function Dh(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function jh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Ph(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Oh(){}function Rh(){}_h.prototype.render=function(e,t){return this.a[this.b.toString()]=new jh(e,t),this.b++},_h.prototype.reset=function(e){var t=Ah(this,e);e=Dh(e),t&&e&&(t.delete(),delete this.a[e])},_h.prototype.getResponse=function(e){return(e=Ah(this,e))?e.getResponse():null},_h.prototype.execute=function(e){(e=Ah(this,e))&&e.execute()},jh.prototype.getResponse=function(){return Ph(this),this.b},jh.prototype.execute=function(){Ph(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()},6e4)},500))},jh.prototype.delete=function(){Ph(this),this.g=!0,clearTimeout(this.a),this.a=null,mn(this.f,"click",this.i)},Zr(Oh,"FACTOR_ID","phone"),Rh.prototype.g=function(){return Ch||(Ch=new _h),_t(Ch)},Rh.prototype.c=function(){};var Lh=null;function Mh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Fh=new be(Ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Uh=new Kr(3e4,6e4);Mh.prototype.g=function(e){var t=this;return new xt(function(n,r){var i=setTimeout(function(){r(new N("network-request-failed"))},Uh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new N("internal-error"));delete s[t.a]},_t($a(Te(Fh,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(i),r(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Mh.prototype.c=function(){this.b--};var Vh=null;function Bh(e,t,n,r,i,o,a){if(Zr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Lh||(Lh=new Rh),a=Lh):(Vh||(Vh=new Mh),a=Vh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Hh])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Kh],!s.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[qh];this.a[qh]=function(e){if(Wh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Pr(c,s);"function"===typeof t&&t(e)}};var l=this.a[zh];this.a[zh]=function(){if(Wh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Pr(l,s);"function"===typeof e&&e()}}}var qh="callback",zh="expired-callback",Hh="sitekey",Kh="size";function Wh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Gh(e,t){return e.h.push(t),t.oa(function(){$(e.h,t)}),t}function Qh(e){if(e.J)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}function $h(e,t,n){var r=!1;try{this.b=n||Mt.app()}catch(a){throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new N("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Mt.SDK_VERSION?Dr(Mt.SDK_VERSION,o):null,Bh.call(this,n,e,t,function(){try{var e=i.b.auth().la()}catch(t){e=null}return e},o,j(_),r)}function Yh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Xh.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");n=Xh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new N("argument-error",e+" failed: "+r)}(e=Bh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Gh(this,_t().then(function(){if(Lr()&&!kr())return xr();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,cu(e.s,Ws,{})}).then(function(t){e.a[Hh]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},e.render=function(){Qh(this);var e=this;return Gh(this,this.Ia().then(function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=pt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){Qh(this);var e=this;return Gh(this,this.render().then(function(t){return new xt(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){Y(e.l,function(e){return e==t})}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){Qh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Qh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},k($h,Bh);var Xh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Zh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function ef(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:m}}function tf(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function nf(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function rf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function of(e,t){return m(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function af(e){return m(e)&&"string"===typeof e.uid}function sf(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function uf(e,t){for(var n in t){var r=t[n].name;e[r]=hf(r,e[n],t[n].j)}}function cf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S(function(e){return this[e]},n),set:S(function(e,t,n,r){Yh(e,[n],[r],!0),this[t]=r},r,n,t[n].lb),enumerable:!0})}}function lf(e,t,n,r){e[t]=hf(t,n,r)}function hf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Yh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return e=e.split("."),e[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}uf(dh.prototype,{kb:{name:"applyActionCode",j:[Jh("code")]},Sa:{name:"checkActionCode",j:[Jh("code")]},ob:{name:"confirmPasswordReset",j:[Jh("code"),Jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jh("email"),Jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sf(ef(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sf(ef(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Jh("email"),sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Jh("email"),ef("actionCodeSettings")]},yb:{name:"setPersistence",j:[Jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[rf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[rf()]},Tc:{name:"signInWithCustomToken",j:[Jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jh("email"),Jh("password")]},Vc:{name:"signInWithEmailLink",j:[Jh("email"),Jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Nl)}},nf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jh("url"),ef("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jh("code")]}}),cf(dh.prototype,{lc:{name:"languageCode",lb:sf(Jh(),nf(),"languageCode")},ti:{name:"tenantId",lb:sf(Jh(),nf(),"tenantId")}}),dh.Persistence=oc,dh.Persistence.LOCAL="local",dh.Persistence.SESSION="session",dh.Persistence.NONE="none",uf(Nl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[rf()]},rb:{name:"linkWithCredential",j:[rf()]},Dc:{name:"linkWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[rf()]},ub:{name:"reauthenticateWithCredential",j:[rf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},cd:{name:"unlink",j:[Jh("provider")]},Cb:{name:"updateEmail",j:[Jh("email")]},Db:{name:"updatePassword",j:[Jh("password")]},ed:{name:"updatePhoneNumber",j:[rf("phone")]},Eb:{name:"updateProfile",j:[ef("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Jh("email"),sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]}}),uf(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Th.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(xt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),cf(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Zh("appVerificationDisabledForTesting")}}),uf(il.prototype,{confirm:{name:"confirm",j:[Jh("verificationCode")]}}),lf(po,"fromJSON",function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[So,Ro,Vo,bo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[sf(Jh(),ef(),"json")]),lf(Lo,"credential",function(e,t){return new Oo(e,t)},[Jh("email"),Jh("password")]),uf(Oo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(No.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(No,"credential",To,[sf(Jh(),ef(),"token")]),lf(Lo,"credentialWithLink",Mo,[Jh("email"),Jh("emailLink")]),uf(_o.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(_o,"credential",Co,[sf(Jh(),ef(),"token")]),uf(Ao.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(Ao,"credential",Do,[sf(Jh(),sf(ef(),nf()),"idToken"),sf(Jh(),nf(),"accessToken",!0)]),uf(jo.prototype,{Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(jo,"credential",Po,[sf(Jh(),ef(),"token"),Jh("secret",!0)]),uf(Io.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},credential:{name:"credential",j:[sf(Jh(),sf(ef(),nf()),"optionsOrIdToken"),sf(Jh(),nf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),uf(wo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(vo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),lf(qo,"credential",zo,[Jh("verificationId"),Jh("verificationCode")]),uf(qo.prototype,{gb:{name:"verifyPhoneNumber",j:[sf(Jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?of(e.session,ho)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?of(e.session,fo)&&af(e.multiFactorHint):e.session&&e.multiFactorUid?of(e.session,fo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),uf(Uo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(N.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Jo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Xo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(ll.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),uf(gl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Jh("displayName",!0)]},bd:{name:"unenroll",j:[sf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:af},Jh(),"multiFactorInfoIdentifier")]}}),uf($h.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lf(ki,"parseLink",ji,[Jh("link")]),lf(Oh,"assertion",function(e){return new pl(e)},[rf("phone")]),function(){if("undefined"===typeof Mt||!Mt.INTERNAL||!Mt.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:di,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dh,AuthCredential:po,Error:N};lf(e,"EmailAuthProvider",Lo,[]),lf(e,"FacebookAuthProvider",No,[]),lf(e,"GithubAuthProvider",_o,[]),lf(e,"GoogleAuthProvider",Ao,[]),lf(e,"TwitterAuthProvider",jo,[]),lf(e,"OAuthProvider",Io,[Jh("providerId")]),lf(e,"SAMLAuthProvider",ko,[Jh("providerId")]),lf(e,"PhoneAuthProvider",qo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof dh)}}]),lf(e,"RecaptchaVerifier",$h,[sf(Jh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),ef("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Mt.app.App)}}]),lf(e,"ActionCodeURL",ki,[]),lf(e,"PhoneMultiFactorGenerator",Oh,[]),Mt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new dh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Mt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:x((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:x(e.nc,e),addAuthTokenListener:x(e.cc,e),removeAuthTokenListener:x(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Mt.registerVersion("@firebase/auth","0.16.8"),Mt.INTERNAL.extendNamespace({User:Nl})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const pg={apiKey:"AIzaSyBwPB7Qn0gNRWBvK0RCOQr67MFwepOmJNk",authDomain:"cinereact-380f3.firebaseapp.com",projectId:"cinereact-380f3",storageBucket:"cinereact-380f3.appspot.com",messagingSenderId:"165670784302",appId:"1:165670784302:web:c1fd938e33ff2c29f83ebf",measurementId:"G-TJT59BRTMY"};Mt.apps.length||Mt.initializeApp(pg);const mg=Mt.firestore(),gg=Mt.auth(),vg=mg,yg={"Spider-Man: Across the Spider-Verse":{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Spider-Man__Cruzando_el_Multiverso.avif?alt=media&token=f4fa147a-a1cf-4b53-9e28-13226c5fe929",synopsis:"Miles Morales teams up with Gwen Stacy and a group of Spider-People to battle a powerful new villain known as The Spot, who threatens the multiverse. As they clash over how to handle the situation, Miles finds himself on the run from Miguel O'Hara and other Spider-People.",duration:140,releaseDate:"2023-06-02",genre:"Animation, Action, Adventure",directors:["Joaquim Dos Santos","Kemp Powers","Justin K. Thompson"],writers:["Phil Lord","Christopher Miller","David Callaham"],rating:"Rated G (General audiences)",showtimes:[{time:"10:00 AM",room:"12"},{time:"2:00 PM",room:"2"},{time:"6:00 PM",room:"5"}]},"Insidious: The Red Door":{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Insidious__La_Puerta_Roja.avif?alt=media&token=ba158c51-7e50-4f5e-8557-c2165dec3c73",synopsis:"Josh and Dalton Lambert must delve deeper into The Further than ever before, confronting their family's dark past and facing a host of new and more horrifying terrors.",duration:107,releaseDate:"2023-07-07",genre:"Horror, Mystery, Thriller",directors:["Patrick Wilson"],writers:["Leigh Whannell","Scott Teems"],rating:"Rated R (Restricted)",showtimes:[{time:"10:00 AM",room:"7"},{time:"2:00 PM",room:"2"}]},Oppenheimer:{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Oppenheimer.avif?alt=media&token=6562e420-10d0-4611-a948-86455c366c4f",synopsis:"A dramatization of the life story of J. Robert Oppenheimer, the physicist who played a key role in the development of the atomic bomb during World War II.",duration:180,releaseDate:"2023-07-21",genre:"Drama, History, Biography",directors:["Christopher Nolan"],writers:["Christopher Nolan","Kai Bird","Martin J. Sherwin"],rating:"Rated R (Restricted)",showtimes:[{time:"10:00 AM",room:"1"},{time:"2:00 PM",room:"2"},{time:"6:00 PM",room:"3"}]},Barbie:{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Barbie.avif?alt=media&token=ae8474ce-d473-4d8d-bea9-4ade11565265",synopsis:"Barbie lives in Barbieland, a perfect world, until she starts questioning her existence and embarks on a journey of self-discovery in the real world.",duration:114,releaseDate:"2023-07-21",genre:"Comedy, Adventure, Fantasy",directors:["Greta Gerwig"],writers:["Greta Gerwig","Noah Baumbach"],rating:"Rated G (General audiences)",showtimes:[{time:"10:00 AM",room:"1"},{time:"2:00 PM",room:"2"},{time:"6:00 PM",room:"3"}]},"The Super Mario Bros. Movie":{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Super_Mario_Bros._La_Pel%C3%ADcula.avif?alt=media&token=bf162e79-7a0e-4e53-b658-4f5e50972a14",synopsis:"Mario and Luigi, two plumber brothers from Brooklyn, are transported to another world where they become entangled in a battle between the Mushroom Kingdom and the Koopas.",duration:92,releaseDate:"2023-04-05",genre:"Animation, Adventure, Comedy",directors:["Aaron Horvath","Michael Jelenic"],writers:["Matthew Fogel"],rating:"Rated G (General audiences)",showtimes:[{time:"10:00 AM",room:"1"},{time:"2:00 PM",room:"2"},{time:"6:00 PM",room:"13"}]},"Transformers: Rise of the Beasts":{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Transformers__El_Despertar_de_las_Bestias.avif?alt=media&token=e27ce527-04b4-463d-8eff-75f856c7e16f",synopsis:"The Autobots and their new allies, the Maximals, face an ancient threat from Unicron, a planet-eating Transformer, as they battle to protect Earth from destruction.",duration:127,releaseDate:"2023-06-09",genre:"Action, Science Fiction, Adventure",directors:["Steven Caple Jr."],writers:["Joby Harold","Darnell Metayer","Josh Peters"],rating:"Rated R (Restricted)",showtimes:[{time:"10:00 AM",room:"7"},{time:"2:00 PM",room:"2"}]},"Gran Turismo":{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Gran_Turismo.avif?alt=media&token=c4da5eb9-8362-4d2a-8154-992a4c3acedf",synopsis:"Based on a true story, a young gamer skilled in Gran Turismo racing games gets the chance to become a real-life professional race car driver.",duration:135,releaseDate:"2023-08-25",genre:"Action, Drama, Sport",directors:["Neill Blomkamp"],writers:["Jason Hall","Zach Baylin"],rating:"Rated R (Restricted)",showtimes:[{time:"10:00 AM",room:"1"},{time:"2:00 PM",room:"2"},{time:"6:00 PM",room:"3"}]},"Fast & Furious X":{category:"NOW_SHOWING",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Fast_%26_Furious_X.avif?alt=media&token=4ab6659d-6c97-4491-8983-370c19360a83",synopsis:"Dom Toretto faces his most personal challenge yet as a new threat emerges, targeting his family and everything he holds dear.",duration:141,releaseDate:"2023-05-19",genre:"Action, Crime, Thriller",directors:["Louis Leterrier"],writers:["Dan Mazeau","Justin Lin"],rating:"Rated R (Restricted)",showtimes:[{time:"10:00 AM",room:"1"},{time:"2:00 PM",room:"25"},{time:"6:00 PM",room:"6"}]},"F1: The Movie":{category:"COMING_SOON",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/F1_La_Pelicula.avif?alt=media&token=362184fd-f282-45d6-ad78-f47c46ebb587",synopsis:"A story set in the world of Formula 1, following a veteran driver who returns to train a young talent while facing his own past demons. Speed, drama, and passion combine in this thrilling production.",duration:130,releaseDate:"2025-06-13",genre:"Action, Drama, Sport",directors:["Joseph Kosinski"],writers:["Ehren Kruger"],rating:"Unrated",showtimes:[]},"S\xe9 lo que hicist\xe9is el \xfaltimo verano (2025)":{category:"COMING_SOON",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/Se_Lo_Que_Hicisteis_El_Ultimo_Verano.avif?alt=media&token=27f63d21-3018-4168-816e-675c91d477d5",synopsis:"A\xf1os despu\xe9s de los horribles eventos que traumatizaron a un grupo de amigos, una nueva amenaza emerge con sed de venganza. Esta nueva entrega reinventa el cl\xe1sico del terror con giros inesperados y una tensi\xf3n constante.",duration:105,releaseDate:"2025-08-01",genre:"Horror, Mystery, Thriller",directors:["Jennifer Kaytin Robinson"],writers:["Leigh Whannell","Neal H. Moritz"],rating:"Unrated",showtimes:[]},"28 A\xf1os Despu\xe9s":{category:"COMING_SOON",price:7.5,image:"https://firebasestorage.googleapis.com/v0/b/cinereact-380f3.appspot.com/o/28_A%C3%B1os_Despues.avif?alt=media&token=46e85d65-a393-4633-a907-ef431222bd72",synopsis:"Secuela directa de '28 D\xedas Despu\xe9s' y '28 Semanas Despu\xe9s'. El virus Rage regresa m\xe1s letal que nunca, poniendo a prueba la humanidad de los pocos supervivientes que quedan en un mundo devastado y sin esperanza.",duration:115,releaseDate:"2025-06-20",genre:"Horror, Sci-Fi, Drama",directors:["Danny Boyle"],writers:["Alex Garland"],rating:"Unrated",showtimes:[]}};var bg=n(579);const wg=e=>{let{setPage:t}=e;const[n,r]=(0,o.useState)([]),[i,a]=(0,o.useState)({message:"",visible:!1}),[s,u]=(0,o.useState)({visible:!1,reservationId:null}),[c,l]=(0,o.useState)("upcoming"),h=e=>{a({message:e,visible:!0}),setTimeout(()=>a({message:"",visible:!1}),3e3)},f=(0,o.useCallback)(async()=>{try{const e=gg.currentUser;if(!e)return h("No hay usuario autenticado."),void r([]);const t=(await vg.collection("reservas").where("userId","==",e.uid).get()).docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>t.timestamp.seconds-e.timestamp.seconds),r(t)}catch(e){console.error("Error fetching reservations:",e),h("Could not fetch reservations.")}},[]);(0,o.useEffect)(()=>{f()},[f]);const d=new Date,p=e=>{const[t,n,r]=e.split("/");return new Date(`${r}-${n}-${t}`)},m=n.filter(e=>p(e.selectedDate)>=d),g=n.filter(e=>p(e.selectedDate)<d),v=e=>{const t=(yg[e.selectedMovie]||{}).image;return(0,bg.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow hover:shadow-lg transition flex flex-col h-full",children:[t&&(0,bg.jsx)("img",{src:t,alt:e.selectedMovie,className:"w-full h-56 md:h-64 object-cover"}),(0,bg.jsxs)("div",{className:"p-4 space-y-1 flex-grow",children:[(0,bg.jsx)("h3",{className:"text-lg font-semibold text-black",children:e.selectedMovie}),(0,bg.jsxs)("p",{className:"text-sm text-gray-600",children:[e.selectedDate," \u2022 ",e.selectedTime]}),(0,bg.jsxs)("p",{className:"text-sm text-gray-600",children:["Room: ",e.room]}),(0,bg.jsxs)("p",{className:"text-sm text-gray-600",children:["Seats: ",Array.isArray(e.selectedSeats)?e.selectedSeats.join(", "):"-"]}),(0,bg.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Total: ",e.totalPrice," \u20ac"]}),"upcoming"===c&&(0,bg.jsx)("button",{onClick:()=>u({visible:!0,reservationId:e.id}),className:"mt-3 w-full text-sm rounded-full border border-red-300 text-red-600 hover:bg-red-50 py-2 transition",children:"Cancel reservation"})]})]},e.id)};return(0,bg.jsxs)("div",{className:"min-h-screen bg-[#fdfcfb] text-black px-6 md:px-12 py-10",children:[(0,bg.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"My Reservations"}),(0,bg.jsx)("div",{className:"flex gap-3 mb-8",children:[{key:"upcoming",label:"Upcoming"},{key:"past",label:"Past Reservations"}].map(e=>(0,bg.jsx)("button",{onClick:()=>l(e.key),className:"px-4 py-1.5 text-sm font-medium rounded-full transition\n              "+(c===e.key?"bg-black text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.label},e.key))}),"upcoming"===c?m.length?(0,bg.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(v)}):(0,bg.jsx)("p",{className:"text-center text-gray-500 mt-10",children:"You have no upcoming reservations."}):g.length?(0,bg.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:g.map(v)}):(0,bg.jsx)("p",{className:"text-center text-gray-500 mt-10",children:"There are no past reservations."}),s.visible&&(0,bg.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,bg.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-sm w-full",children:[(0,bg.jsx)("h2",{className:"text-lg font-semibold text-black mb-2",children:"Cancel reservation"}),(0,bg.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel this reservation? This action cannot be undone."}),(0,bg.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,bg.jsx)("button",{onClick:()=>u({visible:!1,reservationId:null}),className:"px-4 py-2 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-800",children:"Keep"}),(0,bg.jsx)("button",{onClick:async()=>{const e=s.reservationId;try{await vg.collection("reservas").doc(e).delete(),h("Reservation successfully canceled."),r(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Error canceling the reservation:",t),h("Error canceling the reservation. Please try again.")}finally{u({visible:!1,reservationId:null})}},className:"px-4 py-2 rounded-full bg-black text-white hover:opacity-90",children:"Cancel"})]})]})})]})};var xg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sg=o.createContext&&o.createContext(xg),Eg=["attr","size","title"];function kg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ig.apply(this,arguments)}function Ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ng(Object(n),!0).forEach(function(t){_g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _g(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cg(e){return e&&e.map((e,t)=>o.createElement(e.tag,Tg({key:t},e.attr),Cg(e.child)))}function Ag(e){return t=>o.createElement(Dg,Ig({attr:Tg({},e.attr)},t),Cg(e.child))}function Dg(e){var t=t=>{var n,{attr:r,size:i,title:a}=e,s=kg(e,Eg),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",Ig({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Tg(Tg({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&o.createElement("title",null,a),e.children)};return void 0!==Sg?o.createElement(Sg.Consumer,null,e=>t(e)):t(xg)}function jg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function Pg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Og(e){return Ag({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}const Rg=()=>{const[e,t]=(0,o.useState)(0),[n,r]=(0,o.useState)(0),[i,a]=(0,o.useState)(0),[s,u]=(0,o.useState)(!0),c=(0,o.useCallback)(async()=>{try{u(!0);const e=gg.currentUser;if(!e)return t(0),r(0),a(0),void u(!1);const n=(await vg.collection("reservas").where("userId","==",e.uid).get()).docs.map(e=>e.data());t(n.length);const i=new Date;i.setDate(i.getDate()-30);const o=n.filter(e=>{if(!e.date)return!1;return(e.date.toDate?e.date.toDate():new Date(e.date))>=i}).length;r(o);const s=20*n.length;a(s),await vg.collection("users").doc(e.uid).update({points:s})}catch(e){console.error("Error fetching reservations:",e),t(0),r(0),a(0)}finally{u(!1)}},[]);return(0,o.useEffect)(()=>{c()},[c]),{totalCount:e,last30DaysCount:n,totalPoints:i,loading:s,refetch:c}},Lg=e=>{let{setPage:t}=e;const[n,r]=(0,o.useState)({name:"",phone:"",birthdate:"",gender:"",language:"English",payment:"",notifications:!0}),[i,a]=(0,o.useState)(""),[s,u]=(0,o.useState)(!1),[c,l]=(0,o.useState)([]),[h,f]=(0,o.useState)("Silver"),{totalCount:d,last30DaysCount:p,totalPoints:m,loading:g}=Rg();(0,o.useEffect)(()=>{const e=gg.onAuthStateChanged(async e=>{if(e)try{const t=await vg.collection("users").doc(e.uid).get();if(t.exists){const e=t.data();r(t=>({...t,name:e.name||"",phone:e.phone||"",birthdate:e.birthdate||"",gender:e.gender||""})),f((e.points||0)>250?"Gold":"Silver")}const n=(await vg.collection("reservas").where("userId","==",e.uid).orderBy("date","desc").limit(30).get()).docs.map(e=>({id:e.id,...e.data()}));l(n)}catch(t){console.error("Error fetching user or reservations",t)}});return()=>e()},[]);const v=e=>{const{name:t,value:n,type:i,checked:o}=e.target;r(e=>({...e,[t]:"checkbox"===i?o:n}))};return(0,bg.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-start p-6 space-y-12",children:[(0,bg.jsxs)("section",{className:"profile-header text-center space-y-3 max-w-md w-full",children:[(0,bg.jsx)("div",{className:"avatar w-24 h-24 mx-auto rounded-full bg-gray-300"}),(0,bg.jsx)("h1",{className:"text-2xl font-bold",children:n.name||"User"}),(0,bg.jsxs)("div",{className:"user-summary text-sm text-gray-600 space-y-1",children:[n.phone&&(0,bg.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,bg.jsx)(Pg,{}),(0,bg.jsx)("span",{children:n.phone})]}),n.birthdate&&(0,bg.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,bg.jsx)(jg,{}),(0,bg.jsx)("span",{children:new Date(n.birthdate).toLocaleDateString("en-US")})]}),n.gender&&(0,bg.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,bg.jsx)(Og,{}),(0,bg.jsx)("span",{children:n.gender})]})]}),!s&&(0,bg.jsx)("button",{className:"btn mt-4 px-6 py-2 bg-black text-white rounded-full hover:bg-gray-800",onClick:()=>u(!0),children:"Edit Profile"}),s&&(0,bg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a("");try{const e=gg.currentUser;if(!e)return void a("Not authenticated.");if(!n.name.trim())return void a("Name cannot be empty.");await vg.collection("users").doc(e.uid).update({name:n.name,phone:n.phone,birthdate:n.birthdate,gender:n.gender,plan:h,updatedAt:new Date}),alert("Profile updated successfully."),u(!1)}catch(t){a("Error updating profile."),console.error(t)}},className:"mt-6 space-y-4 text-left max-w-md mx-auto bg-white p-6 rounded-lg shadow",children:[(0,bg.jsxs)("div",{children:[(0,bg.jsx)("label",{htmlFor:"name",className:"block mb-1 font-medium",children:"Full Name"}),(0,bg.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:v,placeholder:"Your full name",className:"w-full p-2 border rounded-lg"})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("label",{htmlFor:"phone",className:"block mb-1 font-medium",children:"Phone"}),(0,bg.jsx)("input",{type:"text",id:"phone",name:"phone",value:n.phone,onChange:v,placeholder:"Your phone number",className:"w-full p-2 border rounded-lg"})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("label",{htmlFor:"birthdate",className:"block mb-1 font-medium",children:"Birthdate"}),(0,bg.jsx)("input",{type:"date",id:"birthdate",name:"birthdate",value:n.birthdate,onChange:v,className:"w-full p-2 border rounded-lg"})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("label",{htmlFor:"gender",className:"block mb-1 font-medium",children:"Gender"}),(0,bg.jsxs)("select",{id:"gender",name:"gender",value:n.gender,onChange:v,className:"w-full p-2 border rounded-lg",children:[(0,bg.jsx)("option",{value:"",children:"Select"}),(0,bg.jsx)("option",{value:"Male",children:"Male"}),(0,bg.jsx)("option",{value:"Female",children:"Female"}),(0,bg.jsx)("option",{value:"Other",children:"Other"}),(0,bg.jsx)("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("label",{htmlFor:"language",className:"block mb-1 font-medium",children:"Preferred Language"}),(0,bg.jsxs)("select",{id:"language",name:"language",value:n.language,onChange:v,className:"w-full p-2 border rounded-lg",children:[(0,bg.jsx)("option",{children:"English"}),(0,bg.jsx)("option",{children:"Spanish"})]})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("label",{className:"block mb-1 font-medium",children:"Membership Plan"}),(0,bg.jsx)("p",{className:"p-2 border rounded-lg bg-gray-100",children:h})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("label",{htmlFor:"payment",className:"block mb-1 font-medium",children:"Payment Method"}),(0,bg.jsx)("input",{type:"text",id:"payment",name:"payment",value:n.payment,onChange:v,placeholder:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 1234",className:"w-full p-2 border rounded-lg"})]}),(0,bg.jsxs)("div",{className:"toggle flex items-center space-x-2",children:[(0,bg.jsx)("input",{type:"checkbox",id:"notifications",name:"notifications",checked:n.notifications,onChange:v,className:"h-4 w-4"}),(0,bg.jsx)("label",{htmlFor:"notifications",children:"Receive notifications"})]}),i&&(0,bg.jsx)("p",{className:"text-red-600",children:i}),(0,bg.jsx)("button",{type:"submit",className:"btn px-6 py-2 bg-black text-white rounded-full hover:bg-gray-800",children:"Save Changes"})]})]}),(0,bg.jsxs)("section",{className:"summary grid grid-cols-2 md:grid-cols-5 gap-4 text-center max-w-4xl w-full",children:[(0,bg.jsxs)("div",{className:"card bg-white p-4 rounded-lg shadow",children:[(0,bg.jsx)("h3",{className:"text-xl font-bold",children:p}),(0,bg.jsx)("p",{children:"Tickets (last 30 days)"})]}),(0,bg.jsxs)("div",{className:"card bg-white p-4 rounded-lg shadow",children:[(0,bg.jsx)("h3",{className:"text-xl font-bold",children:m}),(0,bg.jsx)("p",{children:"Points accumulated"})]}),(0,bg.jsxs)("div",{className:"card bg-white p-4 rounded-lg shadow",children:[(0,bg.jsx)("h3",{className:"text-xl font-bold",children:h}),(0,bg.jsx)("p",{children:"Current Plan"})]}),(0,bg.jsxs)("div",{className:"card bg-white p-4 rounded-lg shadow",children:[(0,bg.jsx)("h3",{className:"text-xl font-bold",children:c[0]?new Date(c[0].date).toLocaleDateString("en-US"):"\u2014"}),(0,bg.jsx)("p",{children:"Next Reservation"})]}),(0,bg.jsxs)("div",{className:"card bg-white p-4 rounded-lg shadow",children:[(0,bg.jsx)("h3",{className:"text-xl font-bold",children:d}),(0,bg.jsx)("p",{children:"Total Reservations"})]})]}),(0,bg.jsxs)("section",{className:"history max-w-4xl w-full text-center",children:[(0,bg.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Reservation History"}),(0,bg.jsxs)("div",{className:"history-list space-y-4 flex flex-col items-center",children:[c.map(e=>(0,bg.jsxs)("div",{className:"history-item flex items-center space-x-4 bg-white p-4 rounded-lg shadow w-full max-w-md",children:[(0,bg.jsx)("div",{className:"thumb w-16 h-16 bg-gray-300 rounded"}),(0,bg.jsxs)("div",{className:"info text-left",children:[(0,bg.jsx)("strong",{children:e.movieTitle}),(0,bg.jsx)("br",{}),(0,bg.jsxs)("span",{className:"status text-gray-500 text-sm",children:[new Date(e.date).toLocaleDateString("en-US")," \u2022"," ",e.room," \u2022 ",e.status]})]})]},e.id)),0===c.length&&(0,bg.jsx)("p",{children:"No past reservations."})]})]})]})};function Mg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function Fg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function Ug(e){return Ag({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M325.3 234.3L104.6 13l280.8 161.2-60.1 60.1zM47 0C34 6.8 25.3 19.2 25.3 35.3v441.3c0 16.1 8.7 28.5 21.7 35.3l256.6-256L47 0zm425.2 225.6l-58.9-34.1-65.7 64.5 65.7 64.5 60.1-34.1c18-14.3 18-46.5-1.2-60.8zM104.6 499l280.8-161.2-60.1-60.1L104.6 499z"},child:[]}]})(e)}function Vg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Bg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function qg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function zg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Hg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Kg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function Wg(e){return Ag({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const Gg=()=>(0,bg.jsxs)("footer",{className:"bg-black/90 text-white text-sm py-8 px-6 w-full",children:[(0,bg.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-5 gap-8 border-b pb-6",children:[(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h3",{className:"font-semibold mb-4",children:"CINEMA"}),(0,bg.jsx)("p",{className:"text-white",children:"Enjoy the best cinematic experience with us."})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h4",{className:"font-semibold mb-4",children:"Company"}),(0,bg.jsxs)("ul",{className:"space-y-2",children:[(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"About Us"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Work With Us"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Cinema Business"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Customer Service"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Institutional Support"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Transparency"})})]})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h4",{className:"font-semibold mb-4",children:"Experiences"}),(0,bg.jsxs)("ul",{className:"space-y-2",children:[(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Events"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Luxury Cinemas"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Premium Rooms"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Kids & Schools"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Special Cycles"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Blog"})})]})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h4",{className:"font-semibold mb-4",children:"Legal"}),(0,bg.jsxs)("ul",{className:"space-y-2",children:[(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Legal Notice"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Purchase Conditions"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Unlimited Card Terms"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Privacy Policy"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Cookies Policy"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Modern Slavery Statement"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Code of Ethics"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)("a",{href:"#",className:"hover:text-[#00A1E4]",children:"Whistleblowing Policy"})})]})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h4",{className:"font-semibold mb-4",children:"Get Our App"}),(0,bg.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,bg.jsx)("a",{href:"#","aria-label":"Download on App Store",className:"hover:text-[#00A1E4] text-2xl",children:(0,bg.jsx)(Mg,{})}),(0,bg.jsx)("a",{href:"#","aria-label":"Download on Google Play",className:"hover:text-[#00A1E4] text-2xl",children:(0,bg.jsx)(Ug,{})})]}),(0,bg.jsx)("h4",{className:"font-semibold mb-4",children:"Follow Us"}),(0,bg.jsxs)("div",{className:"flex space-x-4 text-xl text-blue-300",children:[(0,bg.jsx)("a",{href:"#","aria-label":"Facebook",className:"hover:text-[#00A1E4]",children:(0,bg.jsx)(Fg,{})}),(0,bg.jsx)("a",{href:"#","aria-label":"Twitter",className:"hover:text-[#00A1E4]",children:(0,bg.jsx)(Bg,{})}),(0,bg.jsx)("a",{href:"#","aria-label":"Instagram",className:"hover:text-[#00A1E4]",children:(0,bg.jsx)(Vg,{})}),(0,bg.jsx)("a",{href:"#","aria-label":"YouTube",className:"hover:text-[#00A1E4]",children:(0,bg.jsx)(qg,{})})]})]})]}),(0,bg.jsxs)("div",{className:"mt-6 text-center text-blue-300",children:["\xa9 ",(new Date).getFullYear()," ",(0,bg.jsx)("a",{href:"https://github.com/rarubinat",className:"hover:underline hover:text-[#00A1E4]",children:"Alba Rubinat"})," ","| All rights reserved."]})]}),Qg=e=>{let{onLoginClick:t}=e;const[n,r]=(0,o.useState)(!1),[i,a]=(0,o.useState)(null),[s,u]=(0,o.useState)("User"),c=ee(),l=()=>r(!1);(0,o.useEffect)(()=>{const e=gg.onAuthStateChanged(async e=>{if(a(e),e){u(e.displayName||"User");try{const t=await vg.firestore().collection("users").doc(e.uid).get();if(t.exists){const n=t.data();u(n.name||e.displayName||"User")}}catch(t){console.error("Error fetching user data:",t)}}else u("User")});return()=>e()},[]);const h=async()=>{await gg.signOut(),l(),c("/")};return(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsxs)("nav",{className:"w-full fixed top-4 z-50 px-4",children:[(0,bg.jsxs)("div",{className:"max-w-5xl mx-auto bg-black/90 backdrop-blur-md text-white rounded-md shadow-lg px-6 py-3 flex justify-between items-center",children:[(0,bg.jsx)(_e,{to:"/home",onClick:l,className:"text-xl md:text-2xl font-bold tracking-wide uppercase no-underline hover:no-underline",children:"CINEMA"}),(0,bg.jsxs)("ul",{className:"hidden md:flex gap-8 text-sm font-medium",children:[(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/films",className:"hover:text-gray-300 transition-colors no-underline hover:no-underline",children:"Films"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/promotions",className:"hover:text-gray-300 transition-colors no-underline hover:no-underline",children:"Promotions"})}),i&&(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/fidelity",className:"hover:text-gray-300 transition-colors no-underline hover:no-underline",children:"Fidelity"})}),i&&(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/view-reservations",className:"hover:text-gray-300 transition-colors no-underline hover:no-underline",children:"My Bookings"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/edit-profile",className:"hover:text-gray-300 transition-colors no-underline hover:no-underline",children:"Profile"})})]})]}),(0,bg.jsx)("div",{className:"hidden md:flex items-center gap-4",children:i?(0,bg.jsxs)(bg.Fragment,{children:[(0,bg.jsxs)("span",{className:"text-sm font-medium",children:["Hi, ",s,"!"]}),(0,bg.jsx)("button",{onClick:h,className:"text-sm hover:text-gray-300 transition-colors",children:"Log Out"})]}):(0,bg.jsx)("button",{onClick:t,className:"text-sm hover:text-gray-300 transition-colors",children:"Sign in"})}),(0,bg.jsx)("div",{className:"md:hidden text-xl cursor-pointer",onClick:()=>r(!n),children:n?(0,bg.jsx)(Wg,{}):(0,bg.jsx)(zg,{})})]}),(0,bg.jsxs)("div",{className:"md:hidden fixed inset-0 bg-white text-black z-40 overflow-y-auto transition-all duration-500 ease-in-out transform "+(n?"opacity-100 scale-100 pointer-events-auto":"opacity-0 scale-95 pointer-events-none"),children:[(0,bg.jsx)("div",{className:"absolute top-6 right-6 text-3xl cursor-pointer",onClick:l,children:(0,bg.jsx)(Wg,{})}),(0,bg.jsxs)("ul",{className:"flex flex-col justify-center items-center h-full gap-10 text-2xl font-bold uppercase",children:[(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/films",onClick:l,className:"px-6 py-4 w-full text-center hover:bg-gray-200 transition-colors rounded-md no-underline hover:no-underline",children:"Films"})}),(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/promotions",onClick:l,className:"px-6 py-4 w-full text-center hover:bg-gray-200 transition-colors rounded-md no-underline hover:no-underline",children:"Promotions"})}),i&&(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/fidelity",onClick:l,className:"px-6 py-4 w-full text-center hover:bg-gray-200 transition-colors rounded-md no-underline hover:no-underline",children:"Fidelity"})}),i&&(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/view-reservations",onClick:l,className:"px-6 py-4 w-full text-center hover:bg-gray-200 transition-colors rounded-md no-underline hover:no-underline",children:"My Bookings"})}),i&&(0,bg.jsx)("li",{children:(0,bg.jsx)(_e,{to:"/edit-profile",onClick:l,className:"px-6 py-4 w-full text-center hover:bg-gray-200 transition-colors rounded-md no-underline hover:no-underline",children:"Profile"})}),(0,bg.jsx)("li",{children:i?(0,bg.jsx)("button",{onClick:h,className:"px-6 py-4 w-full text-center hover:bg-gray-200 transition-colors rounded-md no-underline hover:no-underline",children:"Log Out"}):(0,bg.jsx)("button",{onClick:()=>{l(),t()},className:"px-6 py-4 w-full text-center hover:bg-gray-200 transition-colors rounded-md no-underline hover:no-underline",children:"Sign in"})})]})]})]}),(0,bg.jsx)("div",{className:"h-20"})]})},$g=()=>(0,bg.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-white text-black font-sans z-50",children:(0,bg.jsxs)("svg",{className:"w-12 h-12 text-black animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,bg.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,bg.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),Yg=Le("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),Xg=Le("popcorn",[["path",{d:"M18 8a2 2 0 0 0 0-4 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0 0 4",key:"10td1f"}],["path",{d:"M10 22 9 8",key:"yjptiv"}],["path",{d:"m14 22 1-14",key:"8jwc8b"}],["path",{d:"M20 8c.5 0 .9.4.8 1l-2.6 12c-.1.5-.7 1-1.2 1H7c-.6 0-1.1-.4-1.2-1L3.2 9c-.1-.6.3-1 .8-1Z",key:"1qo33t"}]]),Jg=Le("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Zg=Le("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ev=Le("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),tv=Le("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),nv=Le("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),rv=()=>{const e=ee(),t=Object.entries(yg).filter(e=>{let[,t]=e;return"NOW_SHOWING"===t.category}),n=Object.entries(yg).filter(e=>{let[,t]=e;return"COMING_SOON"===t.category}),[r,i]=(0,o.useState)(0),a=t.length-4;return(0,bg.jsx)("div",{className:"bg-white text-black font-sans",children:(0,bg.jsxs)("main",{className:"container mx-auto px-6 md:px-12",children:[(0,bg.jsxs)("section",{className:"hero py-16 flex flex-col md:flex-row items-center gap-10",children:[(0,bg.jsxs)("div",{className:"flex-1",children:[(0,bg.jsxs)("h1",{className:"text-5xl font-extrabold mb-4 leading-tight",children:["Live the cinema experience ",(0,bg.jsx)("br",{})," like never before"]}),(0,bg.jsx)("p",{className:"mb-6 text-lg text-gray-600 max-w-xl",children:"Always updated movie listings, premium auditoriums and a loyalty program designed for you and your company."}),(0,bg.jsxs)("div",{className:"flex gap-4",children:[(0,bg.jsx)("a",{href:"#showtimes",className:"bg-black text-white px-6 py-3 rounded-full font-medium hover:opacity-80",children:"Buy Tickets"}),(0,bg.jsx)("a",{href:"#memberships",className:"border border-black px-6 py-3 rounded-full font-medium hover:bg-black hover:text-white",children:"Join Cinema Club"})]})]}),(0,bg.jsx)("div",{className:"poster-hero flex justify-center items-center",children:(0,bg.jsx)(Yg,{size:160,strokeWidth:1,className:"text-gray-800"})})]}),(0,bg.jsxs)("section",{id:"now-playing",className:"py-12",children:[(0,bg.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Now Playing"}),(0,bg.jsxs)("div",{className:"relative",children:[(0,bg.jsx)("button",{onClick:()=>i(r>0?r-1:a),className:"absolute left-0 top-1/2 -translate-y-1/2 bg-black text-white p-2 rounded-full z-10 hover:opacity-80",children:"\u2039"}),(0,bg.jsx)("button",{onClick:()=>i(r<a?r+1:0),className:"absolute right-0 top-1/2 -translate-y-1/2 bg-black text-white p-2 rounded-full z-10 hover:opacity-80",children:"\u203a"}),(0,bg.jsx)("div",{className:"overflow-hidden",children:(0,bg.jsx)("div",{className:"flex transition-transform duration-500",style:{transform:`translateX(-${25*r}%)`},children:t.map(t=>{let[n,r]=t;return(0,bg.jsx)("div",{className:"flex-shrink-0 w-1/4 px-2 cursor-pointer",onClick:()=>(t=>{e(`/movie/${encodeURIComponent(t)}`)})(n),children:(0,bg.jsx)("div",{className:"rounded-xl overflow-hidden shadow-md hover:shadow-lg border border-gray-200 transition",children:(0,bg.jsx)("img",{src:r.image,alt:n,className:"w-full object-cover"})})},n)})})})]}),(0,bg.jsx)("div",{className:"cta-center mt-6 text-center",id:"showtimes",children:(0,bg.jsx)("button",{className:"bg-black text-white px-8 py-3 rounded-full font-medium hover:opacity-90",children:"View Showtimes"})})]}),(0,bg.jsxs)("section",{className:"py-12",children:[(0,bg.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Coming Soon"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:n.map(e=>{let[t,n]=e;return(0,bg.jsxs)("div",{className:"rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition",children:[(0,bg.jsx)("div",{className:"h-60",children:(0,bg.jsx)("img",{src:n.image,alt:t,className:"w-full h-full object-cover"})}),(0,bg.jsxs)("div",{className:"p-4 text-center",children:[(0,bg.jsx)("h3",{className:"font-semibold",children:t}),(0,bg.jsx)("p",{className:"text-gray-500 text-sm",children:n.releaseDate})]})]},t)})})]}),(0,bg.jsxs)("section",{className:"py-12",children:[(0,bg.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Benefits & Services"}),(0,bg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,bg.jsxs)("article",{className:"p-6 text-center border rounded-lg hover:shadow-md",children:[(0,bg.jsx)(Xg,{className:"w-10 h-10 mx-auto mb-3 text-black"}),(0,bg.jsx)("h4",{className:"font-semibold",children:"Gourmet Snacks"}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:"Exclusive recipes and healthy options."})]}),(0,bg.jsxs)("article",{className:"p-6 text-center border rounded-lg hover:shadow-md",children:[(0,bg.jsx)(Yg,{className:"w-10 h-10 mx-auto mb-3 text-black"}),(0,bg.jsx)("h4",{className:"font-semibold",children:"Premium Auditoriums"}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:"Reclining seats and laser projection."})]}),(0,bg.jsxs)("article",{className:"p-6 text-center border rounded-lg hover:shadow-md",children:[(0,bg.jsx)(Jg,{className:"w-10 h-10 mx-auto mb-3 text-black"}),(0,bg.jsx)("h4",{className:"font-semibold",children:"Dolby Atmos"}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:"Next-generation immersive sound."})]}),(0,bg.jsxs)("article",{className:"p-6 text-center border rounded-lg hover:shadow-md",children:[(0,bg.jsx)(Zg,{className:"w-10 h-10 mx-auto mb-3 text-black"}),(0,bg.jsx)("h4",{className:"font-semibold",children:"Cinema Club"}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:"Points, rewards and exclusive presales."})]})]})]}),(0,bg.jsxs)("section",{id:"memberships",className:"py-12",children:[(0,bg.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Memberships"}),(0,bg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bg.jsxs)("div",{className:"p-6 border rounded-lg text-center hover:shadow-md",children:[(0,bg.jsx)("h3",{className:"font-bold text-xl mb-2",children:"Basic"}),(0,bg.jsx)("p",{className:"text-gray-600 mb-4",children:"Standard access to benefits"}),(0,bg.jsx)("p",{className:"text-2xl font-bold mb-4",children:"$9.99/month"}),(0,bg.jsx)("button",{className:"bg-black text-white px-6 py-2 rounded-full hover:opacity-90",children:"Subscribe"})]}),(0,bg.jsxs)("div",{className:"p-6 border rounded-lg text-center shadow-lg border-black",children:[(0,bg.jsx)("h3",{className:"font-bold text-xl mb-2",children:"Premium"}),(0,bg.jsx)("p",{className:"text-gray-600 mb-4",children:"Unlimited tickets and early access"}),(0,bg.jsx)("p",{className:"text-2xl font-bold mb-4",children:"$19.99/month"}),(0,bg.jsx)("button",{className:"bg-black text-white px-6 py-2 rounded-full hover:opacity-90",children:"Subscribe"})]}),(0,bg.jsxs)("div",{className:"p-6 border rounded-lg text-center hover:shadow-md",children:[(0,bg.jsx)("h3",{className:"font-bold text-xl mb-2",children:"Corporate"}),(0,bg.jsx)("p",{className:"text-gray-600 mb-4",children:"Exclusive benefits for companies"}),(0,bg.jsx)("p",{className:"text-2xl font-bold mb-4",children:"Contact us"}),(0,bg.jsx)("button",{className:"bg-black text-white px-6 py-2 rounded-full hover:opacity-90",children:"Contact"})]})]})]}),(0,bg.jsxs)("section",{className:"py-12",children:[(0,bg.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"What our customers say"}),(0,bg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bg.jsxs)("div",{className:"p-6 border rounded-lg shadow-sm",children:[(0,bg.jsx)(ev,{className:"w-6 h-6 text-black mb-3"}),(0,bg.jsx)("p",{className:"text-gray-600 mb-4",children:'"An amazing experience, premium rooms are the best."'}),(0,bg.jsx)("p",{className:"font-semibold",children:"Laura G."})]}),(0,bg.jsxs)("div",{className:"p-6 border rounded-lg shadow-sm",children:[(0,bg.jsx)(tv,{className:"w-6 h-6 text-black mb-3"}),(0,bg.jsx)("p",{className:"text-gray-600 mb-4",children:'"Perfect to go out with friends, the loyalty program is very useful."'}),(0,bg.jsx)("p",{className:"font-semibold",children:"Carlos M."})]}),(0,bg.jsxs)("div",{className:"p-6 border rounded-lg shadow-sm",children:[(0,bg.jsx)(Yg,{className:"w-6 h-6 text-black mb-3"}),(0,bg.jsx)("p",{className:"text-gray-600 mb-4",children:'"Definitely the best cinema in town."'}),(0,bg.jsx)("p",{className:"font-semibold",children:"Ana P."})]})]})]}),(0,bg.jsxs)("section",{className:"py-12",children:[(0,bg.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"News & Updates"}),(0,bg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,bg.jsxs)("div",{className:"p-6 border rounded-lg hover:shadow-md",children:[(0,bg.jsx)(nv,{className:"w-8 h-8 text-black mb-3"}),(0,bg.jsx)("h3",{className:"font-semibold mb-2",children:"New IMAX Auditorium"}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:"We inaugurated a new IMAX room with laser projection technology."})]}),(0,bg.jsxs)("div",{className:"p-6 border rounded-lg hover:shadow-md",children:[(0,bg.jsx)(nv,{className:"w-8 h-8 text-black mb-3"}),(0,bg.jsx)("h3",{className:"font-semibold mb-2",children:"Corporate Partnership"}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:"Exclusive discounts for affiliated companies."})]}),(0,bg.jsxs)("div",{className:"p-6 border rounded-lg hover:shadow-md",children:[(0,bg.jsx)(nv,{className:"w-8 h-8 text-black mb-3"}),(0,bg.jsx)("h3",{className:"font-semibold mb-2",children:"Film Festival"}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:"Our annual festival with exclusive premieres is coming soon."})]})]})]})]})})},iv=e=>{let{title:t,data:n}=e;const r=ee();return(0,bg.jsxs)("div",{onClick:()=>{r(`/movie/${encodeURIComponent(t)}`)},className:"bg-white rounded-xl overflow-hidden shadow hover:shadow-lg transition cursor-pointer flex flex-col h-full",children:[(0,bg.jsx)("img",{src:n.image,alt:t,className:"w-full h-72 object-cover"}),(0,bg.jsxs)("div",{className:"p-4 space-y-1 flex-grow",children:[(0,bg.jsx)("h3",{className:"text-lg font-semibold text-black",children:t}),(0,bg.jsx)("p",{className:"text-sm text-gray-600 truncate",children:n.genre}),(0,bg.jsxs)("p",{className:"text-xs text-gray-500",children:[n.duration," min"]})]})]})},ov=()=>{const[e,t]=(0,o.useState)("NOW_SHOWING"),n=Object.entries(yg).filter(t=>{let[n,r]=t;return"NOW_SHOWING"===e?"COMING_SOON"!==r.category:r.category===e});return(0,bg.jsxs)("div",{className:"min-h-screen bg-[#fdfcfb] px-6 md:px-12 py-10",children:[(0,bg.jsx)("h3",{className:"text-3xl font-bold text-black mb-6",children:"Films"}),(0,bg.jsx)("div",{className:"flex gap-3 mb-8",children:["NOW_SHOWING","COMING_SOON"].map(n=>(0,bg.jsx)("button",{onClick:()=>t(n),className:"px-4 py-1.5 text-sm font-medium rounded-full transition\n              "+(e===n?"bg-black text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"NOW_SHOWING"===n?"Now Playing":"Coming Soon"},n))}),(0,bg.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map(e=>{let[t,n]=e;return(0,bg.jsx)(iv,{title:t,data:n},t)})})]})},av=e=>{let{selectedDate:t,handleDateChange:n}=e;const[r,i]=(0,o.useState)(0),a=Array.from({length:7},(e,t)=>{const n=new Date;return n.setDate(n.getDate()+t),{date:(r=n,r.toISOString().split("T")[0]),label:n.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short"})};var r}),s=a.length-4,u=e=>{i(t=>"left"===e?Math.max(t-1,0):Math.min(t+1,s))},c=a.slice(r,r+4);return(0,bg.jsxs)("div",{className:"flex items-center gap-3 w-full max-w-screen-md mx-auto px-3",children:[(0,bg.jsx)("button",{onClick:()=>u("left"),disabled:0===r,className:"p-2 rounded-full border border-gray-300 text-gray-700 bg-white hover:bg-gray-100 transition "+(0===r?"opacity-30 cursor-not-allowed":""),children:(0,bg.jsx)(Hg,{})}),(0,bg.jsx)("div",{className:"flex flex-grow gap-3",children:c.map(e=>(0,bg.jsx)("button",{onClick:()=>n(e.date),className:"flex-grow text-center px-4 py-3 rounded-lg border transition font-medium "+(t===e.date?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"),children:e.label},e.date))}),(0,bg.jsx)("button",{onClick:()=>u("right"),disabled:r>=s,className:"p-2 rounded-full border border-gray-300 text-gray-700 bg-white hover:bg-gray-100 transition "+(r>=s?"opacity-30 cursor-not-allowed":""),children:(0,bg.jsx)(Kg,{})})]})},sv=()=>{var e;const{title:t}=function(){let{matches:e}=o.useContext($),t=e[e.length-1];return t?t.params:{}}(),n=ee(),r=yg[decodeURIComponent(t)],[i,a]=(0,o.useState)(""),[s,u]=(0,o.useState)(""),[c,l]=(0,o.useState)({message:"",visible:!1});if(!r)return(0,bg.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 text-gray-800 p-6",children:(0,bg.jsx)("p",{className:"text-xl font-semibold",children:"Movie not found."})});const h=i?r.showtimes:[];return(0,bg.jsxs)("div",{className:"min-h-screen bg-white text-gray-900 p-8 max-w-5xl mx-auto relative",children:[c.visible&&(0,bg.jsx)("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 w-full max-w-md px-4 z-50",children:(0,bg.jsxs)("div",{className:"flex items-center gap-3 bg-red-100 text-red-800 px-4 py-3 rounded-lg shadow-md border border-red-300",children:[(0,bg.jsx)("svg",{className:"w-5 h-5 shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,bg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,bg.jsx)("span",{className:"text-sm font-medium",children:c.message})]})}),(0,bg.jsxs)("div",{className:"mb-6",children:[(0,bg.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:t}),(0,bg.jsx)("div",{className:"flex flex-wrap gap-2",children:r.genre.split(",").map((e,t)=>(0,bg.jsx)("span",{className:"px-3 py-1 bg-gray-200 text-gray-800 rounded-full text-sm font-medium",children:e.trim()},t))})]}),(0,bg.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,bg.jsxs)("div",{className:"md:w-1/3 flex flex-col gap-4",children:[(0,bg.jsx)("div",{className:"rounded-lg overflow-hidden shadow-md max-w-[200px] mx-auto md:mx-0",children:(0,bg.jsx)("img",{src:r.image,alt:t,className:"w-full h-auto object-cover"})}),(0,bg.jsxs)("div",{className:"space-y-2 text-sm md:text-base",children:[(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Release Date:"})," ",r.releaseDate]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Duration:"})," ",r.duration," min"]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Writers:"})," ",r.writers.join(", ")]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Directors:"})," ",r.directors.join(", ")]})]})]}),(0,bg.jsxs)("div",{className:"md:w-2/3 flex flex-col gap-6",children:[(0,bg.jsxs)("div",{className:"p-4 bg-gray-50 border rounded-lg max-h-[200px] overflow-y-auto",children:[(0,bg.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Synopsis"}),(0,bg.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.synopsis})]}),(0,bg.jsx)(av,{selectedDate:i,handleDateChange:e=>{a(e),u("")}}),i&&(0,bg.jsxs)("div",{children:[(0,bg.jsxs)("h2",{className:"text-xl font-semibold mb-3",children:["Rooms and Showtimes for ",i]}),(0,bg.jsx)("div",{className:"flex flex-wrap gap-2",children:h.length>0?h.map((e,t)=>{let{time:n,room:r}=e;return(0,bg.jsxs)("button",{className:"px-4 py-2 rounded-lg border text-sm transition font-medium "+(s===n?"bg-black text-white border-black":"bg-white border-gray-300 text-gray-800 hover:bg-gray-100"),onClick:()=>u(n),children:[n," - ROOM ",r]},t)}):(0,bg.jsx)("p",{className:"text-gray-500",children:"No showtimes available for this date."})})]}),i&&s&&(0,bg.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 border rounded-lg text-sm",children:[(0,bg.jsxs)("p",{children:["Selected: ",(0,bg.jsx)("strong",{children:i})," at ",(0,bg.jsx)("strong",{children:s})]}),(0,bg.jsxs)("p",{children:["Room: ",null===(e=r.showtimes.find(e=>e.time===s))||void 0===e?void 0:e.room]})]}),(0,bg.jsx)("button",{className:"w-full mt-4 bg-black hover:bg-gray-800 text-white px-6 py-3 rounded-full font-semibold transition",onClick:()=>{if(!i||!s)return l({message:"Please select a date and time before continuing.",visible:!0}),void setTimeout(()=>l({message:"",visible:!1}),3e3);n("/reserveMovie",{state:{selectedMovie:decodeURIComponent(t),selectedDate:i,selectedTime:s}})},children:"Continue"})]})]})]})},uv=e=>{let{seatno:t,onSeatSelected:n,selectedMovie:r,selectedTime:i,selectedDate:a}=e;const[s,u]=(0,o.useState)(!1),[c,l]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{try{const n=(e=a)?new Date(e).toISOString().split("T")[0]:"",o=await vg.collection("reservas").where("selectedSeats","array-contains",t).where("selectedMovie","==",r).where("selectedTime","==",i).where("selectedDate","==",n).get();l(!o.empty)}catch(n){console.error("Error al verificar el asiento registrado:",n)}var e})()},[t,r,i,a]);const h=`\n    flex items-center justify-center\n    w-5 h-5 sm:w-6 sm:h-6\n    text-[9px] sm:text-[10px] font-medium\n    rounded-sm\n    transition-colors transition-transform duration-150\n    ${c?"bg-gray-200 cursor-not-allowed":s?"bg-gray-800 text-white scale-105":"bg-gray-500 hover:bg-gray-800 hover:text-white hover:scale-105 cursor-pointer"}\n  `;return(0,bg.jsx)("div",{className:"p-[2px]",children:(0,bg.jsx)("div",{className:h,onClick:()=>{if(c)return;const e=!s;u(e),n(e,t)},style:c?{pointerEvents:"none"}:{},children:s&&t})})},cv=(e,t,n,r,i)=>(0,bg.jsx)("div",{className:"flex justify-center gap-2 mb-2",children:e.map((e,o)=>null===e?(0,bg.jsx)("div",{className:"w-5 h-5"},`empty-${o}`):(0,bg.jsx)(uv,{seatno:e,onSeatSelected:t,selectedMovie:n,selectedTime:r,selectedDate:i},e))}),lv=e=>{let{onSeatSelection:t,selectedMovie:n,selectedTime:r,selectedDate:i}=e;const[a,s]=(0,o.useState)([]),u=(e,t)=>{s(n=>e?[...n,t]:n.filter(e=>e!==t))};(0,o.useEffect)(()=>{t(a)},[a,t]),(0,o.useEffect)(()=>{s([])},[n,r,i]);return(0,bg.jsxs)("div",{className:"rounded-xl p-6 max-w-lg mx-auto",children:[(0,bg.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-700",children:[(0,bg.jsxs)("div",{className:"flex items-center gap-1",children:[(0,bg.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded"})," Available"]}),(0,bg.jsxs)("div",{className:"flex items-center gap-1",children:[(0,bg.jsx)("div",{className:"w-3 h-3 bg-gray-800 rounded"})," Selected"]}),(0,bg.jsxs)("div",{className:"flex items-center gap-1",children:[(0,bg.jsx)("div",{className:"w-3 h-3 bg-gray-300 rounded"})," Unavailable"]})]}),(0,bg.jsx)("div",{className:"mt-4 flex justify-center",children:(0,bg.jsx)("div",{className:"screen-shape text-center text-sm",children:"screen"})}),(0,bg.jsx)("div",{className:"mt-4 flex flex-col items-center",children:[[null,null,null,1,2,3,null,null,null],[null,null,4,5,6,7,8,null,null],[null,9,10,11,12,13,14,15,null],[16,17,18,19,20,21,22,23,24],[25,26,27,28,29,30,31,32,33],[null,34,35,36,37,38,39,40,null],[null,null,41,42,43,44,45,null,null]].map((e,t)=>(0,bg.jsx)("div",{className:"flex gap-2",children:cv(e,u,n,r,i)},t))})]})},hv=()=>{var e;const t=J(),n=ee(),{selectedMovie:r,selectedDate:i,selectedTime:a}=t.state||{},s=yg[r],[u,c]=(0,o.useState)([]),[l,h]=(0,o.useState)({message:"",visible:!1}),f=null===s||void 0===s||null===(e=s.showtimes)||void 0===e?void 0:e.find(e=>e.time===a),d=(null===f||void 0===f?void 0:f.room)||"",p=7.5*u.length;return s?(0,bg.jsxs)("div",{className:"min-h-screen bg-white text-gray-900 p-8 max-w-5xl mx-auto relative",children:[l.visible&&(0,bg.jsx)("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 w-full max-w-md px-4 z-50",children:(0,bg.jsxs)("div",{className:"flex items-center gap-3 bg-red-100 text-red-800 px-4 py-3 rounded-lg shadow-md border border-red-300",children:[(0,bg.jsx)("svg",{className:"w-5 h-5 shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,bg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,bg.jsx)("span",{className:"text-sm font-medium",children:l.message})]})}),(0,bg.jsx)("h1",{className:"text-4xl font-bold mb-8",children:r}),(0,bg.jsxs)("div",{className:"space-y-8",children:[(0,bg.jsxs)("div",{className:"p-4 bg-gray-50 border rounded-lg flex items-start justify-between gap-6",children:[(0,bg.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Film:"})," ",r]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Date:"})," ",i]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Time:"})," ",a]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Room:"})," ",d||"No definida"]})]}),(0,bg.jsx)("div",{className:"w-32 h-48 rounded-lg overflow-hidden shadow-md shrink-0",children:(0,bg.jsx)("img",{src:s.image,alt:r,className:"w-full h-full object-cover"})})]}),(0,bg.jsxs)("div",{children:[(0,bg.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Select your seats"}),(0,bg.jsx)(lv,{onSeatSelection:e=>{c(e)},selectedMovie:r,selectedTime:a,selectedDate:i,savedReservations:[],room:d})]}),u.length>0&&(0,bg.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 border rounded-lg space-y-4",children:[(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Seats selected:"})," ",u.join(", ")]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Price:"})," ",p.toFixed(2)," \u20ac"]}),(0,bg.jsx)("button",{onClick:()=>{if(!u.length)return h({message:e="Please select at least one seat.",visible:!0}),void setTimeout(()=>{h({message:e,visible:!1})},3e3);var e;n("/SnacksPage",{state:{selectedMovie:r,selectedDate:i,selectedTime:a,selectedSeats:u,room:d,moviePrice:7.5,image:s.image}})},className:"w-full py-3 px-6 rounded-full font-semibold text-white bg-black hover:bg-gray-800 transition",children:"Continue to Snacks"})]})]})]}):(0,bg.jsx)("div",{className:"flex items-center justify-center min-h-screen text-gray-800 p-6",children:(0,bg.jsx)("h3",{className:"text-3xl font-bold text-black mb-6",children:"Not found."})})},fv=[{id:1,name:"Small Popcorn",description:"Classic buttered popcorn, perfect for one.",price:4,icon:"Popcorn"},{id:2,name:"Large Popcorn",description:"Big bucket of buttery popcorn to share.",price:6.5,icon:"Popcorn"},{id:3,name:"Coca-Cola Small",description:"Refreshing 250ml Coke.",price:3,icon:"CupSoda"},{id:4,name:"Coca-Cola Large",description:"Refreshing 500ml Coke.",price:4.5,icon:"CupSoda"},{id:5,name:"Combo: Large Popcorn + Large Coke",description:"Perfect combo for movie night.",price:9,icon:"Popcorn"}],dv=()=>{const e=J(),t=ee(),{selectedMovie:n,selectedDate:r,selectedTime:i,selectedSeats:a=[],room:s,moviePrice:u=0,image:c}=e.state||{},[l,h]=(0,o.useState)([]),f=l.reduce((e,t)=>e+t.foodPrice,0),d=a.length*u,p=d+f;return(0,bg.jsxs)("div",{className:"min-h-screen bg-white text-gray-900 p-8 max-w-5xl mx-auto",children:[(0,bg.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Snacks & Drinks"}),(0,bg.jsx)("p",{className:"mb-8 text-gray-600",children:"Add some popcorn and Coca-Cola to make your movie even better \ud83c\udf89"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:fv.map(e=>{const t=l.find(t=>t.id===e.id);return(0,bg.jsxs)("div",{className:"bg-gray-50 border rounded-2xl p-6 text-center shadow-sm hover:shadow-lg transition",children:[(0,bg.jsx)("h3",{className:"text-lg font-bold mb-2",children:e.name}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:e.description}),(0,bg.jsxs)("p",{className:"text-black font-semibold mt-2",children:[e.price.toFixed(2)," \u20ac"]}),(0,bg.jsx)("button",{onClick:()=>(e=>{h(t=>t.find(t=>t.id===e.id)?t:[...t,{id:e.id,snack:e.name,price:e.price,quantity:1,foodPrice:e.price,QuantitySnack:1}])})(e),disabled:!!t,className:"mt-4 w-full py-2 rounded-full text-white transition "+(t?"bg-green-600":"bg-red-600 hover:bg-red-700"),children:t?`Added \u2705 (${t.QuantitySnack})`:"Add"})]},e.id)})}),(0,bg.jsx)("div",{className:"mb-6 text-center",children:(0,bg.jsx)("button",{onClick:()=>t("/Payment",{state:{selectedMovie:n,selectedDate:r,selectedTime:i,selectedSeats:a,room:s,image:c,snacks:[],foodPrice:0,totalPrice:d}}),className:"mt-2 w-full py-3 px-6 rounded-full font-semibold text-white bg-gray-500 hover:bg-gray-600 transition",children:"No quiero snacks, continuar"})}),(0,bg.jsxs)("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-2",children:[(0,bg.jsx)("h2",{className:"text-xl font-bold",children:"Order Summary"}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Seats:"})," ",a.join(", ")," (",d.toFixed(2)," \u20ac)"]}),l.length>0&&(0,bg.jsx)("ul",{children:l.map(e=>(0,bg.jsxs)("li",{className:"flex justify-between items-center my-1",children:[(0,bg.jsxs)("span",{children:[e.snack," x",e.QuantitySnack," \u2014 ",e.foodPrice.toFixed(2)," \u20ac"]}),(0,bg.jsxs)("div",{className:"flex space-x-2",children:[(0,bg.jsx)("button",{onClick:()=>(e=>{h(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity-1,foodPrice:(t.quantity-1)*t.price,QuantitySnack:t.quantity-1}:t).filter(e=>e.quantity>=0))})(e.id),className:"bg-gray-300 px-2 rounded hover:bg-gray-400",children:"-"}),(0,bg.jsx)("button",{onClick:()=>(e=>{h(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity+1,foodPrice:(t.quantity+1)*t.price,QuantitySnack:t.quantity+1}:t))})(e.id),className:"bg-gray-300 px-2 rounded hover:bg-gray-400",children:"+"})]})]},e.id))}),(0,bg.jsxs)("p",{className:"font-bold text-lg mt-2",children:["Total: ",p.toFixed(2)," \u20ac"]}),(0,bg.jsx)("button",{onClick:()=>{t("/Payment",{state:{selectedMovie:n,selectedDate:r,selectedTime:i,selectedSeats:a,room:s,image:c,snacks:l.length>0?l:[],foodPrice:f,totalPrice:p}})},className:"mt-4 w-full py-3 px-6 rounded-full font-semibold text-white bg-black hover:bg-gray-800 transition",children:"Proceed to Payment"})]})]})},pv=()=>{const e=J(),t=ee(),{selectedMovie:n,selectedDate:r,selectedTime:i,selectedSeats:a,room:s,totalPrice:u,selectedFood:c,foodPrice:l}=e.state||{},[h,f]=(0,o.useState)("4242 4242 4242 4242"),[d,p]=(0,o.useState)("12/34"),[m,g]=(0,o.useState)("123"),[v,y]=(0,o.useState)("John Doe"),[b,w]=(0,o.useState)(""),[x,S]=(0,o.useState)("Spain"),[E,k]=(0,o.useState)(!1),[I,N]=(0,o.useState)({message:"",visible:!1}),[T,_]=(0,o.useState)(!1),[C,A]=(0,o.useState)(null),D=[{id:"d1",name:"10% Off",value:.1},{id:"d2",name:"20% Off",value:.2},{id:"d3",name:"Student 15% Off",value:.15}],[j,P]=(0,o.useState)(D),[O,R]=(0,o.useState)(null),L="1995-08-20";(0,o.useEffect)(()=>{const e=new Date,t=new Date(r);let n=[];e.getDate()===new Date(L).getDate()&&e.getMonth()===new Date(L).getMonth()&&n.push({id:"bday",name:"Birthday Free Ticket",value:1}),2===t.getDay()&&n.push({id:"tue",name:"2x1 Tuesday",value:.5}),P([...D,...n])},[r]);const M=e=>{N({message:e,visible:!0}),setTimeout(()=>N({message:"",visible:!1}),3e3)},F=e=>e.replace(/\D/g,"").replace(/(.{4})/g,"$1 ").trim(),U=e=>e.replace(/\D/g,"").replace(/(\d{2})(\d{1,2})?/,(e,t,n)=>n?`${t}/${n}`:t),V=u-(l||0);let B=V;if(O)if("bday"===O.id){const e=V/a.length;B=V-e}else if("tue"===O.id){const e=V/a.length,t=Math.floor(a.length/2),n=a.length%2;B=(t+n)*e}else B=V*(1-O.value);const q=B+(l||0);return n?T&&C?(0,bg.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white text-gray-900 p-8",children:[(0,bg.jsx)("div",{className:"flex items-center justify-center w-24 h-24 mb-6 rounded-full bg-green-100",children:(0,bg.jsx)("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,bg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,bg.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Payment Successful!"}),(0,bg.jsx)("p",{className:"text-lg mb-6",children:"Your reservation has been confirmed."}),(0,bg.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md w-full max-w-md space-y-2 border border-gray-200",children:[(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Ticket ID:"})," ",C.ticketId]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Movie:"})," ",C.selectedMovie]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Date:"})," ",C.selectedDate]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Time:"})," ",C.selectedTime]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Room:"})," ",C.room]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Seats:"})," ",C.selectedSeats.join(", ")]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Seat Price:"})," ",C.seatPrice.toFixed(2)," \u20ac"]}),C.foodPrice>0&&(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Food Price:"})," ",C.foodPrice.toFixed(2)," \u20ac"]}),C.appliedDiscount&&(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Discount:"})," ",C.appliedDiscount.name]}),(null===(z=C.snacks)||void 0===z?void 0:z.length)>0&&(0,bg.jsxs)("div",{children:[(0,bg.jsx)("strong",{children:"Snacks:"}),(0,bg.jsx)("ul",{className:"list-disc list-inside",children:C.snacks.map((e,t)=>(0,bg.jsxs)("li",{children:[e.name," x",e.quantity," \u2014 ",(e.price*e.quantity).toFixed(2)," \u20ac"]},t))})]}),(0,bg.jsxs)("p",{className:"mt-2 text-xl font-bold",children:["Total: ",C.totalPrice.toFixed(2)," \u20ac"]})]}),(0,bg.jsx)("button",{onClick:()=>t("/cinema"),className:"mt-6 bg-black text-white px-6 py-3 rounded-full hover:bg-gray-800 transition",children:"Back to Movies"})]}):(0,bg.jsxs)("div",{className:"min-h-screen text-gray-900 p-8 max-w-3xl mx-auto relative",children:[I.visible&&(0,bg.jsx)("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 w-full max-w-md px-4 z-50",children:(0,bg.jsxs)("div",{className:"flex items-center gap-3 bg-red-100 text-red-800 px-4 py-3 rounded-lg shadow-md border border-red-300",children:[(0,bg.jsx)("svg",{className:"w-5 h-5 shrink-0",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,bg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,bg.jsx)("span",{className:"text-sm font-medium",children:I.message})]})}),(0,bg.jsx)("h3",{className:"text-3xl font-bold text-black mb-6",children:"Payment"}),(0,bg.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md mb-8",children:[(0,bg.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Reservation Summary"}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Movie:"})," ",n]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Date:"})," ",r]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Time:"})," ",i]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Room:"})," ",s]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Seats:"})," ",a.join(", ")]}),(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Seat Price:"})," ",B.toFixed(2)," \u20ac"]}),l>0&&(0,bg.jsxs)("p",{children:[(0,bg.jsx)("strong",{children:"Food Price:"})," ",l.toFixed(2)," \u20ac"]}),(0,bg.jsxs)("div",{className:"mt-4",children:[(0,bg.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Available Discounts"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:j.map(e=>(0,bg.jsxs)("div",{onClick:()=>R(e),className:"cursor-pointer border rounded-xl p-4 flex flex-col items-center justify-center transition shadow-sm \n                  "+((null===O||void 0===O?void 0:O.id)===e.id?"border-black ring-2 ring-black":"border-gray-300 hover:border-black"),children:[(0,bg.jsx)("p",{className:"text-xl font-bold",children:e.name}),(0,bg.jsx)("p",{className:"text-gray-500",children:"bday"===e.id?"1 Free Ticket":"tue"===e.id?"2x1 Tuesday":100*e.value+"% off"}),(null===O||void 0===O?void 0:O.id)===e.id&&(0,bg.jsx)("span",{className:"mt-2 text-green-600 font-semibold",children:"\u2714 Selected"})]},e.id))})]}),(0,bg.jsxs)("p",{className:"mt-2 text-xl font-bold",children:["Total: ",q.toFixed(2)," \u20ac"]})]}),(0,bg.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md space-y-4",children:[(0,bg.jsx)("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Name on Card",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black"}),(0,bg.jsx)("input",{type:"text",value:F(h),onChange:e=>f(F(e.target.value)),placeholder:"Card Number",maxLength:19,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black"}),(0,bg.jsxs)("div",{className:"flex gap-4",children:[(0,bg.jsx)("input",{type:"text",value:U(d),onChange:e=>p(U(e.target.value)),placeholder:"MM/YY",maxLength:5,className:"w-1/2 border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black"}),(0,bg.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"CVV",maxLength:4,className:"w-1/2 border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black"})]}),(0,bg.jsx)("input",{type:"email",value:b,onChange:e=>w(e.target.value),placeholder:"Billing Email",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black"}),(0,bg.jsx)("input",{type:"text",value:x,onChange:e=>S(e.target.value),placeholder:"Billing Country",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black"}),(0,bg.jsx)("button",{onClick:async()=>{if(!v||!h||!d||!m||!b)return M("Please fill in all payment details.");if(16!==h.replace(/\s/g,"").length)return M("Card number must be 16 digits.");if(!/^\d{2}\/\d{2}$/.test(d))return M("Expiry must be in MM/YY format.");if(m.length<3||m.length>4)return M("CVV must be 3 or 4 digits.");k(!0);const e=gg.currentUser;if(!e)return k(!1),M("You must be logged in to make a payment.");const t={userId:e.uid,email:e.email,selectedMovie:n,selectedDate:r,selectedTime:i,selectedSeats:a,room:s,timestamp:new Date,totalPrice:q,seatPrice:B,foodPrice:l||0,ticketId:`T-${Date.now().toString(36)}-${Math.random().toString(36).substring(2,6)}`.toUpperCase(),billingEmail:b,billingCountry:x,snacks:c||[],appliedDiscount:O||null};try{await vg.collection("reservas").add(t),A(t),_(!0)}catch(o){console.error("Error saving reservation:",o),M("Error saving the reservation. Please try again.")}finally{k(!1)}},disabled:E,className:"w-full py-3 text-white rounded-full font-semibold transition "+(E?"bg-gray-400 cursor-not-allowed":"bg-black hover:bg-gray-800"),children:E?"Processing...":`Pay ${q.toFixed(2)} \u20ac`})]})]}):(0,bg.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 text-gray-800 p-6",children:(0,bg.jsx)("p",{className:"text-xl font-semibold",children:"No reservation data found."})});var z},mv=Le("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),gv=Le("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),vv=Le("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),yv=Le("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),bv=[{title:"2x1 Tuesdays",description:"Buy one ticket and get the second free every Tuesday.",icon:(0,bg.jsx)(mv,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Weekly"},{title:"Free Popcorn Combo",description:"Get a free popcorn with any large drink purchase on weekends.",icon:(0,bg.jsx)(Xg,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Weekend"},{title:"Student Discount",description:"15% off with valid student ID, all week long.",icon:(0,bg.jsx)(gv,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Always"},{title:"Birthday Special",description:"Enjoy a free ticket on your birthday! Celebrate with us \ud83c\udf89",icon:(0,bg.jsx)(vv,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Special"}],wv=[{movie:"Deadpool & Wolverine",description:"Buy your ticket and enter to win exclusive passes to the red carpet premiere.",icon:(0,bg.jsx)(Yg,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Premiere"},{movie:"28 A\xf1os Despu\xe9s",description:"Each ticket purchased gives you the chance to win an official merchandising survival pack.",icon:(0,bg.jsx)(Yg,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Contest"}],xv=[{title:"F1: The Movie \u2013 VIP Experience",description:"With every ticket, you\u2019re entered into a draw to win official F1 merchandise and access to a private screening.",icon:(0,bg.jsx)(yv,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Special"},{title:"S\xe9 lo que hicist\xe9is el \xfaltimo verano \u2013 Horror Mystery Pack",description:"Buy a ticket and join the contest to win an exclusive horror-themed mystery box full of surprises.",icon:(0,bg.jsx)(yv,{className:"w-10 h-10 mx-auto mb-4 text-black"}),badge:"Exclusive"}],Sv=()=>(0,bg.jsxs)("div",{className:"min-h-screen bg-[#fdfcfb] px-6 md:px-12 py-12",children:[(0,bg.jsx)("div",{children:(0,bg.jsx)("h1",{className:"text-3xl font-bold text-black mb-6",children:"Promotions & Contests"})}),(0,bg.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"General Promotions"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:bv.map((e,t)=>(0,bg.jsxs)("div",{className:"bg-white border rounded-2xl p-6 text-center shadow-sm hover:shadow-lg transition",children:[e.icon,(0,bg.jsx)("span",{className:"inline-block bg-black text-white text-xs font-semibold px-3 py-1 rounded-full mb-3",children:e.badge}),(0,bg.jsx)("h3",{className:"text-lg font-bold mb-2",children:e.title}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))}),(0,bg.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"Movie Specials"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:wv.map((e,t)=>(0,bg.jsxs)("div",{className:"bg-white border rounded-2xl p-6 text-center shadow-sm hover:shadow-lg transition",children:[e.icon,(0,bg.jsx)("span",{className:"inline-block bg-red-600 text-white text-xs font-semibold px-3 py-1 rounded-full mb-3",children:e.badge}),(0,bg.jsx)("h3",{className:"text-lg font-bold mb-2",children:e.movie}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))}),(0,bg.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"Contests"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:xv.map((e,t)=>(0,bg.jsxs)("div",{className:"bg-white border rounded-2xl p-6 text-center shadow-sm hover:shadow-lg transition",children:[e.icon,(0,bg.jsx)("span",{className:"inline-block bg-yellow-500 text-white text-xs font-semibold px-3 py-1 rounded-full mb-3",children:e.badge}),(0,bg.jsx)("h3",{className:"text-lg font-bold mb-2",children:e.title}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))})]}),Ev=Le("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),kv=[{title:"Earn Points",description:"Earn 20 points for every entry you purchase at our cinema.",icon:(0,bg.jsx)(mv,{className:"w-10 h-10 mx-auto mb-4 text-black"})},{title:"Redeem Rewards",description:"Use your points to get free popcorn, drinks, or tickets.",icon:(0,bg.jsx)(Xg,{className:"w-10 h-10 mx-auto mb-4 text-black"})},{title:"Birthday Bonus",description:"Receive 100 bonus points if you come on your birthday!",icon:(0,bg.jsx)(vv,{className:"w-10 h-10 mx-auto mb-4 text-black"})},{title:"Exclusive Tiers",description:"Unlock Silver, Gold, and Platinum tiers with extra perks based on your points.",icon:(0,bg.jsx)(yv,{className:"w-10 h-10 mx-auto mb-4 text-black"})}],Iv=[{tier:"Silver",min:0,max:250,description:["Earn extra discounts to our snacks!"],badge:"Level 1"},{tier:"Gold",min:251,max:1200,description:["General discounts","VIP screening invites"],badge:"Level 2"},{tier:"Platinum",min:1201,max:1/0,description:["General discounts","Exclusive cinema experiences","VIP screening invites","Free tickets for 3 seasons on a year"],badge:"Level 3"}],Nv=()=>{const{totalPoints:e}=Rg(),t=Iv.find(t=>e<t.min);return(0,bg.jsxs)("div",{className:"min-h-screen bg-[#fdfcfb] px-6 md:px-12 py-12",children:[(0,bg.jsx)("div",{className:"mb-12",children:(0,bg.jsx)("h3",{className:"text-3xl font-bold text-black mb-4",children:"Cinema Loyalty Program"})}),(0,bg.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"How It Works"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:kv.map((e,t)=>(0,bg.jsxs)("div",{className:"bg-white border rounded-2xl p-6 text-center shadow-sm hover:shadow-lg transition",children:[e.icon,(0,bg.jsx)("h3",{className:"text-lg font-bold mb-2",children:e.title}),(0,bg.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))}),(0,bg.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"Membership Tiers"}),(0,bg.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Iv.map((n,r)=>{const i=e>=n.min,o=e>=n.min&&(n.max===1/0||e<=n.max),a=n.max===1/0?i?100:0:Math.min(100,Math.max(0,(e-n.min)/(n.max-n.min)*100));return(0,bg.jsxs)("div",{className:`border rounded-2xl p-6 text-center shadow-sm transition relative\n                ${i?"bg-white hover:shadow-lg":"bg-gray-200 text-gray-400"}\n                ${o?"border-4 border-yellow-400":""}`,children:[!i&&(0,bg.jsx)("div",{className:"absolute top-4 right-4 text-gray-500",children:(0,bg.jsx)(Ev,{className:"w-6 h-6"})}),(0,bg.jsx)("span",{className:"inline-block text-xs font-semibold px-3 py-1 rounded-full mb-3 "+(i?"bg-yellow-500 text-white":"bg-gray-400 text-gray-200"),children:n.badge}),(0,bg.jsx)("h3",{className:"text-lg font-bold mb-2",children:n.tier}),(0,bg.jsx)("ul",{className:"text-sm mb-3 text-left mx-8",children:n.description.map((e,t)=>(0,bg.jsxs)("li",{className:"flex items-center mb-1",title:e,children:[(0,bg.jsx)(ev,{className:"w-4 h-4 mr-2 text-yellow-500"}),e]},t))}),(0,bg.jsx)("div",{className:"w-full bg-gray-300 rounded-full h-3 mb-2 overflow-hidden",children:(0,bg.jsx)("div",{className:"h-3 rounded-full transition-all duration-1000 "+(i?"bg-yellow-500":"bg-gray-400"),style:{width:`${a}%`}})}),(0,bg.jsxs)("p",{className:"text-xs mb-2",children:[e," / ",n.max===1/0?"\u221e":n.max," points"]}),o&&t&&(0,bg.jsxs)("p",{className:"text-xs text-gray-700 mt-1",children:[t.min-e," points to reach ",t.tier]})]},r)})})]})},Tv=e=>{let{embedded:t=!1,onSuccess:n,setPage:r}=e;const[i,a]=(0,o.useState)("alrubinat@gmail.com"),[s,u]=(0,o.useState)("123456"),[c,l]=(0,o.useState)(""),[h,f]=(0,o.useState)(""),d=ee();return(0,bg.jsx)("div",{className:"w-screen h-screen flex items-center justify-center bg-black/50 backdrop-blur-sm fixed inset-0 z-50",children:(0,bg.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-2xl relative",children:[t&&n&&(0,bg.jsx)("div",{className:"absolute top-4 right-4 text-2xl cursor-pointer text-gray-700 hover:text-black",onClick:n,children:"\xd7"}),(0,bg.jsx)("h2",{className:"text-3xl font-bold text-center text-[#0a1e3f] mb-6",children:"Log In"}),h&&(0,bg.jsx)("div",{className:"mb-4 p-3 rounded bg-green-600 text-white font-semibold text-center",children:h}),(0,bg.jsx)("input",{type:"email",placeholder:"Email",value:i,onChange:e=>a(e.target.value),className:"mb-3 w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:s,onChange:e=>u(e.target.value),className:"mb-3 w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsx)("button",{onClick:async()=>{l(""),f("");try{const e=(await gg.signInWithEmailAndPassword(i,s)).user;if(!(await vg.collection("users").doc(e.uid).get()).exists)return l("Tu cuenta no est\xe1 habilitada para iniciar sesi\xf3n."),void await gg.signOut();f("Login exitoso"),setTimeout(()=>{t&&n?n():d("/films")},800)}catch(e){let t="Usuario o contrase\xf1a incorrectos";"auth/user-not-found"===e.code?t="El usuario no existe":"auth/wrong-password"===e.code?t="Contrase\xf1a incorrecta":"auth/invalid-email"===e.code&&(t="Correo inv\xe1lido"),l(t)}},className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition font-semibold mt-2",children:"Log In"}),c&&(0,bg.jsx)("p",{className:"text-red-600 mt-3 text-center",children:c}),(0,bg.jsxs)("p",{className:"mt-6 text-center text-black",children:["Don't have an account?"," ",(0,bg.jsx)("span",{onClick:()=>{t&&r?r("Register"):d("/register")},className:"text-blue-600 cursor-pointer underline",children:"Sign up"})]})]})})},_v=e=>{let{embedded:t=!1,onSuccess:n,setPage:r}=e;const[i,a]=(0,o.useState)({name:"",email:"",password:"",confirmPassword:"",phone:"",birthdate:"",gender:"",acceptedTerms:!1}),[s,u]=(0,o.useState)(""),c=e=>{const{name:t,value:n,type:r,checked:i}=e.target;a(e=>({...e,[t]:"checkbox"===r?i:n}))};return(0,bg.jsx)("div",{className:"w-screen h-screen flex items-center justify-center bg-white",children:(0,bg.jsxs)("div",{className:"w-full max-w-md p-8 rounded-2xl shadow-2xl",children:[(0,bg.jsx)("h2",{className:"text-3xl font-bold text-center text-[#0a1e3f] mb-6",children:"Register"}),(0,bg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u("");const{name:o,email:a,password:s,confirmPassword:c,phone:l,birthdate:h,gender:f,acceptedTerms:d}=i;if(!d)return u("Debes aceptar los t\xe9rminos y condiciones.");if(!(e=>{if(!e)return!1;const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&r--,r>=13})(h))return u("Debes tener al menos 13 a\xf1os para registrarte.");if(s!==c)return u("Las contrase\xf1as no coinciden.");if(l&&!/^\d+$/.test(l))return u("El tel\xe9fono solo debe contener n\xfameros.");try{const{user:e}=await gg.createUserWithEmailAndPassword(a,s);await e.updateProfile({displayName:o}),await vg.collection("users").doc(e.uid).set({name:o,email:a,phone:l,birthdate:h,gender:f,plan:"Silver",createdAt:Mt.firestore.FieldValue.serverTimestamp()}),t&&n?n():r?r("Login"):alert("Registro exitoso. Ahora puedes iniciar sesi\xf3n.")}catch(p){u(p.message)}},className:"space-y-4",children:[(0,bg.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:i.name,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:i.password,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:i.confirmPassword,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone (optional)",value:i.phone,onChange:c,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsx)("input",{type:"date",name:"birthdate",value:i.birthdate,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black"}),(0,bg.jsxs)("select",{name:"gender",value:i.gender,onChange:c,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#004aad] text-black",children:[(0,bg.jsx)("option",{value:"",children:"Select gender (optional)"}),(0,bg.jsx)("option",{value:"Male",children:"Male"}),(0,bg.jsx)("option",{value:"Female",children:"Female"}),(0,bg.jsx)("option",{value:"Other",children:"Other"}),(0,bg.jsx)("option",{value:"Prefer not to say",children:"Prefer not to say"})]}),(0,bg.jsxs)("div",{className:"flex items-start text-black",children:[(0,bg.jsx)("input",{type:"checkbox",name:"acceptedTerms",checked:i.acceptedTerms,onChange:c,className:"mt-1 mr-2"}),(0,bg.jsxs)("label",{className:"text-sm",children:["I accept the"," ",(0,bg.jsx)("a",{href:"/terminos",target:"_blank",rel:"noreferrer",className:"text-blue-600 underline",children:"terms and conditions"})]})]}),s&&(0,bg.jsx)("p",{className:"text-red-600 text-center font-medium",children:s}),(0,bg.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition",children:"Sign up"}),(0,bg.jsxs)("p",{className:"mt-6 text-center text-black",children:["Already have an account?"," ",(0,bg.jsx)("span",{onClick:()=>r("Login"),className:"text-blue-600 cursor-pointer underline",children:"Sign in"})]})]})]})})},Cv=e=>{let{onClose:t}=e;const[n,r]=(0,o.useState)("Login"),[i,a]=(0,o.useState)(!1);(0,o.useEffect)(()=>{setTimeout(()=>a(!0),10)},[]);const s=()=>{a(!1),setTimeout(t,300)};return(0,bg.jsxs)("div",{id:"auth-backdrop",onClick:e=>{"auth-backdrop"===e.target.id&&s()},className:`fixed inset-0 z-50 bg-black/60 backdrop-blur-sm overflow-hidden\n        transition-transform duration-300 ease-in-out transform \n        ${i?"translate-x-0":"translate-x-full"}\n      `,children:[(0,bg.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-black text-3xl font-bold hover:text-gray-300 z-50",children:"\xd7"}),"Login"===n?(0,bg.jsx)(Tv,{embedded:!0,onSuccess:s,setPage:r}):(0,bg.jsx)(_v,{embedded:!0,onSuccess:s,setPage:r})]})},Av=()=>{const e=J(),[t,n]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{n(!0);const e=setTimeout(()=>n(!1),500);return()=>clearTimeout(e)},[e]),t?(0,bg.jsx)($g,{}):(0,bg.jsxs)(ve,{location:e,children:[(0,bg.jsx)(me,{path:"/",element:(0,bg.jsx)(rv,{})}),(0,bg.jsx)(me,{path:"/home",element:(0,bg.jsx)(rv,{})}),(0,bg.jsx)(me,{path:"/register",element:(0,bg.jsx)(_v,{})}),(0,bg.jsx)(me,{path:"/films",element:(0,bg.jsx)(ov,{})}),(0,bg.jsx)(me,{path:"/movie/:title",element:(0,bg.jsx)(sv,{})}),(0,bg.jsx)(me,{path:"/reservemovie",element:(0,bg.jsx)(hv,{})}),(0,bg.jsx)(me,{path:"/snackspage",element:(0,bg.jsx)(dv,{})}),(0,bg.jsx)(me,{path:"/payment",element:(0,bg.jsx)(pv,{})}),(0,bg.jsx)(me,{path:"/view-reservations",element:(0,bg.jsx)(wg,{})}),(0,bg.jsx)(me,{path:"/edit-profile",element:(0,bg.jsx)(Lg,{})}),(0,bg.jsx)(me,{path:"/promotions",element:(0,bg.jsx)(Sv,{})}),(0,bg.jsx)(me,{path:"/fidelity",element:(0,bg.jsx)(Nv,{})})]},e.pathname)},Dv=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(!1);(0,o.useEffect)(()=>{const e=()=>{r(window.scrollY>200)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);return(0,bg.jsx)(Ie,{children:(0,bg.jsxs)("div",{className:"flex flex-col min-h-screen bg-[#fdfcfb] text-black font-sans relative",children:[(0,bg.jsx)(Qg,{onLoginClick:()=>t(!0)}),(0,bg.jsx)("main",{className:"flex-grow px-6 py-8",children:(0,bg.jsx)(Av,{})}),(0,bg.jsx)(Gg,{}),n&&(0,bg.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 right-6 bg-black text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-125 hover:shadow-[0_0_15px_rgba(0,0,0,0.5)] z-50 flex items-center justify-center","aria-label":"Subir",children:(0,bg.jsx)(Me,{className:"w-5 h-5 font-bold animate-bounce",strokeWidth:3,color:"white"})}),e&&(0,bg.jsx)(Cv,{onClose:()=>t(!1)})]})})};i.createRoot(document.getElementById("root")).render((0,bg.jsx)(Dv,{}))})();
//# sourceMappingURL=main.e3ef177b.js.map